const __vite__fileDeps=["static/js/index-DdkvzOGX.js","static/js/vendor-DIBEN6EK.js","static/js/createSvgIcon-C-Bc87oz.js","static/js/index-S3WAJd0u.js","static/js/DashboardWidgets-tQ4q5Sci.js","static/js/DashboardContent-DhnY98pE.js","static/js/Edit-HsSHVB_y.js","static/js/index-CB9e1EgN.js","static/js/index-B9mcSb6Y.js","static/js/index-_vD1Zyzl.js","static/js/ContentCopy-_ykwHnnF.js","static/css/index-C5isHALn.css","static/js/index-BBa_G8Hn.js","static/js/index-DZulZ4_3.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
var W=Object.defineProperty;var q=(e,t,r)=>t in e?W(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var v=(e,t,r)=>(q(e,typeof t!="symbol"?t+"":t,r),r);import{c as V,g as y,u as J,j as n,A as $,a as M,i as Q,T as P,b as Y,R as N,r as K,S as X,d as B,e as j,f as g,L as Z,h as tt,G as D,F as et,I as rt,k as st,M as p,B as C,D as F,C as ot,l as it,m as I,z as _,n as nt,o as at,p as ct,q as ht}from"./vendor-DIBEN6EK.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();const{transitions:b}=V(),m="#ed0500",dt="#ded5d5",lt=V({shape:{borderRadius:5},palette:{primary:{main:y[900],light:y[200]},secondary:{main:m,dark:"#c10400",light:y[200]},background:{default:"white",paper:"white"}},components:{MuiLink:{styleOverrides:{root:{transition:b.create("color",{duration:b.duration.enteringScreen}),"&:hover":{color:m}}}},MuiTabs:{styleOverrides:{flexContainer:{gap:"10px"},indicator:{backgroundColor:m}}},MuiButton:{styleOverrides:{contained:{"&:hover":{background:y[800]}},outlined:{"&:hover":{color:m,borderColor:m,background:"white"}},text:{"&:hover":{color:m,borderColor:m}}}},MuiTab:{defaultProps:{color:"secondary"},styleOverrides:{root:{fontSize:"1rem",borderRadius:"5px","&:hover":{background:y[200]}}}},MuiIconButton:{styleOverrides:{root:{transition:b.create("color",{duration:b.duration.enteringScreen}),color:y[900],"&:hover":{color:m}}}},MuiSwitch:{defaultProps:{color:"secondary"}},MuiToggleButton:{defaultProps:{color:"secondary"},styleOverrides:{root:{transition:b.create("color",{duration:b.duration.enteringScreen}),color:y[900],"&:hover":{color:m},"&.Mui-disabled":{border:"unset",background:y[100]}}}},MuiToggleButtonGroup:{defaultProps:{color:"secondary"}},MuiLinearProgress:{defaultProps:{color:"secondary"}},MuiPaper:{styleOverrides:{root:{boxShadow:"unset",border:"1px solid",borderColor:dt}}}},typography:{fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),button:{fontWeight:"bold",textTransform:"none"}}}),w=()=>{var t;const e=J();return n.jsxs($,{severity:"error",children:[n.jsx(M,{children:"Something went wrong"}),Q(e)&&n.jsxs(n.Fragment,{children:[n.jsx(P,{fontWeight:"bold",children:[`Status: ${e.status}`,typeof((t=e.data)==null?void 0:t.detail)=="string"&&e.data.detail].filter(Boolean).join(", ")}),typeof e.data=="string"&&n.jsx(P,{children:e.data})]}),typeof e=="string"&&n.jsx(P,{fontWeight:"bold",children:e})]})},te=()=>{var o;const e=Y(),[t,r]=N.useState(!1);return K.useEffect(()=>{e!=null&&e.error&&r(!0)},[e==null?void 0:e.error]),n.jsx(X,{open:t,autoHideDuration:5e3,onClose:(s,i)=>{i!=="clickaway"&&r(!1)},children:n.jsxs($,{severity:"error",children:[n.jsx(M,{children:"Something went wrong"}),(e==null?void 0:e.error)&&n.jsx(P,{fontWeight:"bold",children:[`Status: ${e.error.status_code}`,typeof((o=e.error)==null?void 0:o.detail)=="string"&&e.error.detail].filter(Boolean).join(", ")})]})})},ut="modulepreload",pt=function(e){return"/"+e},G={},x=function(t,r,o){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.all(r.map(c=>{if(c=pt(c),c in G)return;G[c]=!0;const d=c.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":ut,d||(f.as="script",f.crossOrigin=""),f.href=c,a&&f.setAttribute("nonce",a),document.head.appendChild(f),d)return new Promise((L,k)=>{f.addEventListener("load",L),f.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${c}`)))})}))}return s.then(()=>t()).catch(i=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i})},ft=({api:e})=>({loader:()=>e.getVersion()});class T{constructor(){v(this,"at",0);v(this,"ch","");v(this,"text","");v(this,"escapee",{'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"})}error(t){throw{name:"SyntaxError",message:t,at:this.at,text:this.text}}next(){return this.ch=this.text.charAt(this.at++)}check(t){t!==this.ch&&this.error(`Expected '${t}' instead of '${this.ch}'`),this.ch=this.text.charAt(this.at++)}number(){var t="";if(this.ch==="-"&&(t="-",this.check("-")),this.ch==="I")return this.check("I"),this.check("n"),this.check("f"),this.check("i"),this.check("n"),this.check("i"),this.check("t"),this.check("y"),-1/0;for(;this.ch>="0"&&this.ch<="9";)t+=this.ch,this.next();if(this.ch===".")for(t+=".";this.next()&&this.ch>="0"&&this.ch<="9";)t+=this.ch;if(this.ch==="e"||this.ch==="E")for(t+=this.ch,this.next(),(this.ch==="-"||this.ch==="+")&&(t+=this.ch,this.next());this.ch>="0"&&this.ch<="9";)t+=this.ch,this.next();return+t}string(){var t,r,o="",s;if(this.ch==='"')for(;this.next();){if(this.ch==='"')return this.next(),o;if(this.ch==="\\")if(this.next(),this.ch==="u"){for(s=0,r=0;r<4&&(t=parseInt(this.next(),16),!!isFinite(t));r++)s=s*16+t;o+=String.fromCharCode(s)}else if(this.escapee[this.ch])o+=this.escapee[this.ch];else break;else o+=this.ch}this.error("Bad string")}white(){for(;this.ch&&this.ch<=" ";)this.next()}word(){switch(this.ch){case"t":return this.check("t"),this.check("r"),this.check("u"),this.check("e"),!0;case"f":return this.check("f"),this.check("a"),this.check("l"),this.check("s"),this.check("e"),!1;case"n":return this.check("n"),this.check("u"),this.check("l"),this.check("l"),null;case"N":return this.check("N"),this.check("a"),this.check("N"),NaN;case"I":return this.check("I"),this.check("n"),this.check("f"),this.check("i"),this.check("n"),this.check("i"),this.check("t"),this.check("y"),1/0}this.error("Unexpected '"+this.ch+"'")}array(){var t=[];if(this.ch==="["){if(this.check("["),this.white(),this.ch==="]")return this.check("]"),t;for(;this.ch;){if(t.push(this.value()),this.white(),this.ch==="]")return this.check("]"),t;this.check(","),this.white()}}this.error("Bad array")}object(){var t,r={};if(this.ch==="{"){if(this.check("{"),this.white(),this.ch==="}")return this.check("}"),r;for(;this.ch;){if(t=this.string(),this.white(),this.check(":"),Object.hasOwnProperty.call(r,t)&&this.error('Duplicate key "'+t+'"'),r[t]=this.value(),this.white(),this.ch==="}")return this.check("}"),r;this.check(","),this.white()}}this.error("Bad object")}value(){switch(this.white(),this.ch){case"{":return this.object();case"[":return this.array();case'"':return this.string();case"-":return this.number();default:return this.ch>="0"&&this.ch<="9"?this.number():this.word()}}parse(t,r){let o;return this.text=t,this.at=0,this.ch=" ",o=this.value(),this.white(),this.ch&&this.error("Syntax error"),r!==void 0?function s(i,a){var c,d,h=i[a];if(h&&typeof h=="object")for(c in h)Object.prototype.hasOwnProperty.call(h,c)&&(d=s(h,c),d!==void 0?h[c]=d:delete h[c]);return r.call(i,a,h)}({"":o},""):o}}const R=e=>new T().parse(e),mt=e=>{const t=B({baseUrl:e});return{async getProjectDashboard({project:r,options:o}){const{data:s,error:i,response:a}=await t.GET("/api/projects/{project_id}/dashboard",{parseAs:"text",params:{path:{project_id:r.id},query:{timestamp_start:o.timestamp_start,timestamp_end:o.timestamp_end}}});if(i)throw j(i,{status:a.status});return R(s)},async getSnapshotDashboard({project:r,snapshot:o}){const{data:s,error:i,response:a}=await t.GET("/api/projects/{project_id}/{snapshot_id}/data",{parseAs:"text",params:{path:{project_id:r.id,snapshot_id:o.id}}});if(i)throw j(i,{status:a.status});return R(s)},async getDashboardGraph({project:r,snapshot:o,graph:s}){const{data:i,error:a,response:c}=await t.GET("/api/projects/{project_id}/{snapshot_id}/graphs_data/{graph_id}",{parseAs:"text",params:{path:{project_id:r.id,snapshot_id:o.id,graph_id:s.id}}});if(a)throw j(a,{status:c.status});return R(i)}}},S=e=>{if(e.id)return{...e,id:e.id};throw"id is undefinded"},jt=e=>{const t=B({baseUrl:e});return{async list(){const{data:r,error:o,response:s}=await t.GET("/api/projects");if(o)throw j(o,{status:s.status});return r.map(S)},async update({body:r}){const{data:o,error:s}=await t.POST("/api/projects/{project_id}/info",{params:{path:{project_id:r.id}},body:r});return s?{error:s}:S(o)},async get({id:r}){const{data:o,error:s,response:i}=await t.GET("/api/projects/{project_id}/info",{params:{path:{project_id:r}}});if(s)throw j(s,{status:i.status});return S(o)},async delete({id:r}){const{error:o}=await t.DELETE("/api/projects/{project_id}",{params:{path:{project_id:r}}});return o?{error:o}:null},async create({body:r}){const{data:o,error:s}=await t.POST("/api/projects",{body:r});return s?{error:s}:S(o)},async reloadSnapshots({project:r}){const{error:o,response:s}=await t.GET("/api/projects/{project_id}/reload",{params:{path:{project_id:r.id}}});if(o)throw j(o,{status:s.status});return null},async listReports({project:r}){const{data:o,error:s,response:i}=await t.GET("/api/projects/{project_id}/reports",{params:{path:{project_id:r.id}}});if(s)throw j(s,{status:i.status});return o.map(S)},async listTestSuites({project:r}){const{data:o,error:s,response:i}=await t.GET("/api/projects/{project_id}/test_suites",{params:{path:{project_id:r.id}}});if(s)throw j(s,{status:i.status});return o.map(S)}}},yt=e=>{const t=B({baseUrl:e});return{async getVersion(){const{data:r,error:o,response:s}=await t.GET("/api/version");if(o)throw j(o,{status:s.status});return r}}};async function A(...e){const t=await fetch(...e);if(!t.ok&&t.status>=400)throw t;return t}class gt{constructor(t){v(this,"endpoint");this.endpoint=t}async getAdditionalGraphData(t,r,o){const s=await A(`${this.endpoint}/projects/${t}/${r}/graphs_data/${o}`);return new T().parse(await s.text())}async getAdditionalWidgetData(t,r,o){const s=await A(`${this.endpoint}/projects/${t}/${r}/graphs_data/${o}`);return new T().parse(await s.text())}async getDashboard(t,r){const o=await A(`${this.endpoint}/projects/${t}/${r}/data`);return new T().parse(await o.text())}}const z=new gt("/api"),O=jt("/"),U=mt("/"),xt=yt("/"),wt="/static/img/logo.png",{loader:_t}=ft({api:xt}),vt={path:"/",lazy:async()=>{const{HomeComponentTemplate:e,...t}=await x(()=>import("./index-DdkvzOGX.js"),__vite__mapDeps([0,1,2]));return{Component:()=>n.jsx(e,{logoSrc:wt}),...t}},loader:_t,ErrorBoundary:w},bt=({api:e})=>({loader:({params:t})=>{const{projectId:r}=t;return g(r),e.get({id:r})}}),St=e=>{if(e.headers.get("Content-type")!=="application/json")throw new Response("Unsupported Media Type",{status:415})};function E(e){return typeof e!=typeof new Date?(console.log(`not a date ${typeof e}: ${e}`),e):`${e.getFullYear()}-${(e.getMonth()+1).toString().padStart(2,"0")}-${e.getDate().toString().padStart(2,"0")}T${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}`}const l={FROM:"date_from",TO:"date_to"},Pt=e=>{let t=e.get(l.FROM),r=e.get(l.TO);return{date_from:t,date_to:r}},Et=({dataRanges:e})=>{const[t,r]=it(),{date_from:o,date_to:s}=Pt(t),i=I(o||e.minDate),a=I(s||e.maxDate);return{isCorrectTimeInterval:i.isValid()&&a.isValid()&&(i.isSame(a)||i.isBefore(a)),date_from:i,date_to:a,setSearchParams:r}},ee=({dataRanges:e})=>{const{isCorrectTimeInterval:t,date_from:r,date_to:o,setSearchParams:s}=Et({dataRanges:e}),i=t?"":"incorrect time interval",a=c=>d=>{s(h=>(h.delete(c),d&&h.append(c,E(d.toDate())),h),{preventScrollReset:!0,replace:!0})};return n.jsx(Z,{dateAdapter:tt,adapterLocale:"en-gb",children:n.jsxs(D,{container:!0,padding:1,zIndex:1,gap:2,justifyContent:"flex-end",justifyItems:"center",children:[n.jsx(D,{item:!0,xs:12,md:2,children:n.jsxs(et,{fullWidth:!0,children:[n.jsx(rt,{children:"Period"}),n.jsxs(st,{variant:"standard",defaultValue:"",onChange:c=>{const[d,h]=c.target.value.split(",");if(d===""){s(u=>(u.delete(l.FROM),u.delete(l.TO),u.append(l.FROM,E(e.minDate.toDate())),u.append(l.TO,E(e.maxDate.toDate())),u),{preventScrollReset:!0,replace:!0});return}const[f,L]=[Number(d),h],k=e.maxDate.subtract(f,L);s(u=>(u.delete(l.FROM),u.delete(l.TO),u.append(l.FROM,E(k.isBefore(e.minDate)?e.minDate.toDate():k.toDate())),u.append(l.TO,E(e.maxDate.toDate())),u),{preventScrollReset:!0,replace:!0})},children:[n.jsx(p,{value:"",children:n.jsx("em",{children:"None"})}),n.jsx(p,{value:"10,minutes",children:"Last 10 Minutes"}),n.jsx(p,{value:"30,minutes",children:"Last 30 Minutes"}),n.jsx(p,{value:"1,hours",children:"Last 1 Hours"}),n.jsx(p,{value:"2,hours",children:"Last 2 Hours"}),n.jsx(p,{value:"8,hours",children:"Last 8 Hours"}),n.jsx(p,{value:"24,hours",children:"Last 24 Hours"}),n.jsx(p,{value:"7,days",children:"Last 7 Days"}),n.jsx(p,{value:"14,days",children:"Last 14 Days"}),n.jsx(p,{value:"28,days",children:"Last 28 Days"}),n.jsx(p,{value:"60,days",children:"Last 60 Days"})]})]})}),n.jsx(D,{item:!0,children:n.jsxs(C,{display:"flex",alignItems:"center",gap:2,children:[n.jsx(F,{minDate:e.minDate,maxDate:e.maxDate&&o,slotProps:{textField:{variant:"standard"}},label:"From",value:r,onChange:a(l.FROM)}),n.jsx(C,{height:1,display:"flex",alignItems:"center",children:n.jsx(P,{children:" - "})}),n.jsx(F,{minDate:e.minDate&&r,maxDate:e.maxDate,slotProps:{textField:{variant:"standard"}},label:"To",value:o,onChange:a(l.TO)})]})}),n.jsx(D,{item:!0,xs:12,children:n.jsx(ot,{unmountOnExit:!0,in:!t,children:n.jsxs($,{severity:"error",children:[n.jsx(M,{children:"Error"}),i]})})})]})})},kt=({api:e})=>({loader:({params:t,request:r})=>{g(t.projectId);const{searchParams:o}=new URL(r.url);let s=o.get(l.FROM),i=o.get(l.TO);return s&&!I(s).isValid()&&(s=null),i&&!I(i).isValid()&&(i=null),e.getProjectDashboard({project:{id:t.projectId},options:{timestamp_start:s,timestamp_end:i}})}}),{loader:Dt}=kt({api:U}),Tt={index:!0,id:"dashboard",lazy:async()=>{const[{DashboardComponentTemplate:e},{DashboardWidgets:t}]=await Promise.all([x(()=>import("./index-S3WAJd0u.js"),__vite__mapDeps([3,1])),x(()=>import("./DashboardWidgets-tQ4q5Sci.js"),__vite__mapDeps([4,1,5,2,6]))]);return{Component:()=>n.jsx(e,{Dashboard:({data:{widgets:r}})=>n.jsx(t,{widgets:r})})}},loader:Dt,ErrorBoundary:w},It=({api:e})=>({loader:({params:t})=>(g(t.projectId),t.snapshotId?Promise.resolve([]):e.listReports({project:{id:t.projectId}})),action:async({params:t})=>(g(t.projectId),e.reloadSnapshots({project:{id:t.projectId}}))}),Ot=({api:e})=>({loader:({params:t})=>(g(t.projectId),t.snapshotId?Promise.resolve([]):e.listTestSuites({project:{id:t.projectId}})),action:async({params:t})=>(g(t.projectId),e.reloadSnapshots({project:{id:t.projectId}}))}),Lt=({api:e})=>({loader:({params:t})=>{const{projectId:r,snapshotId:o}=t;return g(r),g(o),e.getSnapshotDashboard({project:{id:r},snapshot:{id:o}})}}),{loader:Rt}=Lt({api:{...z,getSnapshotDashboard(e){return U.getSnapshotDashboard(e)}}}),H={path:":snapshotId",lazy:async()=>{const{SnapshotTemplate:e,...t}=await x(()=>import("./index-CB9e1EgN.js"),__vite__mapDeps([7,1,5,2,6]));return{Component:()=>n.jsx(e,{api:z}),...t}},loader:Rt,ErrorBoundary:w},{loader:At,action:Ct}=It({api:O}),$t={id:"reports",path:"reports",lazy:async()=>{const{SnapshotsListTemplate:e,...t}=await x(()=>import("./index-B9mcSb6Y.js"),__vite__mapDeps([8,1,9,10,2,11]));return{...t,Component:()=>n.jsx(e,{type:"reports"})}},loader:At,action:Ct,ErrorBoundary:w,children:[H]},{loader:Mt,action:Bt}=Ot({api:O}),Ft={id:"test_suites",path:"test-suites",lazy:async()=>{const{SnapshotsListTemplate:e,...t}=await x(()=>import("./index-B9mcSb6Y.js"),__vite__mapDeps([8,1,9,10,2,11]));return{...t,Component:()=>n.jsx(e,{type:"test suites"})}},loader:Mt,action:Bt,ErrorBoundary:w,children:[H]},{loader:Gt}=bt({api:O}),Vt={path:"projects/:projectId",lazy:()=>x(()=>import("./index-BBa_G8Hn.js"),__vite__mapDeps([12,1,10,2])),loader:Gt,ErrorBoundary:w,children:[Tt,$t,Ft]},Nt=_.object({action:_.literal("edit-project")}),zt=_.object({action:_.literal("create-new-project")}),Ut=_.object({action:_.literal("delete-project"),projectId:_.string().uuid()}),Ht=({api:e})=>({loader:()=>e.list(),action:async({request:t})=>{St(t);const r=await t.json();if(zt.safeParse(r).success)return e.create({body:r});const o=Ut.safeParse(r);if(o.success)return e.delete({id:o.data.projectId});if(Nt.safeParse(r).success)return e.update({body:r});throw"Undefined action"}}),{loader:Wt,action:qt}=Ht({api:O}),Jt={index:!0,lazy:()=>x(()=>import("./index-DZulZ4_3.js"),__vite__mapDeps([13,1,6,2,9])),loader:Wt,action:qt,ErrorBoundary:w},Qt={path:"*",Component:()=>n.jsx(C,{display:"flex",justifyContent:"center",children:n.jsx(P,{variant:"h4",children:"Page Not Found"})})},Yt={...vt,children:[Jt,Vt,Qt],ErrorBoundary:w},Kt=nt([Yt]);at.createRoot(document.getElementById("root")).render(n.jsx(N.StrictMode,{children:n.jsx(ct,{theme:lt,children:n.jsx(ht,{router:Kt})})}));export{te as A,ee as D};
