var F=Object.defineProperty;var N=(t,e,r)=>e in t?F(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var _=(t,e,r)=>(N(t,typeof e!="symbol"?e+"":e,r),r);import{c as L,g as j,u as V,j as o,A,a as M,i as z,T as $,b as g,L as U,d as H,G as D,F as G,I as W,S as J,M as p,B as E,D as R,C as q,e as Q,f as T,z as S,h as Y,k as K,R as X,l as Z,m as ee}from"./vendor-86aeac57.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(s){if(s.ep)return;s.ep=!0;const n=r(s);fetch(s.href,n)}})();const{transitions:b}=L(),m="#ed0500",te="#ded5d5",re=L({shape:{borderRadius:5},palette:{primary:{main:j[900],light:j[200]},secondary:{main:m,dark:"#c10400",light:j[200]},background:{default:"white",paper:"white"}},components:{MuiLink:{styleOverrides:{root:{transition:b.create("color",{duration:b.duration.enteringScreen}),"&:hover":{color:m}}}},MuiTabs:{styleOverrides:{flexContainer:{gap:"10px"},indicator:{backgroundColor:m}}},MuiButton:{styleOverrides:{contained:{"&:hover":{background:j[800]}},outlined:{"&:hover":{color:m,borderColor:m,background:"white"}},text:{"&:hover":{color:m,borderColor:m}}}},MuiTab:{defaultProps:{color:"secondary"},styleOverrides:{root:{fontSize:"1rem",borderRadius:"5px","&:hover":{background:j[200]}}}},MuiIconButton:{styleOverrides:{root:{transition:b.create("color",{duration:b.duration.enteringScreen}),color:j[900],"&:hover":{color:m}}}},MuiSwitch:{defaultProps:{color:"secondary"}},MuiToggleButton:{defaultProps:{color:"secondary"},styleOverrides:{root:{transition:b.create("color",{duration:b.duration.enteringScreen}),color:j[900],"&:hover":{color:m},"&.Mui-disabled":{border:"unset",background:j[100]}}}},MuiToggleButtonGroup:{defaultProps:{color:"secondary"}},MuiLinearProgress:{defaultProps:{color:"secondary"}},MuiPaper:{styleOverrides:{root:{boxShadow:"unset",border:"1px solid",borderColor:te}}}},typography:{fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),button:{fontWeight:"bold",textTransform:"none"}}}),w=()=>{var e;const t=V();return o.jsxs(A,{severity:"error",children:[o.jsx(M,{children:"Something went wrong"}),z(t)&&o.jsxs(o.Fragment,{children:[o.jsx($,{fontWeight:"bold",children:[`Status: ${t.status}`,typeof((e=t.data)==null?void 0:e.detail)=="string"&&t.data.detail].filter(Boolean).join(", ")}),typeof t.data=="string"&&o.jsx($,{children:t.data})]})]})},se="modulepreload",oe=function(t){return"/"+t},C={},x=function(e,r,i){if(!r||r.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(r.map(n=>{if(n=oe(n),n in C)return;C[n]=!0;const a=n.endsWith(".css"),d=a?'[rel="stylesheet"]':"";if(!!i)for(let I=s.length-1;I>=0;I--){const P=s[I];if(P.href===n&&(!a||P.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${n}"]${d}`))return;const c=document.createElement("link");if(c.rel=a?"stylesheet":se,a||(c.as="script",c.crossOrigin=""),c.href=n,document.head.appendChild(c),a)return new Promise((I,P)=>{c.addEventListener("load",I),c.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>e()).catch(n=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=n,window.dispatchEvent(a),!a.defaultPrevented)throw n})},ne=({api:t})=>({loader:()=>t.getVersion()});class y{constructor(){_(this,"at",0);_(this,"ch","");_(this,"text","");_(this,"escapee",{'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"})}error(e){throw{name:"SyntaxError",message:e,at:this.at,text:this.text}}next(){return this.ch=this.text.charAt(this.at++)}check(e){e!==this.ch&&this.error(`Expected '${e}' instead of '${this.ch}'`),this.ch=this.text.charAt(this.at++)}number(){var e="";if(this.ch==="-"&&(e="-",this.check("-")),this.ch==="I")return this.check("I"),this.check("n"),this.check("f"),this.check("i"),this.check("n"),this.check("i"),this.check("t"),this.check("y"),-1/0;for(;this.ch>="0"&&this.ch<="9";)e+=this.ch,this.next();if(this.ch===".")for(e+=".";this.next()&&this.ch>="0"&&this.ch<="9";)e+=this.ch;if(this.ch==="e"||this.ch==="E")for(e+=this.ch,this.next(),(this.ch==="-"||this.ch==="+")&&(e+=this.ch,this.next());this.ch>="0"&&this.ch<="9";)e+=this.ch,this.next();return+e}string(){var e,r,i="",s;if(this.ch==='"')for(;this.next();){if(this.ch==='"')return this.next(),i;if(this.ch==="\\")if(this.next(),this.ch==="u"){for(s=0,r=0;r<4&&(e=parseInt(this.next(),16),!!isFinite(e));r++)s=s*16+e;i+=String.fromCharCode(s)}else if(this.escapee[this.ch])i+=this.escapee[this.ch];else break;else i+=this.ch}this.error("Bad string")}white(){for(;this.ch&&this.ch<=" ";)this.next()}word(){switch(this.ch){case"t":return this.check("t"),this.check("r"),this.check("u"),this.check("e"),!0;case"f":return this.check("f"),this.check("a"),this.check("l"),this.check("s"),this.check("e"),!1;case"n":return this.check("n"),this.check("u"),this.check("l"),this.check("l"),null;case"N":return this.check("N"),this.check("a"),this.check("N"),NaN;case"I":return this.check("I"),this.check("n"),this.check("f"),this.check("i"),this.check("n"),this.check("i"),this.check("t"),this.check("y"),1/0}this.error("Unexpected '"+this.ch+"'")}array(){var e=[];if(this.ch==="["){if(this.check("["),this.white(),this.ch==="]")return this.check("]"),e;for(;this.ch;){if(e.push(this.value()),this.white(),this.ch==="]")return this.check("]"),e;this.check(","),this.white()}}this.error("Bad array")}object(){var e,r={};if(this.ch==="{"){if(this.check("{"),this.white(),this.ch==="}")return this.check("}"),r;for(;this.ch;){if(e=this.string(),this.white(),this.check(":"),Object.hasOwnProperty.call(r,e)&&this.error('Duplicate key "'+e+'"'),r[e]=this.value(),this.white(),this.ch==="}")return this.check("}"),r;this.check(","),this.white()}}this.error("Bad object")}value(){switch(this.white(),this.ch){case"{":return this.object();case"[":return this.array();case'"':return this.string();case"-":return this.number();default:return this.ch>="0"&&this.ch<="9"?this.number():this.word()}}parse(e,r){let i;return this.text=e,this.at=0,this.ch=" ",i=this.value(),this.white(),this.ch&&this.error("Syntax error"),r!==void 0?function s(n,a){var d,f,c=n[a];if(c&&typeof c=="object")for(d in c)Object.prototype.hasOwnProperty.call(c,d)&&(f=s(c,d),f!==void 0?c[d]=f:delete c[d]);return r.call(n,a,c)}({"":i},""):i}}async function l(...t){const e=await fetch(...t);if(!e.ok&&e.status>=400)throw e;return e}class ie{constructor(e){_(this,"endpoint");this.endpoint=e}async getAdditionalGraphData(e,r,i){const s=await l(`${this.endpoint}/projects/${e}/${r}/graphs_data/${i}`);return new y().parse(await s.text())}async getAdditionalWidgetData(e,r,i){const s=await l(`${this.endpoint}/projects/${e}/${r}/graphs_data/${i}`);return new y().parse(await s.text())}async getDashboard(e,r){const i=await l(`${this.endpoint}/projects/${e}/${r}/data`);return new y().parse(await i.text())}async getProjects(){const e=await l(`${this.endpoint}/projects`);return new y().parse(await e.text())}async getProjectDashboard(e,r,i){const s=new URLSearchParams;r&&s.append("timestamp_start",r),i&&s.append("timestamp_end",i);const n=await l(`${this.endpoint}/projects/${e}/dashboard?${s.toString()}`);return new y().parse(await n.text())}async getReports(e){const r=await l(`${this.endpoint}/projects/${e}/reports`);return new y().parse(await r.text())}async getTestSuites(e){const r=await l(`${this.endpoint}/projects/${e}/test_suites`);return new y().parse(await r.text())}async getProjectInfo(e){const r=await l(`${this.endpoint}/projects/${e}/info`);return new y().parse(await r.text())}async getVersion(){return(await l(`${this.endpoint}/version`)).json()}async editProjectInfo(e){return l(`${this.endpoint}/projects/${e.id}/info`,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}async reloadProject(e){return l(`${this.endpoint}/projects/${e}/reload`)}async createProject(e){const r=new URLSearchParams;return e.team_id&&r.append("team_id",e.team_id),(await l(`${this.endpoint}/projects?${r.toString()}`,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json()}async deleteProject(e){return l(`${this.endpoint}/projects/${e}`,{method:"delete"})}}const v=new ie("/api"),ae="/static/img/logo.png",{loader:ce}=ne({api:v}),he={path:"/",lazy:async()=>{const{HomeComponentTemplate:t,...e}=await x(()=>import("./index-56f2df98.js"),["static/js/index-56f2df98.js","static/js/vendor-86aeac57.js","static/js/createSvgIcon-7b76ba23.js"]);return{Component:()=>o.jsx(t,{logoSrc:ae}),...e}},loader:ce,ErrorBoundary:w},de=({api:t})=>({loader:({params:e})=>{const{projectId:r}=e;return g(r,"missing projectId"),t.getProjectInfo(r)}}),le=t=>{if(t.headers.get("Content-type")!=="application/json")throw new Response("Unsupported Media Type",{status:415})};function k(t){return typeof t!=typeof new Date?(console.log(`not a date ${typeof t}: ${t}`),t):`${t.getFullYear()}-${(t.getMonth()+1).toString().padStart(2,"0")}-${t.getDate().toString().padStart(2,"0")}T${t.getHours().toString().padStart(2,"0")}:${t.getMinutes().toString().padStart(2,"0")}`}const h={FROM:"date_from",TO:"date_to"},ue=t=>{let e=t.get(h.FROM),r=t.get(h.TO);return{date_from:e,date_to:r}},pe=({dataRanges:t})=>{const[e,r]=Q(),{date_from:i,date_to:s}=ue(e),n=T(i||t.minDate),a=T(s||t.maxDate);return{isCorrectTimeInterval:n.isValid()&&a.isValid()&&(n.isSame(a)||n.isBefore(a)),date_from:n,date_to:a,setSearchParams:r}},Ne=({dataRanges:t})=>{const{isCorrectTimeInterval:e,date_from:r,date_to:i,setSearchParams:s}=pe({dataRanges:t}),n=e?"":"incorrect time interval",a=d=>f=>{s(c=>(c.delete(d),f&&c.append(d,k(f.toDate())),c),{preventScrollReset:!0,replace:!0})};return o.jsx(U,{dateAdapter:H,adapterLocale:"en-gb",children:o.jsxs(D,{container:!0,padding:1,zIndex:1,gap:2,justifyContent:"flex-end",justifyItems:"center",children:[o.jsx(D,{item:!0,xs:12,md:2,children:o.jsxs(G,{fullWidth:!0,children:[o.jsx(W,{children:"Period"}),o.jsxs(J,{variant:"standard",defaultValue:"",onChange:d=>{const[f,c]=d.target.value.split(",");if(f===""){s(u=>(u.delete(h.FROM),u.delete(h.TO),u.append(h.FROM,k(t.minDate.toDate())),u.append(h.TO,k(t.maxDate.toDate())),u),{preventScrollReset:!0,replace:!0});return}const[I,P]=[Number(f),c],O=t.maxDate.subtract(I,P);s(u=>(u.delete(h.FROM),u.delete(h.TO),u.append(h.FROM,k(O.isBefore(t.minDate)?t.minDate.toDate():O.toDate())),u.append(h.TO,k(t.maxDate.toDate())),u),{preventScrollReset:!0,replace:!0})},children:[o.jsx(p,{value:"",children:o.jsx("em",{children:"None"})}),o.jsx(p,{value:"10,minutes",children:"Last 10 Minutes"}),o.jsx(p,{value:"30,minutes",children:"Last 30 Minutes"}),o.jsx(p,{value:"1,hours",children:"Last 1 Hours"}),o.jsx(p,{value:"2,hours",children:"Last 2 Hours"}),o.jsx(p,{value:"8,hours",children:"Last 8 Hours"}),o.jsx(p,{value:"24,hours",children:"Last 24 Hours"}),o.jsx(p,{value:"7,days",children:"Last 7 Days"}),o.jsx(p,{value:"14,days",children:"Last 14 Days"}),o.jsx(p,{value:"28,days",children:"Last 28 Days"}),o.jsx(p,{value:"60,days",children:"Last 60 Days"})]})]})}),o.jsx(D,{item:!0,children:o.jsxs(E,{display:"flex",alignItems:"center",gap:2,children:[o.jsx(R,{minDate:t.minDate,maxDate:t.maxDate&&i,slotProps:{textField:{variant:"standard"}},label:"From",value:r,onChange:a(h.FROM)}),o.jsx(E,{height:1,display:"flex",alignItems:"center",children:o.jsx($,{children:" - "})}),o.jsx(R,{minDate:t.minDate&&r,maxDate:t.maxDate,slotProps:{textField:{variant:"standard"}},label:"To",value:i,onChange:a(h.TO)})]})}),o.jsx(D,{item:!0,xs:12,children:o.jsx(q,{unmountOnExit:!0,in:!e,children:o.jsxs(A,{severity:"error",children:[o.jsx(M,{children:"Error"}),n]})})})]})})},fe=({api:t})=>({loader:({params:e,request:r})=>{g(e.projectId,"missing projectId");const{searchParams:i}=new URL(r.url);let s=i.get(h.FROM),n=i.get(h.TO);return s&&!T(s).isValid()&&(s=null),n&&!T(n).isValid()&&(n=null),t.getProjectDashboard(e.projectId,s,n)}}),{loader:me}=fe({api:v}),je={index:!0,id:"dashboard",lazy:async()=>{const[{DashboardComponentTemplate:t},{DashboardWidgets:e}]=await Promise.all([x(()=>import("./index-b0c2e7e8.js"),["static/js/index-b0c2e7e8.js","static/js/vendor-86aeac57.js"]),x(()=>import("./DashboardWidgets-faebfd0a.js"),["static/js/DashboardWidgets-faebfd0a.js","static/js/vendor-86aeac57.js","static/js/DashboardContent-f2965403.js","static/js/createSvgIcon-7b76ba23.js","static/js/Edit-11ed00d6.js"])]);return{Component:()=>o.jsx(t,{Dashboard:({data:{widgets:r}})=>o.jsx(e,{widgets:r})})}},loader:me,ErrorBoundary:w},ye=({api:t})=>({loader:({params:e})=>(g(e.projectId,"missing projectId"),e.snapshotId?Promise.resolve([]):t.getReports(e.projectId)),action:async({params:e})=>(g(e.projectId,"missing projectId"),t.reloadProject(e.projectId))}),ge=({api:t})=>({loader:({params:e})=>(g(e.projectId,"missing projectId"),e.snapshotId?Promise.resolve([]):t.getTestSuites(e.projectId)),action:async({params:e})=>(g(e.projectId,"missing projectId"),t.reloadProject(e.projectId))}),xe=({api:t})=>({loader:({params:e})=>{const{projectId:r,snapshotId:i}=e;return g(r,"missing projectId"),g(i,"missing testSuiteId"),t.getDashboard(r,i)}}),{loader:we}=xe({api:v}),B={path:":snapshotId",lazy:async()=>{const{SnapshotTemplate:t,...e}=await x(()=>import("./index-139d9074.js"),["static/js/index-139d9074.js","static/js/vendor-86aeac57.js","static/js/DashboardContent-f2965403.js","static/js/createSvgIcon-7b76ba23.js","static/js/Edit-11ed00d6.js"]);return{Component:()=>o.jsx(t,{api:v}),...e}},loader:we,ErrorBoundary:w},{loader:ve,action:Ie}=ye({api:v}),Pe={id:"reports",path:"reports",lazy:async()=>{const{SnapshotsListTemplate:t,...e}=await x(()=>import("./index-30575bf0.js"),["static/js/index-30575bf0.js","static/js/vendor-86aeac57.js","static/js/index-b3429b2b.js","static/js/ContentCopy-1aadaf15.js","static/js/createSvgIcon-7b76ba23.js","static/css/index-77cf86ac.css"]);return{...e,Component:()=>o.jsx(t,{type:"reports"})}},loader:ve,action:Ie,ErrorBoundary:w,children:[B]},{loader:_e,action:be}=ge({api:v}),ke={id:"test_suites",path:"test-suites",lazy:async()=>{const{SnapshotsListTemplate:t,...e}=await x(()=>import("./index-30575bf0.js"),["static/js/index-30575bf0.js","static/js/vendor-86aeac57.js","static/js/index-b3429b2b.js","static/js/ContentCopy-1aadaf15.js","static/js/createSvgIcon-7b76ba23.js","static/css/index-77cf86ac.css"]);return{...e,Component:()=>o.jsx(t,{type:"test suites"})}},loader:_e,action:be,ErrorBoundary:w,children:[B]},{loader:Se}=de({api:v}),De={path:"projects/:projectId",lazy:()=>x(()=>import("./index-145b9f51.js"),["static/js/index-145b9f51.js","static/js/vendor-86aeac57.js","static/js/ContentCopy-1aadaf15.js","static/js/createSvgIcon-7b76ba23.js"]),loader:Se,ErrorBoundary:w,children:[je,Pe,ke]},$e=S.object({action:S.literal("create-new-project")}),Te=S.object({action:S.literal("delete-project"),projectId:S.string().uuid()}),Ee=({api:t})=>({loader:()=>t.getProjects(),action:async({request:e})=>{le(e);const r=await e.json(),i=$e.safeParse(r);if(i.success&&i.data.action==="create-new-project")return t.createProject(r);const s=Te.safeParse(r);return s.success&&s.data.action==="delete-project"?t.deleteProject(s.data.projectId):t.editProjectInfo(r)}}),{loader:Oe,action:Re}=Ee({api:v}),Ce={index:!0,lazy:()=>x(()=>import("./index-ce2bb166.js"),["static/js/index-ce2bb166.js","static/js/vendor-86aeac57.js","static/js/Edit-11ed00d6.js","static/js/createSvgIcon-7b76ba23.js","static/js/index-b3429b2b.js"]),loader:Oe,action:Re,ErrorBoundary:w},Le={path:"*",Component:()=>o.jsx(E,{display:"flex",justifyContent:"center",children:o.jsx($,{variant:"h4",children:"Page Not Found"})})},Ae={...he,children:[Ce,De,Le],ErrorBoundary:w},Me=Y([Ae]);K.createRoot(document.getElementById("root")).render(o.jsx(X.StrictMode,{children:o.jsx(Z,{theme:re,children:o.jsx(ee,{router:Me})})}));export{Ne as D};
