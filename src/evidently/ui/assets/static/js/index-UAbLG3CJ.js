const __vite__fileDeps=["static/js/index-Cwfq0AAl.js","static/js/vendor-CFh6IQM6.js","static/js/createSvgIcon-BHt_C7WZ.js","static/js/index-Y4CGhTk3.js","static/js/DashboardViewParams-C3ZVhGVT.js","static/js/index-DATujkfj.js","static/js/DashboardWidgets-BZwV75ei.js","static/js/DashboardContent-TZHSTgd_.js","static/js/Edit-DoUCfieB.js","static/js/index-vToD_Ha9.js","static/js/index-DC3NAYIv.js","static/js/ContentCopy-Cu793Viy.js","static/css/index-C5isHALn.css","static/js/index-DH7dNy5S.js","static/js/index-Db0FOPuV.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
var J=Object.defineProperty;var Q=(e,t,r)=>t in e?J(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var I=(e,t,r)=>(Q(e,typeof t!="symbol"?t+"":t,r),r);import{c as z,g as j,u as Y,j as s,A,a as F,i as K,T as E,b as X,R,r as Z,S as tt,B as w,I as et,C as rt,d as st,e as B,f as x,h as y,L as ot,k as it,G as T,F as nt,l as at,m as ct,n as ht,o as dt,M as u,D as N,p as lt,q as ut,s as D,z as S,t as pt,v as ft,w as mt,x as jt}from"./vendor-CFh6IQM6.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function r(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(o){if(o.ep)return;o.ep=!0;const n=r(o);fetch(o.href,n)}})();const{transitions:P}=z(),m="#ed0500",xt="#ded5d5",yt=z({shape:{borderRadius:5},palette:{primary:{main:j[900],light:j[200]},secondary:{main:m,dark:"#c10400",light:j[200]},background:{default:"#fff",paper:"#fff"}},components:{MuiLink:{styleOverrides:{root:{transition:P.create("color",{duration:P.duration.enteringScreen}),"&:hover":{color:m}}}},MuiTabs:{styleOverrides:{flexContainer:{gap:"10px"},indicator:{backgroundColor:m}}},MuiButton:{styleOverrides:{contained:{"&:hover":{background:j[800]}},outlined:{"&:hover":{color:m,borderColor:m,background:"#fff"}},text:{"&:hover":{color:m,borderColor:m}}}},MuiTab:{defaultProps:{color:"secondary"},styleOverrides:{root:{fontSize:"1rem",borderRadius:"5px","&:hover":{background:j[200]}}}},MuiIconButton:{styleOverrides:{root:{transition:P.create("color",{duration:P.duration.enteringScreen}),color:j[900],"&:hover":{color:m}}}},MuiSwitch:{defaultProps:{color:"secondary"}},MuiToggleButton:{defaultProps:{color:"secondary"},styleOverrides:{root:{transition:P.create("color",{duration:P.duration.enteringScreen}),color:j[900],"&:hover":{color:m},"&.Mui-disabled":{border:"unset",background:j[100]}}}},MuiToggleButtonGroup:{defaultProps:{color:"secondary"}},MuiLinearProgress:{defaultProps:{color:"secondary"}},MuiPaper:{styleOverrides:{root:{boxShadow:"unset",border:"1px solid",borderColor:xt}}}},typography:{fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),button:{fontWeight:"bold",textTransform:"none"}}}),v=()=>{var t;const e=Y();return s.jsxs(A,{severity:"error",children:[s.jsx(F,{children:"Something went wrong"}),K(e)&&s.jsxs(s.Fragment,{children:[s.jsx(E,{fontWeight:"bold",children:[`Status: ${e.status}`,typeof((t=e.data)==null?void 0:t.detail)=="string"&&e.data.detail].filter(Boolean).join(", ")}),typeof e.data=="string"&&s.jsx(E,{children:e.data})]}),typeof e=="string"&&s.jsx(E,{fontWeight:"bold",children:e})]})},U=({data:e})=>{const[t,r]=R.useState(!1),i=R.useRef(null);return Z.useEffect(()=>{e!=null&&e.error&&(i.current=e.error,r(!0))},[e]),s.jsx(tt,{open:t,onClose:(o,n)=>{n!=="clickaway"&&r(!1)},children:s.jsx(A,{severity:"error",children:s.jsxs(w,{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:2,children:[s.jsxs(w,{children:[s.jsx(F,{children:"Something went wrong"}),i.current&&s.jsx(E,{fontWeight:"bold",children:[typeof i.current.status_code=="number"&&`Status: ${i.current.status_code}`,typeof i.current.detail=="string"&&i.current.detail].filter(Boolean).join(", ")})]}),s.jsx(w,{children:s.jsx(et,{size:"small","aria-label":"close",color:"inherit",onClick:()=>{r(!1)},children:s.jsx(rt,{})})})]})})})},M=()=>{const e=X();return s.jsx(U,{data:e})},gt=()=>{var r;const t=(r=st().find(i=>{var o;return!!((o=i.data)!=null&&o.error)}))==null?void 0:r.data;return s.jsx(U,{data:t})},vt="modulepreload",_t=function(e){return"/"+e},V={},g=function(t,r,i){let o=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),a=(n==null?void 0:n.nonce)||(n==null?void 0:n.getAttribute("nonce"));o=Promise.all(r.map(c=>{if(c=_t(c),c in V)return;V[c]=!0;const p=c.endsWith(".css"),d=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=p?"stylesheet":vt,p||(h.as="script",h.crossOrigin=""),h.href=c,a&&h.setAttribute("nonce",a),document.head.appendChild(h),p)return new Promise((_,b)=>{h.addEventListener("load",_),h.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${c}`)))})}))}return o.then(()=>t()).catch(n=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=n,window.dispatchEvent(a),!a.defaultPrevented)throw n})},bt=({api:e})=>({loader:()=>e.getVersion()});class wt{constructor(){I(this,"at",0);I(this,"ch","");I(this,"text","");I(this,"escapee",{'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"})}error(t){throw{name:"SyntaxError",message:t,at:this.at,text:this.text}}next(){return this.ch=this.text.charAt(this.at++)}check(t){t!==this.ch&&this.error(`Expected '${t}' instead of '${this.ch}'`),this.ch=this.text.charAt(this.at++)}number(){var t="";if(this.ch==="-"&&(t="-",this.check("-")),this.ch==="I")return this.check("I"),this.check("n"),this.check("f"),this.check("i"),this.check("n"),this.check("i"),this.check("t"),this.check("y"),-1/0;for(;this.ch>="0"&&this.ch<="9";)t+=this.ch,this.next();if(this.ch===".")for(t+=".";this.next()&&this.ch>="0"&&this.ch<="9";)t+=this.ch;if(this.ch==="e"||this.ch==="E")for(t+=this.ch,this.next(),(this.ch==="-"||this.ch==="+")&&(t+=this.ch,this.next());this.ch>="0"&&this.ch<="9";)t+=this.ch,this.next();return+t}string(){var t,r,i="",o;if(this.ch==='"')for(;this.next();){if(this.ch==='"')return this.next(),i;if(this.ch==="\\")if(this.next(),this.ch==="u"){for(o=0,r=0;r<4&&(t=parseInt(this.next(),16),!!isFinite(t));r++)o=o*16+t;i+=String.fromCharCode(o)}else if(this.escapee[this.ch])i+=this.escapee[this.ch];else break;else i+=this.ch}this.error("Bad string")}white(){for(;this.ch&&this.ch<=" ";)this.next()}word(){switch(this.ch){case"t":return this.check("t"),this.check("r"),this.check("u"),this.check("e"),!0;case"f":return this.check("f"),this.check("a"),this.check("l"),this.check("s"),this.check("e"),!1;case"n":return this.check("n"),this.check("u"),this.check("l"),this.check("l"),null;case"N":return this.check("N"),this.check("a"),this.check("N"),NaN;case"I":return this.check("I"),this.check("n"),this.check("f"),this.check("i"),this.check("n"),this.check("i"),this.check("t"),this.check("y"),1/0}this.error("Unexpected '"+this.ch+"'")}array(){var t=[];if(this.ch==="["){if(this.check("["),this.white(),this.ch==="]")return this.check("]"),t;for(;this.ch;){if(t.push(this.value()),this.white(),this.ch==="]")return this.check("]"),t;this.check(","),this.white()}}this.error("Bad array")}object(){var t,r={};if(this.ch==="{"){if(this.check("{"),this.white(),this.ch==="}")return this.check("}"),r;for(;this.ch;){if(t=this.string(),this.white(),this.check(":"),Object.hasOwnProperty.call(r,t)&&this.error('Duplicate key "'+t+'"'),r[t]=this.value(),this.white(),this.ch==="}")return this.check("}"),r;this.check(","),this.white()}}this.error("Bad object")}value(){switch(this.white(),this.ch){case"{":return this.object();case"[":return this.array();case'"':return this.string();case"-":return this.number();default:return this.ch>="0"&&this.ch<="9"?this.number():this.word()}}parse(t,r){let i;return this.text=t,this.at=0,this.ch=" ",i=this.value(),this.white(),this.ch&&this.error("Syntax error"),r!==void 0?function o(n,a){var c,p,d=n[a];if(d&&typeof d=="object")for(c in d)Object.prototype.hasOwnProperty.call(d,c)&&(p=o(d,c),p!==void 0?d[c]=p:delete d[c]);return r.call(n,a,d)}({"":i},""):i}}const O=e=>new wt().parse(e),St=e=>{const t=B({baseUrl:e});return{async getProjectDashboard({project:r,options:i}){const{data:o,error:n,response:a}=await t.GET("/api/projects/{project_id}/dashboard",{parseAs:"text",params:{path:{project_id:r.id},query:{timestamp_start:i.timestamp_start,timestamp_end:i.timestamp_end}}});if(n)throw x(n,{status:a.status});return O(o)},async getSnapshotDashboard({project:r,snapshot:i}){const{data:o,error:n,response:a}=await t.GET("/api/projects/{project_id}/{snapshot_id}/data",{parseAs:"text",params:{path:{project_id:r.id,snapshot_id:i.id}}});if(n)throw x(n,{status:a.status});return O(o)},async getDashboardGraph({project:r,snapshot:i,graph:o}){const{data:n,error:a,response:c}=await t.GET("/api/projects/{project_id}/{snapshot_id}/graphs_data/{graph_id}",{parseAs:"text",params:{path:{project_id:r.id,snapshot_id:i.id,graph_id:o.id}}});if(a)throw x(a,{status:c.status});return O(n)}}},k=e=>{if(e.id)return{...e,id:e.id};throw`"id" is missing in object: ${JSON.stringify(e)}`},Pt=e=>{if(e.headers.get("Content-type")!=="application/json")throw new Response("Unsupported Media Type",{status:415})},kt=e=>{const t=B({baseUrl:e});return{async list(){const{data:r,error:i,response:o}=await t.GET("/api/projects");if(i)throw x(i,{status:o.status});return r.map(k)},async update({body:r}){const{data:i,error:o}=await t.POST("/api/projects/{project_id}/info",{params:{path:{project_id:r.id}},body:r});return o?{error:o}:k(i)},async get({id:r}){const{data:i,error:o,response:n}=await t.GET("/api/projects/{project_id}/info",{params:{path:{project_id:r}}});if(o)throw x(o,{status:n.status});return k(i)},async delete({id:r}){const{error:i}=await t.DELETE("/api/projects/{project_id}",{params:{path:{project_id:r}}});return i?{error:i}:null},async create({body:r}){const{data:i,error:o}=await t.POST("/api/projects",{body:r});return o?{error:o}:k(i)},async reloadSnapshots({project:r}){const{error:i}=await t.GET("/api/projects/{project_id}/reload",{params:{path:{project_id:r.id}}});return i?{error:i}:null},async listReports({project:r}){const{data:i,error:o,response:n}=await t.GET("/api/projects/{project_id}/reports",{params:{path:{project_id:r.id}}});if(o)throw x(o,{status:n.status});return i.map(k)},async listTestSuites({project:r}){const{data:i,error:o,response:n}=await t.GET("/api/projects/{project_id}/test_suites",{params:{path:{project_id:r.id}}});if(o)throw x(o,{status:n.status});return i.map(k)}}},Et=e=>{const t=B({baseUrl:e});return{async getVersion(){const{data:r,error:i,response:o}=await t.GET("/api/version");if(i)throw x(i,{status:o.status});return r}}},$=St("/"),C=kt("/"),It=Et("/"),Tt="/static/img/logo.png",{loader:Dt}=bt({api:It}),Ct={path:"/",lazy:async()=>{const{HomeComponentTemplate:e,...t}=await g(()=>import("./index-Cwfq0AAl.js"),__vite__mapDeps([0,1,2]));return{Component:()=>s.jsxs(s.Fragment,{children:[s.jsx(gt,{}),s.jsx(e,{logoSrc:Tt})]}),...t}},loader:Dt,ErrorBoundary:v},Ot=({api:e})=>({loader:({params:t})=>{const{projectId:r}=t;return y(r),e.get({id:r})}});function L(e){return typeof e!=typeof new Date?(console.log(`not a date ${typeof e}: ${e}`),e):`${e.getFullYear()}-${(e.getMonth()+1).toString().padStart(2,"0")}-${e.getDate().toString().padStart(2,"0")}T${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}`}const l={FROM:"date_from",TO:"date_to"},Lt=e=>{let t=e.get(l.FROM),r=e.get(l.TO);return{date_from:t,date_to:r}},Rt=({dataRanges:e})=>{const[t,r]=ut(),{date_from:i,date_to:o}=Lt(t),n=D(i||e.minDate),a=D(o||e.maxDate);return{isCorrectTimeInterval:n.isValid()&&a.isValid()&&(n.isSame(a)||n.isBefore(a)),date_from:n,date_to:a,setSearchParams:r}},ce=({dataRanges:e,isDashboardHideDates:t,setIsDashboardHideDates:r,isShowDateFilter:i})=>{const{isCorrectTimeInterval:o,date_from:n,date_to:a,setSearchParams:c}=Rt({dataRanges:e}),p=o?"":"incorrect time interval",d=h=>_=>{c(b=>(b.delete(h),_&&b.append(h,L(_.toDate())),b),{preventScrollReset:!0,replace:!0})};return s.jsx(ot,{dateAdapter:it,adapterLocale:"en-gb",children:s.jsxs(T,{container:!0,padding:1,zIndex:1,gap:2,justifyContent:"flex-end",alignItems:"flex-end",children:[s.jsx(T,{item:!0,children:s.jsx(w,{minWidth:180,display:"flex",justifyContent:"center",children:s.jsx(nt,{control:s.jsx(at,{checked:t,onChange:h=>r(h.target.checked)}),label:"Show in order"})})}),i&&s.jsxs(s.Fragment,{children:[s.jsx(T,{item:!0,xs:12,md:2,children:s.jsxs(ct,{fullWidth:!0,children:[s.jsx(ht,{children:"Period"}),s.jsxs(dt,{variant:"standard",defaultValue:"",onChange:h=>{const[_,b]=h.target.value.split(",");if(_===""){c(f=>(f.delete(l.FROM),f.delete(l.TO),f),{preventScrollReset:!0,replace:!0});return}const[W,q]=[Number(_),b],G=e.maxDate.subtract(W,q);c(f=>(f.delete(l.FROM),f.delete(l.TO),f.append(l.FROM,L(G.isBefore(e.minDate)?e.minDate.toDate():G.toDate())),f.append(l.TO,L(e.maxDate.toDate())),f),{preventScrollReset:!0,replace:!0})},children:[s.jsx(u,{value:"",children:s.jsx("em",{children:"None"})}),s.jsx(u,{value:"10,minutes",children:"Last 10 Minutes"}),s.jsx(u,{value:"30,minutes",children:"Last 30 Minutes"}),s.jsx(u,{value:"1,hours",children:"Last 1 Hours"}),s.jsx(u,{value:"2,hours",children:"Last 2 Hours"}),s.jsx(u,{value:"8,hours",children:"Last 8 Hours"}),s.jsx(u,{value:"24,hours",children:"Last 24 Hours"}),s.jsx(u,{value:"7,days",children:"Last 7 Days"}),s.jsx(u,{value:"14,days",children:"Last 14 Days"}),s.jsx(u,{value:"28,days",children:"Last 28 Days"}),s.jsx(u,{value:"60,days",children:"Last 60 Days"})]})]})}),s.jsx(T,{item:!0,children:s.jsxs(w,{display:"flex",alignItems:"center",gap:2,children:[s.jsx(N,{minDate:e.minDate,maxDate:e.maxDate&&a,slotProps:{textField:{variant:"standard"}},label:"From",value:n,onChange:d(l.FROM)}),s.jsx(w,{height:1,display:"flex",alignItems:"center",children:s.jsx(E,{children:" - "})}),s.jsx(N,{minDate:e.minDate&&n,maxDate:e.maxDate,slotProps:{textField:{variant:"standard"}},label:"To",value:a,onChange:d(l.TO)})]})}),s.jsx(T,{item:!0,xs:12,children:s.jsx(lt,{unmountOnExit:!0,in:!o,children:s.jsxs(A,{severity:"error",children:[s.jsx(F,{children:"Error"}),p]})})})]})]})})},At=({api:e})=>({loader:({params:t,request:r})=>{y(t.projectId);const{searchParams:i}=new URL(r.url);let o=i.get(l.FROM),n=i.get(l.TO);return o&&!D(o).isValid()&&(o=null),n&&!D(n).isValid()&&(n=null),e.getProjectDashboard({project:{id:t.projectId},options:{timestamp_start:o,timestamp_end:n}})}}),{loader:Ft}=At({api:$}),Bt={index:!0,id:"dashboard",lazy:async()=>{const[{DashboardComponentTemplate:e},{DashboardWidgets:t}]=await Promise.all([g(()=>import("./index-Y4CGhTk3.js"),__vite__mapDeps([3,1,4,5])),g(()=>import("./DashboardWidgets-BZwV75ei.js"),__vite__mapDeps([6,1,7,4,2,8]))]);return{Component:()=>s.jsx(e,{Dashboard:({data:{widgets:r}})=>s.jsx(t,{widgets:r})})}},loader:Ft,ErrorBoundary:v},Mt=({api:e})=>({loader:({params:t})=>(y(t.projectId),t.snapshotId?Promise.resolve([]):e.listReports({project:{id:t.projectId}})),action:async({params:t})=>(y(t.projectId),e.reloadSnapshots({project:{id:t.projectId}}))}),$t=({api:e})=>({loader:({params:t})=>(y(t.projectId),t.snapshotId?Promise.resolve([]):e.listTestSuites({project:{id:t.projectId}})),action:async({params:t})=>(y(t.projectId),e.reloadSnapshots({project:{id:t.projectId}}))}),Gt=({api:e})=>({loader:({params:t})=>{const{projectId:r,snapshotId:i}=t;return y(r),y(i),e.getSnapshotDashboard({project:{id:r},snapshot:{id:i}})}}),{loader:Nt}=Gt({api:$}),H={path:":snapshotId",lazy:async()=>{const{SnapshotTemplate:e,...t}=await g(()=>import("./index-vToD_Ha9.js"),__vite__mapDeps([9,1,7,4,2,8]));return{Component:()=>s.jsx(e,{api:$}),...t}},loader:Nt,ErrorBoundary:v},{loader:Vt,action:zt}=Mt({api:C}),Ut={id:"reports",path:"reports",lazy:async()=>{const{SnapshotsListTemplate:e,...t}=await g(()=>import("./index-DC3NAYIv.js"),__vite__mapDeps([10,1,5,11,2,12]));return{...t,Component:()=>s.jsxs(s.Fragment,{children:[s.jsx(M,{}),s.jsx(e,{type:"reports"})]})}},loader:Vt,action:zt,ErrorBoundary:v,children:[H]},{loader:Ht,action:Wt}=$t({api:C}),qt={id:"test_suites",path:"test-suites",lazy:async()=>{const{SnapshotsListTemplate:e,...t}=await g(()=>import("./index-DC3NAYIv.js"),__vite__mapDeps([10,1,5,11,2,12]));return{...t,Component:()=>s.jsxs(s.Fragment,{children:[s.jsx(M,{}),s.jsx(e,{type:"test suites"})]})}},loader:Ht,action:Wt,ErrorBoundary:v,children:[H]},{loader:Jt}=Ot({api:C}),Qt={path:"projects/:projectId",lazy:()=>g(()=>import("./index-DH7dNy5S.js"),__vite__mapDeps([13,1,11,2])),loader:Jt,ErrorBoundary:v,children:[Bt,Ut,qt]},Yt=S.object({action:S.literal("edit-project")}),Kt=S.object({action:S.literal("create-new-project")}),Xt=S.object({action:S.literal("delete-project"),projectId:S.string().uuid()}),Zt=({api:e})=>({loader:()=>e.list(),action:async({request:t})=>{Pt(t);const r=await t.json();if(Kt.safeParse(r).success)return e.create({body:r});const i=Xt.safeParse(r);if(i.success)return e.delete({id:i.data.projectId});if(Yt.safeParse(r).success)return e.update({body:r});throw"Undefined action"}}),{loader:te,action:ee}=Zt({api:C}),re={index:!0,lazy:()=>g(()=>import("./index-Db0FOPuV.js"),__vite__mapDeps([14,1,8,2,5])).then(e=>({...e,Component:()=>s.jsxs(s.Fragment,{children:[s.jsx(M,{}),s.jsx(e.Component,{})]})})),loader:te,action:ee,ErrorBoundary:v},se={path:"*",Component:()=>s.jsx(w,{display:"flex",justifyContent:"center",children:s.jsx(E,{variant:"h4",children:"Page Not Found"})})},oe={...Ct,children:[re,Qt,se],ErrorBoundary:v},ie=pt([oe]);ft.createRoot(document.getElementById("root")).render(s.jsx(R.StrictMode,{children:s.jsx(mt,{theme:yt,children:s.jsx(jt,{router:ie})})}));export{ce as D};
