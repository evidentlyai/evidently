import{G as p,z as j,E as M,ax as l,au as ht,av as nt,ay as X,B as tn,aY as Ut,bR as fe,bS as K,aA as it,az as en,bT as Lt,aZ as Y,bx as Ct,F as nn,aM as ct,bU as sn,bG as ge,bV as on,bd as an,bh as zt,bl as rn,bW as pe,br as _e,bX as ln,bP as cn,bK as hn,bH as un,bI as dn,bJ as xn,bO as fn}from"./index-BsGkHbko.js";import{F as gn,G as lt,H as pn,I as Qt,J as _n,K as mn,L as Tt,M as D,N as bn,O as yn,Q as vt,R as It,u as Mt,S as U,T as me,U as $t,V as dt,W as be,X as Nt,Y as kn,Z as ye,_ as ke,$ as Vt,a0 as wn,a1 as An,a2 as Cn,a3 as we,a4 as Wt,a5 as te,a6 as Sn,a7 as Pn,a8 as jn,a9 as Ae,aa as Ce,ab as Se,ac as Ln,ad as Tn,ae as vn,af as In,ag as Mn,ah as $n,ai as Kt,aj as Pe,ak as Nn,al as Rn,am as En,an as je,ao as Bn,ap as Dn,D as Le,P as On,E as Hn}from"./Pie-D7EVmENG.js";function Te(t){this._context=t}Te.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function ve(t){return new Te(t)}function zn(t){return t[0]}function Fn(t){return t[1]}function Gn(t,e){var n=lt(!0),i=null,o=ve,s=null,a=gn(r);t=typeof t=="function"?t:t===void 0?zn:lt(t),e=typeof e=="function"?e:e===void 0?Fn:lt(e);function r(c){var h,u=(c=pn(c)).length,d,x=!1,f;for(i==null&&(s=o(f=a())),h=0;h<=u;++h)!(h<u&&n(d=c[h],h,c))===x&&((x=!x)?s.lineStart():s.lineEnd()),x&&s.point(+t(d,h,c),+e(d,h,c));if(f)return s=null,f+""||null}return r.x=function(c){return arguments.length?(t=typeof c=="function"?c:lt(+c),r):t},r.y=function(c){return arguments.length?(e=typeof c=="function"?c:lt(+c),r):e},r.defined=function(c){return arguments.length?(n=typeof c=="function"?c:lt(!!c),r):n},r.curve=function(c){return arguments.length?(o=c,i!=null&&(s=o(i)),r):o},r.context=function(c){return arguments.length?(c==null?i=s=null:s=o(i=c),r):i},r}class Ie{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Xn(t){return new Ie(t,!0)}function Yn(t){return new Ie(t,!1)}function ee(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Zt(t,e){this._context=t,this._k=(1-e)/6}Zt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ee(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:ee(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(i){return new Zt(i,e)}return n.tension=function(i){return t(+i)},n})(0);function Un(t,e,n){var i=t._x1,o=t._y1,s=t._x2,a=t._y2;if(t._l01_a>Qt){var r=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*r-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,o=(o*r-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>Qt){var h=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,u=3*t._l23_a*(t._l23_a+t._l12_a);s=(s*h+t._x1*t._l23_2a-e*t._l12_2a)/u,a=(a*h+t._y1*t._l23_2a-n*t._l12_2a)/u}t._context.bezierCurveTo(i,o,s,a,t._x2,t._y2)}function Me(t,e){this._context=t,this._alpha=e}Me.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Un(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Vn=function t(e){function n(i){return e?new Me(i,e):new Zt(i,0)}return n.alpha=function(i){return t(+i)},n}(.5);function ne(t){return t<0?-1:1}function ie(t,e,n){var i=t._x1-t._x0,o=e-t._x1,s=(t._y1-t._y0)/(i||o<0&&-0),a=(n-t._y1)/(o||i<0&&-0),r=(s*o+a*i)/(i+o);return(ne(s)+ne(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(r))||0}function se(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Ft(t,e,n){var i=t._x0,o=t._y0,s=t._x1,a=t._y1,r=(s-i)/3;t._context.bezierCurveTo(i+r,o+r*e,s-r,a-r*n,s,a)}function St(t){this._context=t}St.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ft(this,this._t0,se(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Ft(this,se(this,n=ie(this,t,e)),n);break;default:Ft(this,this._t0,n=ie(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function $e(t){this._context=new Ne(t)}($e.prototype=Object.create(St.prototype)).point=function(t,e){St.prototype.point.call(this,e,t)};function Ne(t){this._context=t}Ne.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,o,s){this._context.bezierCurveTo(e,t,i,n,s,o)}};function oe(t){return new St(t)}function Wn(t){return new $e(t)}function Re(t){this._context=t}Re.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var i=ae(t),o=ae(e),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(i[0][s],o[0][s],i[1][s],o[1][s],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function ae(t){var e,n=t.length-1,i,o=new Array(n),s=new Array(n),a=new Array(n);for(o[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)o[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(o[n-1]=2,s[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)i=o[e]/s[e-1],s[e]-=i,a[e]-=i*a[e-1];for(o[n-1]=a[n-1]/s[n-1],e=n-2;e>=0;--e)o[e]=(a[e]-o[e+1])/s[e];for(s[n-1]=(t[n]+o[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-o[e+1];return[o,s]}function Kn(t){return new Re(t)}function Rt(t,e){this._context=t,this._t=e}Rt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Zn(t){return new Rt(t,.5)}function Jn(t){return new Rt(t,0)}function qn(t){return new Rt(t,1)}mn("bar");const Qn=_n("bar");function ti(){return Qn()}function ei(t,e){const n=D(t.x,e.x),i=D(t.y,e.y),o=D(t.width,e.width),s=D(t.height,e.height);return a=>({x:n(a),y:i(a),width:o(a),height:s(a)})}function ni(t){const e={x:t.layout==="vertical"?t.x:t.xOrigin,y:t.layout==="vertical"?t.yOrigin:t.y,width:t.layout==="vertical"?t.width:0,height:t.layout==="vertical"?0:t.height};return Tt({x:t.x,y:t.y,width:t.width,height:t.height},{createInterpolator:ei,applyProps(n,i){n.setAttribute("x",i.x.toString()),n.setAttribute("y",i.y.toString()),n.setAttribute("width",i.width.toString()),n.setAttribute("height",i.height.toString())},transformProps:n=>n,initialProps:e,skip:t.skipAnimation,ref:t.ref})}function ii(t,e){const n=D(t.x,e.x),i=D(t.y,e.y),o=D(t.width,e.width),s=D(t.height,e.height);return a=>({x:n(a),y:i(a),width:o(a),height:s(a)})}function si(t){const e={x:t.layout==="vertical"?t.x+t.width/2:t.xOrigin,y:t.layout==="vertical"?t.yOrigin:t.y+t.height/2,width:t.width,height:t.height},n={x:t.x+t.width/2,y:t.y+t.height/2,width:t.width,height:t.height};return Tt(n,{createInterpolator:ii,transformProps:i=>i,applyProps(i,o){i.setAttribute("x",o.x.toString()),i.setAttribute("y",o.y.toString()),i.setAttribute("width",o.width.toString()),i.setAttribute("height",o.height.toString())},initialProps:e,skip:t.skipAnimation,ref:t.ref})}function oi(t){return Tt({d:t.d},{createInterpolator:(e,n)=>{const i=bn(e.d,n.d);return o=>({d:i(o)})},applyProps:(e,{d:n})=>e.setAttribute("d",n),skip:t.skipAnimation,transformProps:e=>e,ref:t.ref})}function ai(){return typeof window>"u"}const et={widthCache:{},cacheCount:0},ri=2e3,li={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},ci=["minWidth","maxWidth","width","minHeight","maxHeight","height","top","left","fontSize","padding","margin","paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom"],re="mui_measurement_span";function Ee(t,e){return ci.indexOf(t)>=0&&e===+e?`${e}px`:e}function Be(t){return t.split("").reduce((i,o)=>o===o.toUpperCase()?[...i,"-",o.toLowerCase()]:[...i,o],[]).join("")}const hi=t=>Object.keys(t).sort().reduce((e,n)=>`${e}${Be(n)}:${Ee(n,t[n])};`,"");let Gt;const xt=(t,e={})=>{if(t==null||ai())return{width:0,height:0};const n=`${t}`,i=hi(e),o=`${n}-${i}`;if(et.widthCache[o])return et.widthCache[o];try{let s=document.getElementById(re);s===null&&(s=document.createElement("span"),s.setAttribute("id",re),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));const a=p({},li,e);Object.keys(a).map(h=>(s.style[Be(h)]=Ee(h,a[h]),h)),s.textContent=n;const r=s.getBoundingClientRect(),c={width:r.width,height:r.height};return et.widthCache[o]=c,et.cacheCount+1>ri?(et.cacheCount=0,et.widthCache={}):et.cacheCount+=1,Gt&&clearTimeout(Gt),Gt=setTimeout(()=>{s.textContent=""},0),c}catch{return{width:0,height:0}}};function De({style:t,needsComputation:e,text:n}){return n.split(`
`).map(i=>p({text:i},e?xt(i,t):{width:0,height:0}))}function Jt(){const[t,e]=j.useState(typeof window<"u"||!1);return j.useEffect(()=>{e(!0)},[]),t}const ui=["x","y","style","text","ownerState"],di=["angle","textAnchor","dominantBaseline"];function Pt(t){const{x:e,y:n,style:i,text:o}=t,s=M(t,ui),a=i??{},{angle:r,textAnchor:c,dominantBaseline:h}=a,u=M(a,di),d=Jt(),x=j.useMemo(()=>De({style:u,needsComputation:d&&o.includes(`
`),text:o}),[u,o,d]);let f;switch(h){case"hanging":case"text-before-edge":f=0;break;case"central":f=(x.length-1)/2*-x[0].height;break;default:f=(x.length-1)*-x[0].height;break}return l.jsx("text",p({},s,{transform:r?`rotate(${r}, ${e}, ${n})`:void 0,x:e,y:n,textAnchor:c,dominantBaseline:h,style:u,children:x.map((g,_)=>l.jsx("tspan",{x:e,dy:`${_===0?f:x[0].height}px`,dominantBaseline:h,children:g.text},_))}))}const Oe=typeof window<"u"&&"Intl"in window&&"Segmenter"in Intl?new Intl.Segmenter(void 0,{granularity:"grapheme"}):null;function xi(t){return t.length}function fi(t){const e=Oe.segment(t);let n=0;for(const i of e)n+=1;return n}const gi=Oe?fi:xi;function pi(t){return t*(Math.PI/180)}const He=typeof window<"u"&&"Intl"in window&&"Segmenter"in Intl?new Intl.Segmenter(void 0,{granularity:"grapheme"}):null;function _i(t,e){return t.slice(0,e)}function mi(t,e){const n=He.segment(t);let i="",o=0;for(const s of n)if(i+=s.segment,o+=1,o>=e)break;return i}const bi=He?mi:_i,le="â€¦";function ze(t,e){const{width:n,height:i,measureText:o}=e,s=pi(e.angle),a=o(t),r=Math.abs(a.width*Math.cos(s))+Math.abs(a.height*Math.sin(s)),c=Math.abs(a.width*Math.sin(s))+Math.abs(a.height*Math.cos(s));return r<=n&&c<=i}function Fe(t,e){if(e(t))return t;let n=t,i=1,o=1/2;const s=gi(t);let a=s,r=s,c=null;do{if(r=a,a=Math.floor(s*o),a===0)break;n=bi(t,a).trim();const h=e(n+le);i+=1,h?(c=n,o+=1/2**i):o-=1/2**i}while(Math.abs(a-r)!==1);return c?c+le:""}function Ge(t){return ht("MuiChartsAxis",t)}const wt=nt("MuiChartsAxis",["root","line","tickContainer","tick","tickLabel","label","directionX","directionY","top","bottom","left","right"]),Xe=X("g",{name:"MuiChartsAxis",slot:"Root"})(({theme:t})=>({[`& .${wt.tickLabel}`]:p({},t.typography.caption,{fill:(t.vars||t).palette.text.primary}),[`& .${wt.label}`]:{fill:(t.vars||t).palette.text.primary},[`& .${wt.line}`]:{stroke:(t.vars||t).palette.text.primary,shapeRendering:"crispEdges",strokeWidth:1},[`& .${wt.tick}`]:{stroke:(t.vars||t).palette.text.primary,shapeRendering:"crispEdges"}})),ce=5;function yi(t,e,n=0){const i=Math.min(Math.abs(n)%180,Math.abs(Math.abs(n)%180-180)%180);if(i<ce)return t;if(i>90-ce)return e;const o=yn(i),s=Math.atan2(e,t);return o<s?t/Math.cos(o):e/Math.sin(o)}function ki(t=!1){const[e,n]=j.useState(!1);return tn(()=>{t||n(!0)},[t]),j.useEffect(()=>{t&&n(!0)},[t]),e}function Ye(t){const e=vt(t);return e<=30||e>=330||e<=210&&e>=150?"middle":e<=180?"end":"start"}function Ue(t){const e=vt(t);return e<=30||e>=330?"hanging":e<=210&&e>=150?"auto":"central"}function Ve(t){switch(t){case"start":return"end";case"end":return"start";default:return t}}const wi=["scale","tickNumber","reverse"],Ai=t=>{const{classes:e,position:n}=t;return it({root:["root","directionX",n],line:["line"],tickContainer:["tickContainer"],tick:["tick"],tickLabel:["tickLabel"],label:["label"]},Ge,e)},he=3,Ci=4;function Si(t,{tickLabelStyle:e,tickLabelInterval:n,tickLabelMinGap:i,reverse:o,isMounted:s,isPointInside:a}){const r=u=>{if(!s||u.formattedValue===void 0)return{width:0,height:0};const d=De({style:e,needsComputation:!0,text:u.formattedValue});return{width:Math.max(...d.map(x=>x.width)),height:Math.max(d.length*d[0].height)}};if(typeof n=="function")return new Set(t.filter((u,d)=>n(u.value,d)));let c=0;const h=o?-1:1;return new Set(t.filter((u,d)=>{const{offset:x,labelOffset:f}=u,g=x+f;if(d>0&&h*g<h*(c+i)||!a(g))return!1;const{width:_,height:C}=r(u),k=yi(_,C,e?.angle),A=g-h*k/2;return d>0&&h*A<h*(c+i)?!1:(c=g+h*k/2,!0)}))}function Pi(t,e,n,i,o){const s=new Map,a=vt(o?.angle??0);let r=1,c=1;o?.textAnchor==="start"?(r=1/0,c=1):o?.textAnchor==="end"?(r=1,c=1/0):(r=2,c=2),a>90&&a<270&&([r,c]=[c,r]),i&&([r,c]=[c,r]);for(const h of t)if(h.formattedValue){const u=Math.min((h.offset+h.labelOffset)*r,(e.left+e.width+e.right-h.offset-h.labelOffset)*c),d=x=>ze(x,{width:u,height:n,angle:a,measureText:f=>xt(f,o)});s.set(h,Fe(h.formattedValue.toString(),d))}return s}const ji=X(Xe,{name:"MuiChartsXAxis",slot:"Root"})({}),Li={disableLine:!1,disableTicks:!1,tickSize:6,tickLabelMinGap:4};function Ti(t){const{xAxis:e,xAxisIds:n}=It(),i=e[t.axisId??n[0]],{scale:o,tickNumber:s,reverse:a}=i,r=M(i,wi),c=ki(),h=Mt({props:p({},r,t),name:"MuiChartsXAxis"}),u=p({},Li,h),{position:d,disableLine:x,disableTicks:f,tickLabelStyle:g,label:_,labelStyle:C,tickSize:k,valueFormatter:A,slots:m,slotProps:y,tickInterval:v,tickLabelInterval:T,tickPlacement:I,tickLabelPlacement:L,tickLabelMinGap:O,sx:$,offset:H,height:V}=u,R=Ut(),w=fe(),S=Ai(u),N=U(),{left:E,top:Z,width:J,height:F}=N,{instance:B}=me(),q=Jt(),W=f?4:k,z=d==="bottom"?1:-1,st=m?.axisLine??"line",ot=m?.axisTick??"line",b=m?.axisTickLabel??Pt,P=m?.axisLabel??Pt,Q=Ye((d==="bottom"?0:180)-(g?.angle??0)),ft=Ue((d==="bottom"?0:180)-(g?.angle??0)),at=K({elementType:b,externalSlotProps:y?.axisTickLabel,additionalProps:{style:p({},R.typography.caption,{fontSize:12,lineHeight:1.25,textAnchor:w?Ve(Q):Q,dominantBaseline:ft},g)},className:S.tickLabel,ownerState:{}}),gt=$t({scale:o,tickNumber:s,valueFormatter:A,tickInterval:v,tickPlacement:I,tickLabelPlacement:L}),rt=Si(gt,{tickLabelStyle:at.style,tickLabelInterval:T,tickLabelMinGap:O,reverse:a,isMounted:c,isPointInside:G=>B.isPointInside({x:G,y:-1},{direction:"x"})}),ut=K({elementType:P,externalSlotProps:y?.axisLabel,additionalProps:{style:p({},R.typography.body1,{lineHeight:1,fontSize:14,textAnchor:"middle",dominantBaseline:d==="bottom"?"text-after-edge":"text-before-edge"},C)},ownerState:{}}),pt=o.domain(),_t=dt(o);if(_t&&pt.length===0||!_t&&pt.some(be)||d==="none")return null;const Et=_?xt(_,ut.style).height:0,tt={x:E+J/2,y:z*V},mt=Math.max(0,V-(_?Et+Ci:0)-W-he),bt=q?Pi(rt,N,mt,w,at.style):new Map(Array.from(rt).map(G=>[G,G.formattedValue]));return l.jsxs(ji,{transform:`translate(0, ${d==="bottom"?Z+F+H:Z-H})`,className:S.root,sx:$,children:[!x&&l.jsx(st,p({x1:E,x2:E+J,className:S.line},y?.axisLine)),gt.map((G,Bt)=>{const{offset:yt,labelOffset:Dt}=G,Ot=Dt??0,Ht=z*(W+he),kt=B.isPointInside({x:yt,y:-1},{direction:"x"}),qt=bt.get(G),Qe=rt.has(G);return l.jsxs("g",{transform:`translate(${yt}, 0)`,className:S.tickContainer,children:[!f&&kt&&l.jsx(ot,p({y2:z*W,className:S.tick},y?.axisTick)),qt!==void 0&&Qe&&l.jsx(b,p({x:Ot,y:Ht},at,{text:qt}))]},Bt)}),_&&l.jsx("g",{className:S.label,children:l.jsx(P,p({},tt,ut,{text:_}))})]})}const vi=["scale","tickNumber"],Ii=t=>{const{classes:e,position:n}=t;return it({root:["root","directionY",n],line:["line"],tickContainer:["tickContainer"],tick:["tick"],tickLabel:["tickLabel"],label:["label"]},Ge,e)},ue=2,Mi=2;function $i(t,e,n,i,o){const s=new Map,a=vt(o?.angle??0);let r=1,c=1;o?.textAnchor==="start"?(r=1/0,c=1):o?.textAnchor==="end"?(r=1,c=1/0):(r=2,c=2),a>180&&([r,c]=[c,r]),i&&([r,c]=[c,r]);for(const h of t)if(h.formattedValue){const u=Math.min((h.offset+h.labelOffset)*r,(e.top+e.height+e.bottom-h.offset-h.labelOffset)*c),d=x=>ze(x,{width:n,height:u,angle:a,measureText:f=>xt(f,o)});s.set(h,Fe(h.formattedValue.toString(),d))}return s}const Ni=X(Xe,{name:"MuiChartsYAxis",slot:"Root"})({}),Ri={disableLine:!1,disableTicks:!1,tickSize:6};function Ei(t){const{yAxisIds:e,yAxis:n}=Nt(),i=n[t.axisId??e[0]],{scale:o,tickNumber:s}=i,a=M(i,vi),r=Mt({props:p({},a,t),name:"MuiChartsYAxis"}),c=p({},Ri,r),{position:h,disableLine:u,disableTicks:d,label:x,labelStyle:f,tickLabelStyle:g,tickSize:_,valueFormatter:C,slots:k,slotProps:A,tickPlacement:m,tickLabelPlacement:y,tickInterval:v,tickLabelInterval:T,sx:I,offset:L,width:O}=c,$=Ut(),H=fe(),V=Jt(),R=Ii(c),{instance:w}=me(),S=U(),{left:N,top:E,width:Z,height:J}=S,F=d?4:_,B=$t({scale:o,tickNumber:s,valueFormatter:C,tickPlacement:m,tickLabelPlacement:y,tickInterval:v}),q=h==="right"?1:-1,W=typeof g?.fontSize=="number"?g.fontSize:12,z=k?.axisLine??"line",st=k?.axisTick??"line",ot=k?.axisTickLabel??Pt,b=k?.axisLabel??Pt,P=Ye((h==="right"?-90:90)-(g?.angle??0)),Q=Ue((h==="right"?-90:90)-(g?.angle??0)),ft=K({elementType:ot,externalSlotProps:A?.axisTickLabel,additionalProps:{style:p({},$.typography.caption,{fontSize:W,textAnchor:H?Ve(P):P,dominantBaseline:Q},g)},className:R.tickLabel,ownerState:{}}),at=K({elementType:b,externalSlotProps:A?.axisLabel,additionalProps:{style:p({},$.typography.body1,{lineHeight:1,fontSize:14,angle:q*90,textAnchor:"middle",dominantBaseline:"text-before-edge"},f)},ownerState:{}}),gt=K({elementType:z,externalSlotProps:A?.axisLine,additionalProps:{strokeLinecap:"square"},ownerState:{}}),rt=o.domain(),ut=dt(o);if(ut&&rt.length===0||!ut&&rt.some(be)||h==="none")return null;const pt={x:q*O,y:E+J/2},_t=Math.max(0,O-(x?xt(x,at.style).height+Mi:0)-F-ue),Et=V?$i(B,S,_t,H,ft.style):new Map(Array.from(B).map(tt=>[tt,tt.formattedValue]));return l.jsxs(Ni,{transform:`translate(${h==="right"?N+Z+L:N-L}, 0)`,className:R.root,sx:I,children:[!u&&l.jsx(z,p({y1:E,y2:E+J,className:R.line},gt)),B.map((tt,mt)=>{const{offset:bt,labelOffset:G,value:Bt}=tt,yt=q*(F+ue),Dt=G,Ot=typeof T=="function"&&!T?.(Bt,mt),Ht=w.isPointInside({x:-1,y:bt},{direction:"y"}),kt=Et.get(tt);return Ht?l.jsxs("g",{transform:`translate(0, ${bt})`,className:R.tickContainer,children:[!d&&l.jsx(st,p({x2:q*F,className:R.tick},A?.axisTick)),kt!==void 0&&!Ot&&l.jsx(ot,p({x:yt,y:Dt,text:kt},ft))]},mt):null}),x&&V&&l.jsx("g",{className:R.label,children:l.jsx(b,p({},pt,at,{text:x}))})]})}function Bi(t){return ht("MuiChartsGrid",t)}const de=nt("MuiChartsGrid",["root","line","horizontalLine","verticalLine"]),Di=X("g",{name:"MuiChartsGrid",slot:"Root",overridesResolver:(t,e)=>[{[`&.${de.verticalLine}`]:e.verticalLine},{[`&.${de.horizontalLine}`]:e.horizontalLine},e.root]})({}),We=X("line",{name:"MuiChartsGrid",slot:"Line"})(({theme:t})=>({stroke:(t.vars||t).palette.divider,shapeRendering:"crispEdges",strokeWidth:1}));function Oi(t){const{axis:e,start:n,end:i,classes:o}=t,{scale:s,tickNumber:a,tickInterval:r}=e,c=$t({scale:s,tickNumber:a,tickInterval:r});return l.jsx(j.Fragment,{children:c.map(({value:h,offset:u})=>l.jsx(We,{y1:n,y2:i,x1:u,x2:u,className:o.verticalLine},`vertical-${h.getTime?.()??h}`))})}function Hi(t){const{axis:e,start:n,end:i,classes:o}=t,{scale:s,tickNumber:a,tickInterval:r}=e,c=$t({scale:s,tickNumber:a,tickInterval:r});return l.jsx(j.Fragment,{children:c.map(({value:h,offset:u})=>l.jsx(We,{y1:u,y2:u,x1:n,x2:i,className:o.horizontalLine},`horizontal-${h.getTime?.()??h}`))})}const zi=["vertical","horizontal"],Fi=({classes:t})=>it({root:["root"],verticalLine:["line","verticalLine"],horizontalLine:["line","horizontalLine"]},Bi,t);function Gi(t){const e=Mt({props:t,name:"MuiChartsGrid"}),n=U(),{vertical:i,horizontal:o}=e,s=M(e,zi),{xAxis:a,xAxisIds:r}=It(),{yAxis:c,yAxisIds:h}=Nt(),u=Fi(e),d=c[h[0]],x=a[r[0]];return l.jsxs(Di,p({},s,{className:u.root,children:[i&&l.jsx(Oi,{axis:x,start:n.top,end:n.height+n.top,classes:u}),o&&l.jsx(Hi,{axis:d,start:n.left,end:n.width+n.left,classes:u})]}))}function Xi(t){return ht("MuiChartsAxisHighlight",t)}nt("MuiChartsAxisHighlight",["root"]);const jt=X("path",{name:"MuiChartsAxisHighlight",slot:"Root"})(({theme:t})=>({pointerEvents:"none",variants:[{props:{axisHighlight:"band"},style:p({fill:"white",fillOpacity:.1},t.applyStyles("light",{fill:"gray"}))},{props:{axisHighlight:"line"},style:p({strokeDasharray:"5 2",stroke:"#ffffff"},t.applyStyles("light",{stroke:"#000000"}))}]}));function Yi(t){const{type:e,classes:n}=t,{left:i,width:o}=U(),s=kn(),a=ye(),r=ke(a,wn),c=Vt(s),h=e==="band"&&r!==null&&dt(s);return l.jsxs(j.Fragment,{children:[h&&s(r)!==void 0&&l.jsx(jt,{d:`M ${i} ${s(r)-(s.step()-s.bandwidth())/2} l 0 ${s.step()} l ${o} 0 l 0 ${-s.step()} Z`,className:n.root,ownerState:{axisHighlight:"band"}}),e==="line"&&r!==null&&l.jsx(jt,{d:`M ${i} ${c(r)} L ${i+o} ${c(r)}`,className:n.root,ownerState:{axisHighlight:"line"}})]})}function Ui(t){const{type:e,classes:n}=t,{top:i,height:o}=U(),s=An(),a=ye(),r=ke(a,Cn),c=Vt(s),h=e==="band"&&r!==null&&dt(s);return l.jsxs(j.Fragment,{children:[h&&s(r)!==void 0&&l.jsx(jt,{d:`M ${s(r)-(s.step()-s.bandwidth())/2} ${i} l ${s.step()} 0 l 0 ${o} l ${-s.step()} 0 Z`,className:n.root,ownerState:{axisHighlight:"band"}}),e==="line"&&r!==null&&l.jsx(jt,{d:`M ${c(r)} ${i} L ${c(r)} ${i+o}`,className:n.root,ownerState:{axisHighlight:"line"}})]})}const Vi=()=>it({root:["root"]},Xi);function Wi(t){const{x:e,y:n}=t,i=Vi();return l.jsxs(j.Fragment,{children:[e&&l.jsx(Ui,{type:e,classes:i}),n&&l.jsx(Yi,{type:n,classes:i})]})}function Ki(t){return ht("MuiBarElement",t)}const Zi=nt("MuiBarElement",["root","highlighted","faded","series"]),Ji=t=>{const{classes:e,id:n,isHighlighted:i,isFaded:o}=t,s={root:["root",`series-${n}`,i&&"highlighted",o&&"faded"]};return it(s,Ki,e)},qi=["ownerState","skipAnimation","id","dataIndex","xOrigin","yOrigin"];function Qi(t){const{ownerState:e}=t,n=M(t,qi),i=ni(t);return l.jsx("rect",p({},n,{filter:e.isHighlighted?"brightness(120%)":void 0,opacity:e.isFaded?.3:1},i))}const ts=["id","dataIndex","classes","color","slots","slotProps","style","onClick","skipAnimation","layout","x","xOrigin","y","yOrigin","width","height"];function es(t){const{id:e,dataIndex:n,classes:i,color:o,slots:s,slotProps:a,style:r,onClick:c,skipAnimation:h,layout:u,x:d,xOrigin:x,y:f,yOrigin:g,width:_,height:C}=t,k=M(t,ts),A=we({type:"bar",seriesId:e,dataIndex:n}),{isFaded:m,isHighlighted:y}=Wt({seriesId:e,dataIndex:n}),v={id:e,dataIndex:n,classes:i,color:o,isFaded:m,isHighlighted:y},T=Ji(v),I=s?.bar??Qi,L=K({elementType:I,externalSlotProps:a?.bar,externalForwardedProps:k,additionalProps:p({},A,{id:e,dataIndex:n,color:o,x:d,xOrigin:x,y:f,yOrigin:g,width:_,height:C,style:r,onClick:c,cursor:c?"pointer":"unset",stroke:"none",fill:o,skipAnimation:h,layout:u}),className:T.root,ownerState:v});return l.jsx(I,p({},L))}const At=(t,{hasNegative:e,hasPositive:n,borderRadius:i,layout:o})=>{if(!i)return 0;const s=o==="vertical";return t==="top-left"&&(s&&n||!s&&e)||t==="top-right"&&(s&&n||!s&&n)||t==="bottom-right"&&(s&&e||!s&&n)||t==="bottom-left"&&(s&&e||!s&&e)?i:0},ns=["maskId","x","y","width","height","skipAnimation"];function is(t,e,n){const i=p({},n,{borderRadius:e}),o=Math.min(t,At("top-left",i)),s=Math.min(t,At("top-right",i)),a=Math.min(t,At("bottom-right",i)),r=Math.min(t,At("bottom-left",i));return`inset(0px round ${o}px ${s}px ${a}px ${r}px)`}function ss(t,e){const n=D(t.x,e.x),i=D(t.y,e.y),o=D(t.width,e.width),s=D(t.height,e.height),a=D(t.borderRadius,e.borderRadius);return r=>({x:n(r),y:i(r),width:o(r),height:s(r),borderRadius:a(r)})}function os(t){const e={x:t.x,y:t.y+(t.ownerState.layout==="vertical"?t.height:0),width:t.ownerState.layout==="vertical"?t.width:0,height:t.ownerState.layout==="vertical"?0:t.height,borderRadius:t.borderRadius};return Tt({x:t.x,y:t.y,width:t.width,height:t.height,borderRadius:t.borderRadius},{createInterpolator:ss,transformProps:n=>({x:n.x,y:n.y,width:n.width,height:n.height,style:{clipPath:is(t.ownerState.layout==="vertical"?n.height:n.width,n.borderRadius,t.ownerState)}}),applyProps(n,i){n.setAttribute("x",i.x.toString()),n.setAttribute("y",i.y.toString()),n.setAttribute("width",i.width.toString()),n.setAttribute("height",i.height.toString()),n.style.clipPath=i.style.clipPath},initialProps:e,skip:t.skipAnimation,ref:t.ref})}function as(t){const e=os(p({},t,{borderRadius:t.ownerState.borderRadius??0}));return l.jsx("rect",p({},e))}function rs(t){const{maskId:e,x:n,y:i,width:o,height:s,skipAnimation:a}=t,r=M(t,ns);return!t.borderRadius||t.borderRadius<=0?null:l.jsx("clipPath",{id:e,children:l.jsx(as,{ownerState:r,x:n,y:i,width:o,height:s,skipAnimation:a})})}function ls(t){return ht("MuiBarLabel",t)}const Xt=nt("MuiBarLabel",["root","highlighted","faded","animate"]),cs=t=>{const{classes:e,seriesId:n,isFaded:i,isHighlighted:o,skipAnimation:s}=t,a={root:["root",`series-${n}`,o&&"highlighted",i&&"faded",!s&&"animate"]};return it(a,ls,e)},hs=t=>{const{barLabel:e,value:n,dataIndex:i,seriesId:o,height:s,width:a}=t;return e==="value"?n?n?.toString():null:e({seriesId:o,dataIndex:i,value:n},{bar:{height:s,width:a}})},us=["seriesId","dataIndex","color","isFaded","isHighlighted","classes","skipAnimation","layout","xOrigin","yOrigin"],ds=X("text",{name:"MuiBarLabel",slot:"Root",overridesResolver:(t,e)=>[{[`&.${Xt.faded}`]:e.faded},{[`&.${Xt.highlighted}`]:e.highlighted},e.root]})(({theme:t})=>p({},t?.typography?.body2,{stroke:"none",fill:(t.vars||t)?.palette?.text?.primary,transition:"opacity 0.2s ease-in, fill 0.2s ease-in",textAnchor:"middle",dominantBaseline:"central",pointerEvents:"none",opacity:1,[`&.${Xt.faded}`]:{opacity:.3}}));function xs(t){const e=Mt({props:t,name:"MuiBarLabel"}),n=M(e,us),i=si(e);return l.jsx(ds,p({},n,i))}const fs=["seriesId","classes","color","dataIndex","barLabel","slots","slotProps","xOrigin","yOrigin","x","y","width","height","value","skipAnimation","layout"],gs=["ownerState"];function ps(t){const{seriesId:e,classes:n,color:i,dataIndex:o,barLabel:s,slots:a,slotProps:r,xOrigin:c,yOrigin:h,x:u,y:d,width:x,height:f,value:g,skipAnimation:_,layout:C}=t,k=M(t,fs),{isFaded:A,isHighlighted:m}=Wt({seriesId:e,dataIndex:o}),y={seriesId:e,classes:n,color:i,isFaded:A,isHighlighted:m,dataIndex:o,skipAnimation:_,layout:C},v=cs(y),T=a?.barLabel??xs,I=K({elementType:T,externalSlotProps:r?.barLabel,additionalProps:p({},k,{xOrigin:c,yOrigin:h,x:u,y:d,width:x,height:f,className:v.root}),ownerState:y}),{ownerState:L}=I,O=M(I,gs);if(!s)return null;const $=hs({barLabel:s,value:g,dataIndex:o,seriesId:e,height:f,width:x});return $?l.jsx(T,p({},O,L,{children:$})):null}const _s=["bars","skipAnimation"];function ms(t){const{bars:e,skipAnimation:n}=t,i=M(t,_s);return l.jsx(j.Fragment,{children:e.map(({xOrigin:o,yOrigin:s,x:a,y:r,seriesId:c,dataIndex:h,color:u,value:d,width:x,height:f,layout:g})=>l.jsx(ps,p({seriesId:c,dataIndex:h,value:d,color:u,xOrigin:o,yOrigin:s,x:a,y:r,width:x,height:f,skipAnimation:n??!1,layout:g??"vertical"},i),`${c}-${h}`))})}const Yt=(t,e)=>{const n=`${t}-axis`,i=`${t}Axis`;return e===(t==="x"?Pn:jn)?`The first \`${i}\``:`The ${n} with id "${e}"`};function bs(t,e,n,i,o,s,a){const r=o[i],c=a[s],h=t?r:c,u=t?c:r,d=t?i:s,x=t?s:i,f=t?"x":"y",g=t?"y":"x";if(!te(h))throw new Error(`MUI X Charts: ${Yt(f,d)} should be of type "band" to display the bar series of id "${e}".`);if(h.data===void 0)throw new Error(`MUI X Charts: ${Yt(f,d)} should have data property.`);if(te(u)||Sn(u))throw new Error(`MUI X Charts: ${Yt(g,x)} should be a continuous type to display the bar series of id "${e}".`)}const ys=["skipAnimation","onItemClick","borderRadius","barLabel"];function ks({bandWidth:t,numberOfGroups:e,gapRatio:n}){if(n===0)return{barWidth:t/e,offset:0};const i=t/(e+(e-1)*n),o=n*i;return{barWidth:i,offset:o}}const ws=()=>{const t=ti()??{series:{},stackingGroups:[]},e=U(),n=Se(),{series:i,stackingGroups:o}=t,{xAxis:s,xAxisIds:a}=It(),{yAxis:r,yAxisIds:c}=Nt(),h=a[0],u=c[0],d={};return{completedData:o.flatMap(({ids:f},g)=>{const _=e.left,C=e.left+e.width,k=e.top,A=e.top+e.height;return f.flatMap(m=>{const y=i[m].xAxisId??h,v=i[m].yAxisId??u,T=s[y],I=r[v],L=i[m].layout==="vertical";bs(L,m,i[m],y,s,v,r);const O=L?T:I,$=T.scale,H=I.scale,V=Ln(i[m],s[y],r[v]),R=O.scale.bandwidth(),{barWidth:w,offset:S}=ks({bandWidth:R,numberOfGroups:o.length,gapRatio:O.barGapRatio}),N=g*(w+S),{stackedData:E,data:Z,layout:J}=i[m];return O.data.map((F,B)=>{if(Z[B]==null)return null;const W=E[B].map(Q=>L?H(Q):$(Q)),z=Math.round(Math.min(...W)),st=Math.round(Math.max(...W)),ot=i[m].stack,b={seriesId:m,dataIndex:B,layout:J,x:L?$(F)+N:z,y:L?z:H(F)+N,xOrigin:$(0)??0,yOrigin:H(0)??0,height:L?st-z:w,width:L?w:st-z,color:V(B),value:Z[B],maskId:`${n}_${ot||m}_${g}_${B}`};if(b.x>C||b.x+b.width<_||b.y>A||b.y+b.height<k)return null;d[b.maskId]||(d[b.maskId]={id:b.maskId,width:0,height:0,hasNegative:!1,hasPositive:!1,layout:b.layout,xOrigin:$(0),yOrigin:H(0),x:0,y:0});const P=d[b.maskId];return P.width=b.layout==="vertical"?b.width:P.width+b.width,P.height=b.layout==="vertical"?P.height+b.height:b.height,P.x=Math.min(P.x===0?1/0:P.x,b.x),P.y=Math.min(P.y===0?1/0:P.y,b.y),P.hasNegative=P.hasNegative||(b.value??0)<0,P.hasPositive=P.hasPositive||(b.value??0)>0,b}).filter(F=>F!==null)})}),masksData:Object.values(d)}},As=X("g",{name:"MuiBarPlot",slot:"Root"})({[`& .${Zi.root}`]:{transition:"opacity 0.2s ease-in, fill 0.2s ease-in"}});function Cs(t){const{completedData:e,masksData:n}=ws(),{skipAnimation:i,onItemClick:o,borderRadius:s,barLabel:a}=t,r=M(t,ys),c=Ae(),h=Ce(c||i),u=!s||s<=0;return l.jsxs(As,{children:[!u&&n.map(({id:d,x,y:f,width:g,height:_,hasPositive:C,hasNegative:k,layout:A})=>l.jsx(rs,{maskId:d,borderRadius:s,hasNegative:k,hasPositive:C,layout:A,x,y:f,width:g,height:_,skipAnimation:h??!1},d)),e.map(({seriesId:d,dataIndex:x,color:f,maskId:g,layout:_,x:C,xOrigin:k,y:A,yOrigin:m,width:y,height:v})=>{const T=l.jsx(es,p({id:d,dataIndex:x,color:f,skipAnimation:h??!1,layout:_??"vertical",x:C,xOrigin:k,y:A,yOrigin:m,width:y,height:v},r,{onClick:o&&(I=>{o(I,{type:"bar",seriesId:d,dataIndex:x})})}),`${d}-${x}`);return u?T:l.jsx("g",{clipPath:`url(#${g})`,children:T},`${d}-${x}`)}),a&&l.jsx(ms,p({bars:e,skipAnimation:h,barLabel:a},r))]})}const Ke=nt("MuiAppearingMask",["animate"]),Ss=X("rect")({animationName:"animate-width",animationTimingFunction:In,animationDuration:"0s",[`&.${Ke.animate}`]:{animationDuration:`${vn}ms`},"@keyframes animate-width":{from:{width:0}}});function Ps(t){const e=U(),n=Se(),i=Tn(`${n}-${t.id}`);return l.jsxs(j.Fragment,{children:[l.jsx("clipPath",{id:i,children:l.jsx(Ss,{className:en(!t.skipAnimation&&Ke.animate),x:0,y:0,width:e.left+e.width+e.right,height:e.top+e.height+e.bottom})}),l.jsx("g",{clipPath:`url(#${i})`,children:t.children})]})}function js(t){switch(t){case"catmullRom":return Vn.alpha(.5);case"linear":return ve;case"monotoneX":return oe;case"monotoneY":return Wn;case"natural":return Kn;case"step":return Zn;case"stepBefore":return Jn;case"stepAfter":return qn;case"bumpY":return Yn;case"bumpX":return Xn;default:return oe}}const Ls=["skipAnimation","ownerState"],Ts=j.forwardRef(function(e,n){const{skipAnimation:i,ownerState:o}=e,s=M(e,Ls),a=oi(p({},e,{ref:n}));return l.jsx(Ps,{skipAnimation:i,id:`${o.id}-line-clip`,children:l.jsx("path",p({stroke:o.gradientId?`url(#${o.gradientId})`:o.color,strokeWidth:2,strokeLinejoin:"round",fill:"none",filter:o.isHighlighted?"brightness(120%)":void 0,opacity:o.isFaded?.3:1},s,a))})}),vs=["id","classes","color","gradientId","slots","slotProps","onClick"];function Is(t){return ht("MuiLineElement",t)}const Ms=nt("MuiLineElement",["root","highlighted","faded","series"]),$s=t=>{const{classes:e,id:n,isFaded:i,isHighlighted:o}=t,s={root:["root",`series-${n}`,o&&"highlighted",i&&"faded"]};return it(s,Is,e)};function Ns(t){const{id:e,classes:n,color:i,gradientId:o,slots:s,slotProps:a,onClick:r}=t,c=M(t,vs),h=we({type:"line",seriesId:e}),{isFaded:u,isHighlighted:d}=Wt({seriesId:e}),x={id:e,classes:n,color:i,gradientId:o,isFaded:u,isHighlighted:d},f=$s(x),g=s?.line??Ts,_=K({elementType:g,externalSlotProps:a?.line,additionalProps:p({},h,{onClick:r,cursor:r?"pointer":"unset"}),className:f.root,ownerState:x});return l.jsx(g,p({},c,_))}const Rs=["slots","slotProps","skipAnimation","onItemClick"],Es=X("g",{name:"MuiAreaPlot",slot:"Root"})({[`& .${Ms.root}`]:{transition:"opacity 0.2s ease-in, fill 0.2s ease-in"}}),Bs=()=>{const t=Mn(),{xAxis:e,xAxisIds:n}=It(),{yAxis:i,yAxisIds:o}=Nt(),s=$n();return j.useMemo(()=>{if(t===void 0)return[];const{series:r,stackingGroups:c}=t,h=n[0],u=o[0];return c.flatMap(({ids:d})=>d.flatMap(x=>{const{xAxisId:f=h,yAxisId:g=u,stackedData:_,data:C,connectNulls:k,curve:A,strictStepCurve:m}=r[x],y=e[f].scale,v=Vt(y),T=i[g].scale,I=e[f].data,L=i[g].colorScale&&s(g)||e[f].colorScale&&s(f)||void 0,O=A?.includes("step")&&!m&&dt(y),$=I?.flatMap((w,S)=>{const N=C[S]==null;if(O){const E=[{x:w,y:_[S],nullData:N,isExtension:!1}];return!N&&(S===0||C[S-1]==null)&&E.unshift({x:(y(w)??0)-(y.step()-y.bandwidth())/2,y:_[S],nullData:N,isExtension:!0}),!N&&(S===C.length-1||C[S+1]==null)&&E.push({x:(y(w)??0)+(y.step()+y.bandwidth())/2,y:_[S],nullData:N,isExtension:!0}),E}return{x:w,y:_[S],nullData:N}})??[],H=k?$.filter(w=>!w.nullData):$,R=Gn().x(w=>w.isExtension?w.x:v(w.x)).defined(w=>k||!w.nullData||!!w.isExtension).y(w=>T(w.y[1])).curve(js(A))(H)||"";return p({},r[x],{gradientId:L,d:R,seriesId:x})}))},[t,n,o,e,i,s])};function Ds(t){const{slots:e,slotProps:n,skipAnimation:i,onItemClick:o}=t,s=M(t,Rs),a=Ae(),r=Ce(a||i),c=Bs();return l.jsx(Es,p({},s,{children:c.map(({d:h,seriesId:u,color:d,gradientId:x})=>l.jsx(Ns,{id:u,d:h,color:d,gradientId:x,skipAnimation:r,slots:e,slotProps:n,onClick:o&&(f=>o(f,{type:"line",seriesId:u}))},u))}))}const Os=t=>t.map(Hs).join("|"),Hs=t=>`${t.metric}:${JSON.stringify(t?.tags?.toSorted())}:${JSON.stringify(t.metric_labels)}`,Ze=t=>{const e={series:[],sources:[]},n=t.title??"",i=t.subtitle??"",o=350,s=t.plot_params?.plot_type,a=s==="line"||s==="bar"||s==="text"||s==="counter"||s==="pie"?s:"line",r=t.plot_params?.aggregation,c=r==="last"||r==="sum"||r==="avg"?r:"last",h=t.size==="full"||t.size==="half"?t.size:"full",u=t.values.map(d=>d.legend);if(a==="text")return{type:a,size:h,title:n,description:i};if(a==="counter")return{type:a,size:h,title:n,description:i,aggregation:c,data:e,labels:u};if(a==="pie")return{type:a,size:h,title:n,description:i,aggregation:c,data:e,labels:u,height:o};if(a==="bar"||a==="line"){const d=!!t.plot_params?.is_stacked;return{type:a,size:h,title:n,description:i,isStacked:d,data:e,labels:u,height:o}}Lt(a)},zs=t=>{if(t==="full")return{xs:12,sm:12,md:12,lg:12};if(t==="half")return{xs:12,sm:12,md:6,lg:6};Lt(t)},Fs=t=>{const{panels:e,PanelComponent:n}=t;return e.length===0?l.jsx(Y,{my:3,align:"center",variant:"h4",children:"This dashboard is currently empty. Please add a monitoring panel to start."}):l.jsx(Ct,{container:!0,spacing:3,direction:"row",alignItems:"stretch",children:e.map(i=>{const o=Ze(i);return l.jsx(Ct,{size:zs(o.size),children:l.jsx(n,{panel:i})},i.id)})})},Je=nn.createContext(null),Gs=()=>j.useContext(Je),Xs=({data:t,labels:e,title:n,description:i,aggregation:o})=>l.jsx(Kt,{title:n,description:i,textCenterAlign:!0,children:l.jsx(ct,{children:l.jsx(Ct,{container:!0,spacing:2,justifyContent:"space-evenly",children:t.series.map(({metric_type:s,params:a,values:r,filter_index:c},h)=>{const{label:u,defaultLabel:d}=Pe({metric_type:s,params:a,labels:e,filter_index:c}),x=Nn(r,o);return l.jsx(Ct,{children:l.jsxs(ct,{children:[l.jsx(Y,{variant:"h2",align:"center",children:x}),l.jsx(Y,{component:"pre",align:"center",children:u})]})},`${h}:${d}`)})})})}),Ys=({data:t,type:e,title:n,description:i,height:o=350,labels:s,isStacked:a})=>{const r=t.series.map(({values:g,params:_,metric_type:C,filter_index:k})=>{const{label:A}=Pe({metric_type:C,params:_,labels:s,filter_index:k}),m={label:A,stack:a?"total":void 0,labelMarkType:"square"};if(e==="line")return{type:e,data:g,...m};if(e==="bar")return{type:e,data:g,...m};Lt(e)}),c=[{data:t.sources.map(g=>sn(g.timestamp).format("YYYY-MM-DD HH:mm:ss")),scaleType:"band",height:50}],u=Gs()?.OnClickedPointComponent,[d,x]=j.useState(null),f=d&&t.sources[d.index].snapshot_id;return l.jsx(Kt,{title:n,description:i,height:o,children:l.jsxs(qe.Provider,{value:{data:t},children:[l.jsx(Rn,{series:r,xAxis:c,SurfaceComponents:l.jsxs(l.Fragment,{children:[l.jsx(Ws,{}),u&&l.jsxs(l.Fragment,{children:[l.jsx(Ks,{onSelect:g=>x({index:g})}),d&&l.jsx(Zs,{...d})]})]})}),u&&f&&l.jsx(ct,{position:"relative",children:l.jsx(ge,{position:"absolute",top:-20,right:-15,children:l.jsx(u,{snapshotId:f})})})]})})},qe=j.createContext({data:{series:[],sources:[]}}),Us=()=>j.useContext(qe),Vs=()=>{const t=Bn(),{data:e}=Us();if(!t)return null;const n=t.at(0)?.dataIndex,i=typeof n=="number"&&e.sources?.[n]?.tags||[];return l.jsxs(l.Fragment,{children:[l.jsx(Dn,{}),l.jsx(Le,{sx:{backgroundColor:"background.paper",borderTop:"unset",p:1,width:0,minWidth:"100%"},children:l.jsxs(ge,{direction:"row",flexWrap:"wrap",gap:1,children:[l.jsx(Y,{children:"Report tags:"}),i.length===0&&l.jsx(Y,{children:"None"}),i.map(o=>l.jsx(an,{size:"small",label:o},o))]})})]})},Ws=()=>l.jsxs(l.Fragment,{children:[l.jsx(Cs,{}),l.jsx(Ds,{}),l.jsx(Gi,{horizontal:!0}),l.jsx(Ti,{label:"Timestamps",position:"bottom",labelStyle:{fontSize:18}}),l.jsx(Ei,{position:"left"}),l.jsx(Wi,{x:"band"}),l.jsx(En,{trigger:"axis",children:l.jsx(Vs,{})})]}),Ks=({onSelect:t})=>{const{left:e,top:n,width:i,height:o}=U(),s=je(),a=i/s.tickNumber;return l.jsx(l.Fragment,{children:l.jsx("rect",{x:e,y:n,width:i,height:o,opacity:0,style:{cursor:"pointer"},onClick:r=>{const c=r.target.getBoundingClientRect(),h=Math.floor((r.clientX-c.x)/a),u=on({value:h,min:0,max:s.tickNumber-1});t(u)}})})},Zs=({index:t})=>{const{left:e,top:n,width:i,height:o}=U(),s=je(),a=Ut(),r=i/s.tickNumber;return l.jsx("rect",{x:e+r*t,y:n,width:r,height:o,fill:a.vars.palette.text.primary,shapeRendering:"crispEdges",pointerEvents:"none",opacity:.1})},Js=({title:t,description:e})=>l.jsx(l.Fragment,{children:l.jsx(Kt,{title:t,description:e,sxCardContent:{p:"16px !important"},textCenterAlign:!0})}),xe=t=>{if(t.type==="bar"||t.type==="line")return l.jsx(Ys,{...t});if(t.type==="pie")return l.jsx(On,{...t});if(t.type==="counter")return l.jsx(Xs,{...t});if(t.type==="text")return l.jsx(Js,{...t});Lt(t.type)},qs=({height:t=350,title:e,subtitle:n,isShowTitle:i,skipBody:o})=>l.jsx(Le,{elevation:0,children:l.jsxs(Hn,{sx:{px:0},children:[l.jsxs(ct,{px:3,children:[e&&i&&l.jsx(Y,{variant:"h5",fontWeight:500,gutterBottom:!0,children:e}),e&&!i&&l.jsx(Y,{variant:"h5",width:Math.max(e.length*11,450),children:l.jsx(zt,{variant:"text",animation:"wave",sx:{mb:1}})}),n&&i&&l.jsx(Y,{fontWeight:400,gutterBottom:!0,children:n}),n&&!i&&l.jsx(Y,{children:l.jsx(zt,{variant:"text",animation:"wave",sx:{mb:1}})})]}),(e||n)&&!o&&l.jsx(rn,{sx:{mb:2,mt:1}}),!o&&l.jsx(ct,{px:3,children:l.jsx(zt,{variant:"rectangular",height:t,animation:"wave"})})]})}),Qs=t=>{const{panel:e,loadDataPointsCallback:n,loadDataPointsHash:i,data:o}=t,s=Ze(e),a=s.type!=="text",r="height"in s?s.height:200;return j.useEffect(()=>{a&&n()},[i,a]),a?o?l.jsx(xe,{...s,data:o}):l.jsx(qs,{title:s.title,subtitle:s.description,height:r}):l.jsx(xe,{...s})},to=t=>{const{panel:e}=t,{project:n}=pe();_e(n);const{id:i}=n,o=ln("/projects/:projectId/load-panel-points"),{data:s}=o,a=e.values,r={series_filter:a.map(u=>({metric:u.metric,tags:u.tags??[],metadata:u.metadata??{},metric_labels:u.metric_labels??{}}))},c=Os(a),h=()=>{o.load({query:{body:JSON.stringify(r)},paramsToReplace:{projectId:i}})};return l.jsx(Qs,{panel:e,loadDataPointsCallback:h,loadDataPointsHash:c,data:s})},eo=to,no=({snapshotId:t})=>{const{project:e}=pe();_e(e);const n=cn();return l.jsx(hn,{type:"button",to:"/projects/:projectId/reports/:snapshotId",title:"View report",variant:"outlined",paramsToReplace:{projectId:e.id,snapshotId:t},disabled:n})},io=no,ro="/projects/:projectId/?index",so={title:"Dashboard"},lo={crumb:so},co=({params:t,query:e})=>{const{projectId:n}=t;return un.GET("/api/v2/dashboards/{project_id}",{params:{path:{project_id:n},query:e},parseAs:"text"}).then(dn()).then(xn)},ho=()=>{const{loaderData:t}=fn();return l.jsx(ct,{py:2,children:l.jsx(Je.Provider,{value:{OnClickedPointComponent:io},children:l.jsx(Fs,{PanelComponent:eo,panels:t.panels})})})};export{ho as Component,ro as currentRoutePath,lo as handle,co as loadData};
