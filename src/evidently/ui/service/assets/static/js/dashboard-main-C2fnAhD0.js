import{H as p,A as j,F as M,aF as r,aw as ht,av as nt,aE as X,C as tn,ay as Ut,aO as fe,bL as K,aH as it,aD as en,bM as Lt,aN as Y,by as Ct,G as nn,b0 as ct,bN as sn,bG as ge,bO as on,bl as an,bP as pe,bQ as rn,bR as ln,bS as cn,bH as hn,bI as un,bJ as dn,bK as xn}from"./index-C1CmpqGk.js";import{H as fn,I as lt,J as gn,K as Qt,L as pn,M as _n,N as vt,O as D,Q as mn,R as bn,T as Tt,U as It,u as Mt,V as U,W as _e,X as $t,Y as dt,Z as me,_ as Nt,$ as yn,a0 as be,a1 as ye,a2 as Wt,a3 as kn,a4 as wn,a5 as An,a6 as ke,a7 as Vt,a8 as te,a9 as Cn,aa as Sn,ab as Pn,ac as we,ad as Ae,ae as Ce,af as jn,ag as Ln,ah as vn,ai as Tn,aj as In,ak as Mn,al as Kt,am as Se,an as $n,ao as Nn,ap as Rn,aq as Pe,ar as En,as as Bn,F as je,P as Dn,G as On,S as Ft,D as Hn,i as Le}from"./Pie-D2vhsTcR.js";function ve(t){this._context=t}ve.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Te(t){return new ve(t)}function Fn(t){return t[0]}function zn(t){return t[1]}function Gn(t,e){var n=lt(!0),i=null,s=Te,o=null,a=fn(l);t=typeof t=="function"?t:t===void 0?Fn:lt(t),e=typeof e=="function"?e:e===void 0?zn:lt(e);function l(c){var h,u=(c=gn(c)).length,d,x=!1,f;for(i==null&&(o=s(f=a())),h=0;h<=u;++h)!(h<u&&n(d=c[h],h,c))===x&&((x=!x)?o.lineStart():o.lineEnd()),x&&o.point(+t(d,h,c),+e(d,h,c));if(f)return o=null,f+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:lt(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:lt(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:lt(!!c),l):n},l.curve=function(c){return arguments.length?(s=c,i!=null&&(o=s(i)),l):s},l.context=function(c){return arguments.length?(c==null?i=o=null:o=s(i=c),l):i},l}class Ie{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Xn(t){return new Ie(t,!0)}function Yn(t){return new Ie(t,!1)}function ee(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Jt(t,e){this._context=t,this._k=(1-e)/6}Jt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ee(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:ee(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(i){return new Jt(i,e)}return n.tension=function(i){return t(+i)},n})(0);function Un(t,e,n){var i=t._x1,s=t._y1,o=t._x2,a=t._y2;if(t._l01_a>Qt){var l=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*l-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,s=(s*l-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>Qt){var h=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,u=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*h+t._x1*t._l23_2a-e*t._l12_2a)/u,a=(a*h+t._y1*t._l23_2a-n*t._l12_2a)/u}t._context.bezierCurveTo(i,s,o,a,t._x2,t._y2)}function Me(t,e){this._context=t,this._alpha=e}Me.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Un(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Wn=function t(e){function n(i){return e?new Me(i,e):new Jt(i,0)}return n.alpha=function(i){return t(+i)},n}(.5);function ne(t){return t<0?-1:1}function ie(t,e,n){var i=t._x1-t._x0,s=e-t._x1,o=(t._y1-t._y0)/(i||s<0&&-0),a=(n-t._y1)/(s||i<0&&-0),l=(o*s+a*i)/(i+s);return(ne(o)+ne(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(l))||0}function se(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function zt(t,e,n){var i=t._x0,s=t._y0,o=t._x1,a=t._y1,l=(o-i)/3;t._context.bezierCurveTo(i+l,s+l*e,o-l,a-l*n,o,a)}function St(t){this._context=t}St.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:zt(this,this._t0,se(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,zt(this,se(this,n=ie(this,t,e)),n);break;default:zt(this,this._t0,n=ie(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function $e(t){this._context=new Ne(t)}($e.prototype=Object.create(St.prototype)).point=function(t,e){St.prototype.point.call(this,e,t)};function Ne(t){this._context=t}Ne.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,s,o){this._context.bezierCurveTo(e,t,i,n,o,s)}};function oe(t){return new St(t)}function Vn(t){return new $e(t)}function Re(t){this._context=t}Re.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var i=ae(t),s=ae(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(i[0][o],s[0][o],i[1][o],s[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function ae(t){var e,n=t.length-1,i,s=new Array(n),o=new Array(n),a=new Array(n);for(s[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)s[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(s[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)i=s[e]/o[e-1],o[e]-=i,a[e]-=i*a[e-1];for(s[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)s[e]=(a[e]-s[e+1])/o[e];for(o[n-1]=(t[n]+s[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-s[e+1];return[s,o]}function Kn(t){return new Re(t)}function Rt(t,e){this._context=t,this._t=e}Rt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Jn(t){return new Rt(t,.5)}function Zn(t){return new Rt(t,0)}function qn(t){return new Rt(t,1)}_n("bar");const Qn=pn("bar");function ti(){return Qn()}function ei(t,e){const n=D(t.x,e.x),i=D(t.y,e.y),s=D(t.width,e.width),o=D(t.height,e.height);return a=>({x:n(a),y:i(a),width:s(a),height:o(a)})}function ni(t){const e={x:t.layout==="vertical"?t.x:t.xOrigin,y:t.layout==="vertical"?t.yOrigin:t.y,width:t.layout==="vertical"?t.width:0,height:t.layout==="vertical"?0:t.height};return vt({x:t.x,y:t.y,width:t.width,height:t.height},{createInterpolator:ei,applyProps(n,i){n.setAttribute("x",i.x.toString()),n.setAttribute("y",i.y.toString()),n.setAttribute("width",i.width.toString()),n.setAttribute("height",i.height.toString())},transformProps:n=>n,initialProps:e,skip:t.skipAnimation,ref:t.ref})}function ii(t,e){const n=D(t.x,e.x),i=D(t.y,e.y),s=D(t.width,e.width),o=D(t.height,e.height);return a=>({x:n(a),y:i(a),width:s(a),height:o(a)})}function si(t){const e={x:t.layout==="vertical"?t.x+t.width/2:t.xOrigin,y:t.layout==="vertical"?t.yOrigin:t.y+t.height/2,width:t.width,height:t.height},n={x:t.x+t.width/2,y:t.y+t.height/2,width:t.width,height:t.height};return vt(n,{createInterpolator:ii,transformProps:i=>i,applyProps(i,s){i.setAttribute("x",s.x.toString()),i.setAttribute("y",s.y.toString()),i.setAttribute("width",s.width.toString()),i.setAttribute("height",s.height.toString())},initialProps:e,skip:t.skipAnimation,ref:t.ref})}function oi(t){return vt({d:t.d},{createInterpolator:(e,n)=>{const i=mn(e.d,n.d);return s=>({d:i(s)})},applyProps:(e,{d:n})=>e.setAttribute("d",n),skip:t.skipAnimation,transformProps:e=>e,ref:t.ref})}function ai(){return typeof window>"u"}const et={widthCache:{},cacheCount:0},ri=2e3,li={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},ci=["minWidth","maxWidth","width","minHeight","maxHeight","height","top","left","fontSize","padding","margin","paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom"],re="mui_measurement_span";function Ee(t,e){return ci.indexOf(t)>=0&&e===+e?`${e}px`:e}function Be(t){return t.split("").reduce((i,s)=>s===s.toUpperCase()?[...i,"-",s.toLowerCase()]:[...i,s],[]).join("")}const hi=t=>Object.keys(t).sort().reduce((e,n)=>`${e}${Be(n)}:${Ee(n,t[n])};`,"");let Gt;const xt=(t,e={})=>{if(t==null||ai())return{width:0,height:0};const n=`${t}`,i=hi(e),s=`${n}-${i}`;if(et.widthCache[s])return et.widthCache[s];try{let o=document.getElementById(re);o===null&&(o=document.createElement("span"),o.setAttribute("id",re),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));const a=p({},li,e);Object.keys(a).map(h=>(o.style[Be(h)]=Ee(h,a[h]),h)),o.textContent=n;const l=o.getBoundingClientRect(),c={width:l.width,height:l.height};return et.widthCache[s]=c,et.cacheCount+1>ri?(et.cacheCount=0,et.widthCache={}):et.cacheCount+=1,Gt&&clearTimeout(Gt),Gt=setTimeout(()=>{o.textContent=""},0),c}catch{return{width:0,height:0}}};function De({style:t,needsComputation:e,text:n}){return n.split(`
`).map(i=>p({text:i},e?xt(i,t):{width:0,height:0}))}function Zt(){const[t,e]=j.useState(typeof window<"u"||!1);return j.useEffect(()=>{e(!0)},[]),t}const ui=["x","y","style","text","ownerState"],di=["angle","textAnchor","dominantBaseline"];function Pt(t){const{x:e,y:n,style:i,text:s}=t,o=M(t,ui),a=i??{},{angle:l,textAnchor:c,dominantBaseline:h}=a,u=M(a,di),d=Zt(),x=j.useMemo(()=>De({style:u,needsComputation:d&&s.includes(`
`),text:s}),[u,s,d]);let f;switch(h){case"hanging":case"text-before-edge":f=0;break;case"central":f=(x.length-1)/2*-x[0].height;break;default:f=(x.length-1)*-x[0].height;break}return r.jsx("text",p({},o,{transform:l?`rotate(${l}, ${e}, ${n})`:void 0,x:e,y:n,textAnchor:c,dominantBaseline:h,style:u,children:x.map((g,_)=>r.jsx("tspan",{x:e,dy:`${_===0?f:x[0].height}px`,dominantBaseline:h,children:g.text},_))}))}const Oe=typeof window<"u"&&"Intl"in window&&"Segmenter"in Intl?new Intl.Segmenter(void 0,{granularity:"grapheme"}):null;function xi(t){return t.length}function fi(t){const e=Oe.segment(t);let n=0;for(const i of e)n+=1;return n}const gi=Oe?fi:xi;function pi(t){return t*(Math.PI/180)}const He=typeof window<"u"&&"Intl"in window&&"Segmenter"in Intl?new Intl.Segmenter(void 0,{granularity:"grapheme"}):null;function _i(t,e){return t.slice(0,e)}function mi(t,e){const n=He.segment(t);let i="",s=0;for(const o of n)if(i+=o.segment,s+=1,s>=e)break;return i}const bi=He?mi:_i,le="â€¦";function Fe(t,e){const{width:n,height:i,measureText:s}=e,o=pi(e.angle),a=s(t),l=Math.abs(a.width*Math.cos(o))+Math.abs(a.height*Math.sin(o)),c=Math.abs(a.width*Math.sin(o))+Math.abs(a.height*Math.cos(o));return l<=n&&c<=i}function ze(t,e){if(e(t))return t;let n=t,i=1,s=1/2;const o=gi(t);let a=o,l=o,c=null;do{if(l=a,a=Math.floor(o*s),a===0)break;n=bi(t,a).trim();const h=e(n+le);i+=1,h?(c=n,s+=1/2**i):s-=1/2**i}while(Math.abs(a-l)!==1);return c?c+le:""}function Ge(t){return ht("MuiChartsAxis",t)}const wt=nt("MuiChartsAxis",["root","line","tickContainer","tick","tickLabel","label","directionX","directionY","top","bottom","left","right"]),Xe=X("g",{name:"MuiChartsAxis",slot:"Root"})(({theme:t})=>({[`& .${wt.tickLabel}`]:p({},t.typography.caption,{fill:(t.vars||t).palette.text.primary}),[`& .${wt.label}`]:{fill:(t.vars||t).palette.text.primary},[`& .${wt.line}`]:{stroke:(t.vars||t).palette.text.primary,shapeRendering:"crispEdges",strokeWidth:1},[`& .${wt.tick}`]:{stroke:(t.vars||t).palette.text.primary,shapeRendering:"crispEdges"}})),ce=5;function yi(t,e,n=0){const i=Math.min(Math.abs(n)%180,Math.abs(Math.abs(n)%180-180)%180);if(i<ce)return t;if(i>90-ce)return e;const s=bn(i),o=Math.atan2(e,t);return s<o?t/Math.cos(s):e/Math.sin(s)}function ki(t=!1){const[e,n]=j.useState(!1);return tn(()=>{t||n(!0)},[t]),j.useEffect(()=>{t&&n(!0)},[t]),e}function Ye(t){const e=Tt(t);return e<=30||e>=330||e<=210&&e>=150?"middle":e<=180?"end":"start"}function Ue(t){const e=Tt(t);return e<=30||e>=330?"hanging":e<=210&&e>=150?"auto":"central"}function We(t){switch(t){case"start":return"end";case"end":return"start";default:return t}}const wi=["scale","tickNumber","reverse"],Ai=t=>{const{classes:e,position:n}=t;return it({root:["root","directionX",n],line:["line"],tickContainer:["tickContainer"],tick:["tick"],tickLabel:["tickLabel"],label:["label"]},Ge,e)},he=3,Ci=4;function Si(t,{tickLabelStyle:e,tickLabelInterval:n,tickLabelMinGap:i,reverse:s,isMounted:o,isPointInside:a}){const l=u=>{if(!o||u.formattedValue===void 0)return{width:0,height:0};const d=De({style:e,needsComputation:!0,text:u.formattedValue});return{width:Math.max(...d.map(x=>x.width)),height:Math.max(d.length*d[0].height)}};if(typeof n=="function")return new Set(t.filter((u,d)=>n(u.value,d)));let c=0;const h=s?-1:1;return new Set(t.filter((u,d)=>{const{offset:x,labelOffset:f}=u,g=x+f;if(d>0&&h*g<h*(c+i)||!a(g))return!1;const{width:_,height:C}=l(u),k=yi(_,C,e?.angle),A=g-h*k/2;return d>0&&h*A<h*(c+i)?!1:(c=g+h*k/2,!0)}))}function Pi(t,e,n,i,s){const o=new Map,a=Tt(s?.angle??0);let l=1,c=1;s?.textAnchor==="start"?(l=1/0,c=1):s?.textAnchor==="end"?(l=1,c=1/0):(l=2,c=2),a>90&&a<270&&([l,c]=[c,l]),i&&([l,c]=[c,l]);for(const h of t)if(h.formattedValue){const u=Math.min((h.offset+h.labelOffset)*l,(e.left+e.width+e.right-h.offset-h.labelOffset)*c),d=x=>Fe(x,{width:u,height:n,angle:a,measureText:f=>xt(f,s)});o.set(h,ze(h.formattedValue.toString(),d))}return o}const ji=X(Xe,{name:"MuiChartsXAxis",slot:"Root"})({}),Li={disableLine:!1,disableTicks:!1,tickSize:6,tickLabelMinGap:4};function vi(t){const{xAxis:e,xAxisIds:n}=It(),i=e[t.axisId??n[0]],{scale:s,tickNumber:o,reverse:a}=i,l=M(i,wi),c=ki(),h=Mt({props:p({},l,t),name:"MuiChartsXAxis"}),u=p({},Li,h),{position:d,disableLine:x,disableTicks:f,tickLabelStyle:g,label:_,labelStyle:C,tickSize:k,valueFormatter:A,slots:m,slotProps:y,tickInterval:T,tickLabelInterval:v,tickPlacement:I,tickLabelPlacement:L,tickLabelMinGap:O,sx:$,offset:H,height:W}=u,R=Ut(),w=fe(),S=Ai(u),N=U(),{left:E,top:J,width:Z,height:z}=N,{instance:B}=_e(),q=Zt(),V=f?4:k,F=d==="bottom"?1:-1,st=m?.axisLine??"line",ot=m?.axisTick??"line",b=m?.axisTickLabel??Pt,P=m?.axisLabel??Pt,Q=Ye((d==="bottom"?0:180)-(g?.angle??0)),ft=Ue((d==="bottom"?0:180)-(g?.angle??0)),at=K({elementType:b,externalSlotProps:y?.axisTickLabel,additionalProps:{style:p({},R.typography.caption,{fontSize:12,lineHeight:1.25,textAnchor:w?We(Q):Q,dominantBaseline:ft},g)},className:S.tickLabel,ownerState:{}}),gt=$t({scale:s,tickNumber:o,valueFormatter:A,tickInterval:T,tickPlacement:I,tickLabelPlacement:L}),rt=Si(gt,{tickLabelStyle:at.style,tickLabelInterval:v,tickLabelMinGap:O,reverse:a,isMounted:c,isPointInside:G=>B.isPointInside({x:G,y:-1},{direction:"x"})}),ut=K({elementType:P,externalSlotProps:y?.axisLabel,additionalProps:{style:p({},R.typography.body1,{lineHeight:1,fontSize:14,textAnchor:"middle",dominantBaseline:d==="bottom"?"text-after-edge":"text-before-edge"},C)},ownerState:{}}),pt=s.domain(),_t=dt(s);if(_t&&pt.length===0||!_t&&pt.some(me)||d==="none")return null;const Et=_?xt(_,ut.style).height:0,tt={x:E+Z/2,y:F*W},mt=Math.max(0,W-(_?Et+Ci:0)-V-he),bt=q?Pi(rt,N,mt,w,at.style):new Map(Array.from(rt).map(G=>[G,G.formattedValue]));return r.jsxs(ji,{transform:`translate(0, ${d==="bottom"?J+z+H:J-H})`,className:S.root,sx:$,children:[!x&&r.jsx(st,p({x1:E,x2:E+Z,className:S.line},y?.axisLine)),gt.map((G,Bt)=>{const{offset:yt,labelOffset:Dt}=G,Ot=Dt??0,Ht=F*(V+he),kt=B.isPointInside({x:yt,y:-1},{direction:"x"}),qt=bt.get(G),Qe=rt.has(G);return r.jsxs("g",{transform:`translate(${yt}, 0)`,className:S.tickContainer,children:[!f&&kt&&r.jsx(ot,p({y2:F*V,className:S.tick},y?.axisTick)),qt!==void 0&&Qe&&r.jsx(b,p({x:Ot,y:Ht},at,{text:qt}))]},Bt)}),_&&r.jsx("g",{className:S.label,children:r.jsx(P,p({},tt,ut,{text:_}))})]})}const Ti=["scale","tickNumber"],Ii=t=>{const{classes:e,position:n}=t;return it({root:["root","directionY",n],line:["line"],tickContainer:["tickContainer"],tick:["tick"],tickLabel:["tickLabel"],label:["label"]},Ge,e)},ue=2,Mi=2;function $i(t,e,n,i,s){const o=new Map,a=Tt(s?.angle??0);let l=1,c=1;s?.textAnchor==="start"?(l=1/0,c=1):s?.textAnchor==="end"?(l=1,c=1/0):(l=2,c=2),a>180&&([l,c]=[c,l]),i&&([l,c]=[c,l]);for(const h of t)if(h.formattedValue){const u=Math.min((h.offset+h.labelOffset)*l,(e.top+e.height+e.bottom-h.offset-h.labelOffset)*c),d=x=>Fe(x,{width:n,height:u,angle:a,measureText:f=>xt(f,s)});o.set(h,ze(h.formattedValue.toString(),d))}return o}const Ni=X(Xe,{name:"MuiChartsYAxis",slot:"Root"})({}),Ri={disableLine:!1,disableTicks:!1,tickSize:6};function Ei(t){const{yAxisIds:e,yAxis:n}=Nt(),i=n[t.axisId??e[0]],{scale:s,tickNumber:o}=i,a=M(i,Ti),l=Mt({props:p({},a,t),name:"MuiChartsYAxis"}),c=p({},Ri,l),{position:h,disableLine:u,disableTicks:d,label:x,labelStyle:f,tickLabelStyle:g,tickSize:_,valueFormatter:C,slots:k,slotProps:A,tickPlacement:m,tickLabelPlacement:y,tickInterval:T,tickLabelInterval:v,sx:I,offset:L,width:O}=c,$=Ut(),H=fe(),W=Zt(),R=Ii(c),{instance:w}=_e(),S=U(),{left:N,top:E,width:J,height:Z}=S,z=d?4:_,B=$t({scale:s,tickNumber:o,valueFormatter:C,tickPlacement:m,tickLabelPlacement:y,tickInterval:T}),q=h==="right"?1:-1,V=typeof g?.fontSize=="number"?g.fontSize:12,F=k?.axisLine??"line",st=k?.axisTick??"line",ot=k?.axisTickLabel??Pt,b=k?.axisLabel??Pt,P=Ye((h==="right"?-90:90)-(g?.angle??0)),Q=Ue((h==="right"?-90:90)-(g?.angle??0)),ft=K({elementType:ot,externalSlotProps:A?.axisTickLabel,additionalProps:{style:p({},$.typography.caption,{fontSize:V,textAnchor:H?We(P):P,dominantBaseline:Q},g)},className:R.tickLabel,ownerState:{}}),at=K({elementType:b,externalSlotProps:A?.axisLabel,additionalProps:{style:p({},$.typography.body1,{lineHeight:1,fontSize:14,angle:q*90,textAnchor:"middle",dominantBaseline:"text-before-edge"},f)},ownerState:{}}),gt=K({elementType:F,externalSlotProps:A?.axisLine,additionalProps:{strokeLinecap:"square"},ownerState:{}}),rt=s.domain(),ut=dt(s);if(ut&&rt.length===0||!ut&&rt.some(me)||h==="none")return null;const pt={x:q*O,y:E+Z/2},_t=Math.max(0,O-(x?xt(x,at.style).height+Mi:0)-z-ue),Et=W?$i(B,S,_t,H,ft.style):new Map(Array.from(B).map(tt=>[tt,tt.formattedValue]));return r.jsxs(Ni,{transform:`translate(${h==="right"?N+J+L:N-L}, 0)`,className:R.root,sx:I,children:[!u&&r.jsx(F,p({y1:E,y2:E+Z,className:R.line},gt)),B.map((tt,mt)=>{const{offset:bt,labelOffset:G,value:Bt}=tt,yt=q*(z+ue),Dt=G,Ot=typeof v=="function"&&!v?.(Bt,mt),Ht=w.isPointInside({x:-1,y:bt},{direction:"y"}),kt=Et.get(tt);return Ht?r.jsxs("g",{transform:`translate(0, ${bt})`,className:R.tickContainer,children:[!d&&r.jsx(st,p({x2:q*z,className:R.tick},A?.axisTick)),kt!==void 0&&!Ot&&r.jsx(ot,p({x:yt,y:Dt,text:kt},ft))]},mt):null}),x&&W&&r.jsx("g",{className:R.label,children:r.jsx(b,p({},pt,at,{text:x}))})]})}function Bi(t){return ht("MuiChartsGrid",t)}const de=nt("MuiChartsGrid",["root","line","horizontalLine","verticalLine"]),Di=X("g",{name:"MuiChartsGrid",slot:"Root",overridesResolver:(t,e)=>[{[`&.${de.verticalLine}`]:e.verticalLine},{[`&.${de.horizontalLine}`]:e.horizontalLine},e.root]})({}),Ve=X("line",{name:"MuiChartsGrid",slot:"Line"})(({theme:t})=>({stroke:(t.vars||t).palette.divider,shapeRendering:"crispEdges",strokeWidth:1}));function Oi(t){const{axis:e,start:n,end:i,classes:s}=t,{scale:o,tickNumber:a,tickInterval:l}=e,c=$t({scale:o,tickNumber:a,tickInterval:l});return r.jsx(j.Fragment,{children:c.map(({value:h,offset:u})=>r.jsx(Ve,{y1:n,y2:i,x1:u,x2:u,className:s.verticalLine},`vertical-${h.getTime?.()??h}`))})}function Hi(t){const{axis:e,start:n,end:i,classes:s}=t,{scale:o,tickNumber:a,tickInterval:l}=e,c=$t({scale:o,tickNumber:a,tickInterval:l});return r.jsx(j.Fragment,{children:c.map(({value:h,offset:u})=>r.jsx(Ve,{y1:u,y2:u,x1:n,x2:i,className:s.horizontalLine},`horizontal-${h.getTime?.()??h}`))})}const Fi=["vertical","horizontal"],zi=({classes:t})=>it({root:["root"],verticalLine:["line","verticalLine"],horizontalLine:["line","horizontalLine"]},Bi,t);function Gi(t){const e=Mt({props:t,name:"MuiChartsGrid"}),n=U(),{vertical:i,horizontal:s}=e,o=M(e,Fi),{xAxis:a,xAxisIds:l}=It(),{yAxis:c,yAxisIds:h}=Nt(),u=zi(e),d=c[h[0]],x=a[l[0]];return r.jsxs(Di,p({},o,{className:u.root,children:[i&&r.jsx(Oi,{axis:x,start:n.top,end:n.height+n.top,classes:u}),s&&r.jsx(Hi,{axis:d,start:n.left,end:n.width+n.left,classes:u})]}))}function Xi(t){return ht("MuiChartsAxisHighlight",t)}nt("MuiChartsAxisHighlight",["root"]);const jt=X("path",{name:"MuiChartsAxisHighlight",slot:"Root"})(({theme:t})=>({pointerEvents:"none",variants:[{props:{axisHighlight:"band"},style:p({fill:"white",fillOpacity:.1},t.applyStyles("light",{fill:"gray"}))},{props:{axisHighlight:"line"},style:p({strokeDasharray:"5 2",stroke:"#ffffff"},t.applyStyles("light",{stroke:"#000000"}))}]}));function Yi(t){const{type:e,classes:n}=t,{left:i,width:s}=U(),o=yn(),a=be(),l=ye(a,kn),c=Wt(o),h=e==="band"&&l!==null&&dt(o);return r.jsxs(j.Fragment,{children:[h&&o(l)!==void 0&&r.jsx(jt,{d:`M ${i} ${o(l)-(o.step()-o.bandwidth())/2} l 0 ${o.step()} l ${s} 0 l 0 ${-o.step()} Z`,className:n.root,ownerState:{axisHighlight:"band"}}),e==="line"&&l!==null&&r.jsx(jt,{d:`M ${i} ${c(l)} L ${i+s} ${c(l)}`,className:n.root,ownerState:{axisHighlight:"line"}})]})}function Ui(t){const{type:e,classes:n}=t,{top:i,height:s}=U(),o=wn(),a=be(),l=ye(a,An),c=Wt(o),h=e==="band"&&l!==null&&dt(o);return r.jsxs(j.Fragment,{children:[h&&o(l)!==void 0&&r.jsx(jt,{d:`M ${o(l)-(o.step()-o.bandwidth())/2} ${i} l ${o.step()} 0 l 0 ${s} l ${-o.step()} 0 Z`,className:n.root,ownerState:{axisHighlight:"band"}}),e==="line"&&l!==null&&r.jsx(jt,{d:`M ${c(l)} ${i} L ${c(l)} ${i+s}`,className:n.root,ownerState:{axisHighlight:"line"}})]})}const Wi=()=>it({root:["root"]},Xi);function Vi(t){const{x:e,y:n}=t,i=Wi();return r.jsxs(j.Fragment,{children:[e&&r.jsx(Ui,{type:e,classes:i}),n&&r.jsx(Yi,{type:n,classes:i})]})}function Ki(t){return ht("MuiBarElement",t)}const Ji=nt("MuiBarElement",["root","highlighted","faded","series"]),Zi=t=>{const{classes:e,id:n,isHighlighted:i,isFaded:s}=t,o={root:["root",`series-${n}`,i&&"highlighted",s&&"faded"]};return it(o,Ki,e)},qi=["ownerState","skipAnimation","id","dataIndex","xOrigin","yOrigin"];function Qi(t){const{ownerState:e}=t,n=M(t,qi),i=ni(t);return r.jsx("rect",p({},n,{filter:e.isHighlighted?"brightness(120%)":void 0,opacity:e.isFaded?.3:1},i))}const ts=["id","dataIndex","classes","color","slots","slotProps","style","onClick","skipAnimation","layout","x","xOrigin","y","yOrigin","width","height"];function es(t){const{id:e,dataIndex:n,classes:i,color:s,slots:o,slotProps:a,style:l,onClick:c,skipAnimation:h,layout:u,x:d,xOrigin:x,y:f,yOrigin:g,width:_,height:C}=t,k=M(t,ts),A=ke({type:"bar",seriesId:e,dataIndex:n}),{isFaded:m,isHighlighted:y}=Vt({seriesId:e,dataIndex:n}),T={id:e,dataIndex:n,classes:i,color:s,isFaded:m,isHighlighted:y},v=Zi(T),I=o?.bar??Qi,L=K({elementType:I,externalSlotProps:a?.bar,externalForwardedProps:k,additionalProps:p({},A,{id:e,dataIndex:n,color:s,x:d,xOrigin:x,y:f,yOrigin:g,width:_,height:C,style:l,onClick:c,cursor:c?"pointer":"unset",stroke:"none",fill:s,skipAnimation:h,layout:u}),className:v.root,ownerState:T});return r.jsx(I,p({},L))}const At=(t,{hasNegative:e,hasPositive:n,borderRadius:i,layout:s})=>{if(!i)return 0;const o=s==="vertical";return t==="top-left"&&(o&&n||!o&&e)||t==="top-right"&&(o&&n||!o&&n)||t==="bottom-right"&&(o&&e||!o&&n)||t==="bottom-left"&&(o&&e||!o&&e)?i:0},ns=["maskId","x","y","width","height","skipAnimation"];function is(t,e,n){const i=p({},n,{borderRadius:e}),s=Math.min(t,At("top-left",i)),o=Math.min(t,At("top-right",i)),a=Math.min(t,At("bottom-right",i)),l=Math.min(t,At("bottom-left",i));return`inset(0px round ${s}px ${o}px ${a}px ${l}px)`}function ss(t,e){const n=D(t.x,e.x),i=D(t.y,e.y),s=D(t.width,e.width),o=D(t.height,e.height),a=D(t.borderRadius,e.borderRadius);return l=>({x:n(l),y:i(l),width:s(l),height:o(l),borderRadius:a(l)})}function os(t){const e={x:t.x,y:t.y+(t.ownerState.layout==="vertical"?t.height:0),width:t.ownerState.layout==="vertical"?t.width:0,height:t.ownerState.layout==="vertical"?0:t.height,borderRadius:t.borderRadius};return vt({x:t.x,y:t.y,width:t.width,height:t.height,borderRadius:t.borderRadius},{createInterpolator:ss,transformProps:n=>({x:n.x,y:n.y,width:n.width,height:n.height,style:{clipPath:is(t.ownerState.layout==="vertical"?n.height:n.width,n.borderRadius,t.ownerState)}}),applyProps(n,i){n.setAttribute("x",i.x.toString()),n.setAttribute("y",i.y.toString()),n.setAttribute("width",i.width.toString()),n.setAttribute("height",i.height.toString()),n.style.clipPath=i.style.clipPath},initialProps:e,skip:t.skipAnimation,ref:t.ref})}function as(t){const e=os(p({},t,{borderRadius:t.ownerState.borderRadius??0}));return r.jsx("rect",p({},e))}function rs(t){const{maskId:e,x:n,y:i,width:s,height:o,skipAnimation:a}=t,l=M(t,ns);return!t.borderRadius||t.borderRadius<=0?null:r.jsx("clipPath",{id:e,children:r.jsx(as,{ownerState:l,x:n,y:i,width:s,height:o,skipAnimation:a})})}function ls(t){return ht("MuiBarLabel",t)}const Xt=nt("MuiBarLabel",["root","highlighted","faded","animate"]),cs=t=>{const{classes:e,seriesId:n,isFaded:i,isHighlighted:s,skipAnimation:o}=t,a={root:["root",`series-${n}`,s&&"highlighted",i&&"faded",!o&&"animate"]};return it(a,ls,e)},hs=t=>{const{barLabel:e,value:n,dataIndex:i,seriesId:s,height:o,width:a}=t;return e==="value"?n?n?.toString():null:e({seriesId:s,dataIndex:i,value:n},{bar:{height:o,width:a}})},us=["seriesId","dataIndex","color","isFaded","isHighlighted","classes","skipAnimation","layout","xOrigin","yOrigin"],ds=X("text",{name:"MuiBarLabel",slot:"Root",overridesResolver:(t,e)=>[{[`&.${Xt.faded}`]:e.faded},{[`&.${Xt.highlighted}`]:e.highlighted},e.root]})(({theme:t})=>p({},t?.typography?.body2,{stroke:"none",fill:(t.vars||t)?.palette?.text?.primary,transition:"opacity 0.2s ease-in, fill 0.2s ease-in",textAnchor:"middle",dominantBaseline:"central",pointerEvents:"none",opacity:1,[`&.${Xt.faded}`]:{opacity:.3}}));function xs(t){const e=Mt({props:t,name:"MuiBarLabel"}),n=M(e,us),i=si(e);return r.jsx(ds,p({},n,i))}const fs=["seriesId","classes","color","dataIndex","barLabel","slots","slotProps","xOrigin","yOrigin","x","y","width","height","value","skipAnimation","layout"],gs=["ownerState"];function ps(t){const{seriesId:e,classes:n,color:i,dataIndex:s,barLabel:o,slots:a,slotProps:l,xOrigin:c,yOrigin:h,x:u,y:d,width:x,height:f,value:g,skipAnimation:_,layout:C}=t,k=M(t,fs),{isFaded:A,isHighlighted:m}=Vt({seriesId:e,dataIndex:s}),y={seriesId:e,classes:n,color:i,isFaded:A,isHighlighted:m,dataIndex:s,skipAnimation:_,layout:C},T=cs(y),v=a?.barLabel??xs,I=K({elementType:v,externalSlotProps:l?.barLabel,additionalProps:p({},k,{xOrigin:c,yOrigin:h,x:u,y:d,width:x,height:f,className:T.root}),ownerState:y}),{ownerState:L}=I,O=M(I,gs);if(!o)return null;const $=hs({barLabel:o,value:g,dataIndex:s,seriesId:e,height:f,width:x});return $?r.jsx(v,p({},O,L,{children:$})):null}const _s=["bars","skipAnimation"];function ms(t){const{bars:e,skipAnimation:n}=t,i=M(t,_s);return r.jsx(j.Fragment,{children:e.map(({xOrigin:s,yOrigin:o,x:a,y:l,seriesId:c,dataIndex:h,color:u,value:d,width:x,height:f,layout:g})=>r.jsx(ps,p({seriesId:c,dataIndex:h,value:d,color:u,xOrigin:s,yOrigin:o,x:a,y:l,width:x,height:f,skipAnimation:n??!1,layout:g??"vertical"},i),`${c}-${h}`))})}const Yt=(t,e)=>{const n=`${t}-axis`,i=`${t}Axis`;return e===(t==="x"?Sn:Pn)?`The first \`${i}\``:`The ${n} with id "${e}"`};function bs(t,e,n,i,s,o,a){const l=s[i],c=a[o],h=t?l:c,u=t?c:l,d=t?i:o,x=t?o:i,f=t?"x":"y",g=t?"y":"x";if(!te(h))throw new Error(`MUI X Charts: ${Yt(f,d)} should be of type "band" to display the bar series of id "${e}".`);if(h.data===void 0)throw new Error(`MUI X Charts: ${Yt(f,d)} should have data property.`);if(te(u)||Cn(u))throw new Error(`MUI X Charts: ${Yt(g,x)} should be a continuous type to display the bar series of id "${e}".`)}const ys=["skipAnimation","onItemClick","borderRadius","barLabel"];function ks({bandWidth:t,numberOfGroups:e,gapRatio:n}){if(n===0)return{barWidth:t/e,offset:0};const i=t/(e+(e-1)*n),s=n*i;return{barWidth:i,offset:s}}const ws=()=>{const t=ti()??{series:{},stackingGroups:[]},e=U(),n=Ce(),{series:i,stackingGroups:s}=t,{xAxis:o,xAxisIds:a}=It(),{yAxis:l,yAxisIds:c}=Nt(),h=a[0],u=c[0],d={};return{completedData:s.flatMap(({ids:f},g)=>{const _=e.left,C=e.left+e.width,k=e.top,A=e.top+e.height;return f.flatMap(m=>{const y=i[m].xAxisId??h,T=i[m].yAxisId??u,v=o[y],I=l[T],L=i[m].layout==="vertical";bs(L,m,i[m],y,o,T,l);const O=L?v:I,$=v.scale,H=I.scale,W=jn(i[m],o[y],l[T]),R=O.scale.bandwidth(),{barWidth:w,offset:S}=ks({bandWidth:R,numberOfGroups:s.length,gapRatio:O.barGapRatio}),N=g*(w+S),{stackedData:E,data:J,layout:Z}=i[m];return O.data.map((z,B)=>{if(J[B]==null)return null;const V=E[B].map(Q=>L?H(Q):$(Q)),F=Math.round(Math.min(...V)),st=Math.round(Math.max(...V)),ot=i[m].stack,b={seriesId:m,dataIndex:B,layout:Z,x:L?$(z)+N:F,y:L?F:H(z)+N,xOrigin:$(0)??0,yOrigin:H(0)??0,height:L?st-F:w,width:L?w:st-F,color:W(B),value:J[B],maskId:`${n}_${ot||m}_${g}_${B}`};if(b.x>C||b.x+b.width<_||b.y>A||b.y+b.height<k)return null;d[b.maskId]||(d[b.maskId]={id:b.maskId,width:0,height:0,hasNegative:!1,hasPositive:!1,layout:b.layout,xOrigin:$(0),yOrigin:H(0),x:0,y:0});const P=d[b.maskId];return P.width=b.layout==="vertical"?b.width:P.width+b.width,P.height=b.layout==="vertical"?P.height+b.height:b.height,P.x=Math.min(P.x===0?1/0:P.x,b.x),P.y=Math.min(P.y===0?1/0:P.y,b.y),P.hasNegative=P.hasNegative||(b.value??0)<0,P.hasPositive=P.hasPositive||(b.value??0)>0,b}).filter(z=>z!==null)})}),masksData:Object.values(d)}},As=X("g",{name:"MuiBarPlot",slot:"Root"})({[`& .${Ji.root}`]:{transition:"opacity 0.2s ease-in, fill 0.2s ease-in"}});function Cs(t){const{completedData:e,masksData:n}=ws(),{skipAnimation:i,onItemClick:s,borderRadius:o,barLabel:a}=t,l=M(t,ys),c=we(),h=Ae(c||i),u=!o||o<=0;return r.jsxs(As,{children:[!u&&n.map(({id:d,x,y:f,width:g,height:_,hasPositive:C,hasNegative:k,layout:A})=>r.jsx(rs,{maskId:d,borderRadius:o,hasNegative:k,hasPositive:C,layout:A,x,y:f,width:g,height:_,skipAnimation:h??!1},d)),e.map(({seriesId:d,dataIndex:x,color:f,maskId:g,layout:_,x:C,xOrigin:k,y:A,yOrigin:m,width:y,height:T})=>{const v=r.jsx(es,p({id:d,dataIndex:x,color:f,skipAnimation:h??!1,layout:_??"vertical",x:C,xOrigin:k,y:A,yOrigin:m,width:y,height:T},l,{onClick:s&&(I=>{s(I,{type:"bar",seriesId:d,dataIndex:x})})}),`${d}-${x}`);return u?v:r.jsx("g",{clipPath:`url(#${g})`,children:v},`${d}-${x}`)}),a&&r.jsx(ms,p({bars:e,skipAnimation:h,barLabel:a},l))]})}const Ke=nt("MuiAppearingMask",["animate"]),Ss=X("rect")({animationName:"animate-width",animationTimingFunction:Tn,animationDuration:"0s",[`&.${Ke.animate}`]:{animationDuration:`${vn}ms`},"@keyframes animate-width":{from:{width:0}}});function Ps(t){const e=U(),n=Ce(),i=Ln(`${n}-${t.id}`);return r.jsxs(j.Fragment,{children:[r.jsx("clipPath",{id:i,children:r.jsx(Ss,{className:en(!t.skipAnimation&&Ke.animate),x:0,y:0,width:e.left+e.width+e.right,height:e.top+e.height+e.bottom})}),r.jsx("g",{clipPath:`url(#${i})`,children:t.children})]})}function js(t){switch(t){case"catmullRom":return Wn.alpha(.5);case"linear":return Te;case"monotoneX":return oe;case"monotoneY":return Vn;case"natural":return Kn;case"step":return Jn;case"stepBefore":return Zn;case"stepAfter":return qn;case"bumpY":return Yn;case"bumpX":return Xn;default:return oe}}const Ls=["skipAnimation","ownerState"],vs=j.forwardRef(function(e,n){const{skipAnimation:i,ownerState:s}=e,o=M(e,Ls),a=oi(p({},e,{ref:n}));return r.jsx(Ps,{skipAnimation:i,id:`${s.id}-line-clip`,children:r.jsx("path",p({stroke:s.gradientId?`url(#${s.gradientId})`:s.color,strokeWidth:2,strokeLinejoin:"round",fill:"none",filter:s.isHighlighted?"brightness(120%)":void 0,opacity:s.isFaded?.3:1},o,a))})}),Ts=["id","classes","color","gradientId","slots","slotProps","onClick"];function Is(t){return ht("MuiLineElement",t)}const Ms=nt("MuiLineElement",["root","highlighted","faded","series"]),$s=t=>{const{classes:e,id:n,isFaded:i,isHighlighted:s}=t,o={root:["root",`series-${n}`,s&&"highlighted",i&&"faded"]};return it(o,Is,e)};function Ns(t){const{id:e,classes:n,color:i,gradientId:s,slots:o,slotProps:a,onClick:l}=t,c=M(t,Ts),h=ke({type:"line",seriesId:e}),{isFaded:u,isHighlighted:d}=Vt({seriesId:e}),x={id:e,classes:n,color:i,gradientId:s,isFaded:u,isHighlighted:d},f=$s(x),g=o?.line??vs,_=K({elementType:g,externalSlotProps:a?.line,additionalProps:p({},h,{onClick:l,cursor:l?"pointer":"unset"}),className:f.root,ownerState:x});return r.jsx(g,p({},c,_))}const Rs=["slots","slotProps","skipAnimation","onItemClick"],Es=X("g",{name:"MuiAreaPlot",slot:"Root"})({[`& .${Ms.root}`]:{transition:"opacity 0.2s ease-in, fill 0.2s ease-in"}}),Bs=()=>{const t=In(),{xAxis:e,xAxisIds:n}=It(),{yAxis:i,yAxisIds:s}=Nt(),o=Mn();return j.useMemo(()=>{if(t===void 0)return[];const{series:l,stackingGroups:c}=t,h=n[0],u=s[0];return c.flatMap(({ids:d})=>d.flatMap(x=>{const{xAxisId:f=h,yAxisId:g=u,stackedData:_,data:C,connectNulls:k,curve:A,strictStepCurve:m}=l[x],y=e[f].scale,T=Wt(y),v=i[g].scale,I=e[f].data,L=i[g].colorScale&&o(g)||e[f].colorScale&&o(f)||void 0,O=A?.includes("step")&&!m&&dt(y),$=I?.flatMap((w,S)=>{const N=C[S]==null;if(O){const E=[{x:w,y:_[S],nullData:N,isExtension:!1}];return!N&&(S===0||C[S-1]==null)&&E.unshift({x:(y(w)??0)-(y.step()-y.bandwidth())/2,y:_[S],nullData:N,isExtension:!0}),!N&&(S===C.length-1||C[S+1]==null)&&E.push({x:(y(w)??0)+(y.step()+y.bandwidth())/2,y:_[S],nullData:N,isExtension:!0}),E}return{x:w,y:_[S],nullData:N}})??[],H=k?$.filter(w=>!w.nullData):$,R=Gn().x(w=>w.isExtension?w.x:T(w.x)).defined(w=>k||!w.nullData||!!w.isExtension).y(w=>v(w.y[1])).curve(js(A))(H)||"";return p({},l[x],{gradientId:L,d:R,seriesId:x})}))},[t,n,s,e,i,o])};function Ds(t){const{slots:e,slotProps:n,skipAnimation:i,onItemClick:s}=t,o=M(t,Rs),a=we(),l=Ae(a||i),c=Bs();return r.jsx(Es,p({},o,{children:c.map(({d:h,seriesId:u,color:d,gradientId:x})=>r.jsx(Ns,{id:u,d:h,color:d,gradientId:x,skipAnimation:l,slots:e,slotProps:n,onClick:s&&(f=>s(f,{type:"line",seriesId:u}))},u))}))}const Os=t=>`${t.metric??t.metric_type}:${JSON.stringify(t?.tags?.toSorted())}:${JSON.stringify(t.metric_labels)}`,Hs=t=>t.map(Os).join("|"),Fs=t=>{if(t==="full")return{xs:12,sm:12,md:12,lg:12};if(t==="half")return{xs:12,sm:12,md:6,lg:6};Lt(t)},Je=t=>{const e={series:[],sources:[]},n=t.title??"",i=t.subtitle??"",s=350,o=t.plot_params?.plot_type,a=o==="line"||o==="bar"||o==="text"||o==="counter"||o==="pie"?o:"line",l=t.plot_params?.aggregation,c=l==="last"||l==="sum"||l==="avg"?l:"last",h=t.size==="full"||t.size==="half"?t.size:"full",u=t.values.map(d=>d.legend);if(a==="text")return{type:a,size:h,title:n,description:i};if(a==="counter")return{type:a,size:h,title:n,description:i,aggregation:c,data:e,labels:u};if(a==="pie")return{type:a,size:h,title:n,description:i,aggregation:c,data:e,labels:u,height:s};if(a==="bar"||a==="line"){const d=!!t.plot_params?.is_stacked;return{type:a,size:h,title:n,description:i,isStacked:d,data:e,labels:u,height:s}}Lt(a)},zs=({panels:t,PanelComponent:e})=>t.length===0?r.jsx(Y,{my:3,align:"center",variant:"h4",children:"This dashboard is currently empty. Please add a monitoring panel to start."}):r.jsx(Ct,{container:!0,spacing:3,direction:"row",alignItems:"stretch",children:t.map(n=>{const i=Je(n);return r.jsx(Ct,{size:Fs(i.size),children:r.jsx(e,{panel:n})},n.id)})}),Ze=nn.createContext(null),Gs=()=>j.useContext(Ze),Xs=({data:t,labels:e,title:n,description:i,aggregation:s})=>r.jsx(Kt,{title:n,description:i,textCenterAlign:!0,children:r.jsx(ct,{children:r.jsx(Ct,{container:!0,spacing:2,justifyContent:"space-evenly",children:t.series.map(({metric_type:o,params:a,values:l,filter_index:c},h)=>{const{label:u,defaultLabel:d}=Se({metric_type:o,params:a,labels:e,filter_index:c}),x=$n(l,s);return r.jsx(Ct,{children:r.jsxs(ct,{children:[r.jsx(Y,{variant:"h2",align:"center",children:x}),r.jsx(Y,{component:"pre",align:"center",children:u})]})},`${h}:${d}`)})})})}),Ys=({data:t,type:e,title:n,description:i,height:s=350,labels:o,isStacked:a})=>{const l=t.series.map(({values:g,params:_,metric_type:C,filter_index:k})=>{const{label:A}=Se({metric_type:C,params:_,labels:o,filter_index:k}),m={label:A,stack:a?"total":void 0,labelMarkType:"square"};if(e==="line")return{type:e,data:g,...m};if(e==="bar")return{type:e,data:g,...m};Lt(e)}),c=[{data:t.sources.map(g=>sn(g.timestamp).format("YYYY-MM-DD HH:mm:ss")),scaleType:"band",height:50}],u=Gs()?.OnClickedPointComponent,[d,x]=j.useState(null),f=d&&t.sources[d.index].snapshot_id;return r.jsx(Kt,{title:n,description:i,height:s,children:r.jsxs(qe.Provider,{value:{data:t},children:[r.jsx(Nn,{series:l,xAxis:c,SurfaceComponents:r.jsxs(r.Fragment,{children:[r.jsx(Vs,{}),u&&r.jsxs(r.Fragment,{children:[r.jsx(Ks,{onSelect:g=>x({index:g})}),d&&r.jsx(Js,{...d})]})]})}),u&&f&&r.jsx(ct,{position:"relative",children:r.jsx(ge,{position:"absolute",top:-20,right:-15,children:r.jsx(u,{snapshotId:f})})})]})})},qe=j.createContext({data:{series:[],sources:[]}}),Us=()=>j.useContext(qe),Ws=()=>{const t=En(),{data:e}=Us();if(!t)return null;const n=t.at(0)?.dataIndex,i=typeof n=="number"&&e.sources?.[n]?.tags||[];return r.jsxs(r.Fragment,{children:[r.jsx(Bn,{}),r.jsx(je,{sx:{backgroundColor:"background.paper",borderTop:"unset",p:1,width:0,minWidth:"100%"},children:r.jsxs(ge,{direction:"row",flexWrap:"wrap",gap:1,children:[r.jsx(Y,{children:"Report tags:"}),i.length===0&&r.jsx(Y,{children:"None"}),i.map(s=>r.jsx(an,{size:"small",label:s},s))]})})]})},Vs=()=>r.jsxs(r.Fragment,{children:[r.jsx(Cs,{}),r.jsx(Ds,{}),r.jsx(Gi,{horizontal:!0}),r.jsx(vi,{label:"Timestamps",position:"bottom",labelStyle:{fontSize:18}}),r.jsx(Ei,{position:"left"}),r.jsx(Vi,{x:"band"}),r.jsx(Rn,{trigger:"axis",children:r.jsx(Ws,{})})]}),Ks=({onSelect:t})=>{const{left:e,top:n,width:i,height:s}=U(),o=Pe(),a=i/o.tickNumber;return r.jsx(r.Fragment,{children:r.jsx("rect",{x:e,y:n,width:i,height:s,opacity:0,style:{cursor:"pointer"},onClick:l=>{const c=l.target.getBoundingClientRect(),h=Math.floor((l.clientX-c.x)/a),u=on({value:h,min:0,max:o.tickNumber-1});t(u)}})})},Js=({index:t})=>{const{left:e,top:n,width:i,height:s}=U(),o=Pe(),a=Ut(),l=i/o.tickNumber;return r.jsx("rect",{x:e+l*t,y:n,width:l,height:s,fill:a.vars.palette.text.primary,shapeRendering:"crispEdges",pointerEvents:"none",opacity:.1})},Zs=({title:t,description:e})=>r.jsx(r.Fragment,{children:r.jsx(Kt,{title:t,description:e,sxCardContent:{p:"16px !important"},textCenterAlign:!0})}),xe=t=>{if(t.type==="bar"||t.type==="line")return r.jsx(Ys,{...t});if(t.type==="pie")return r.jsx(Dn,{...t});if(t.type==="counter")return r.jsx(Xs,{...t});if(t.type==="text")return r.jsx(Zs,{...t});Lt(t.type)},qs=({height:t=350,title:e,subtitle:n,isShowTitle:i,skipBody:s})=>r.jsx(je,{elevation:0,children:r.jsxs(On,{sx:{px:0},children:[r.jsxs(ct,{px:3,children:[e&&i&&r.jsx(Y,{variant:"h5",fontWeight:500,gutterBottom:!0,children:e}),e&&!i&&r.jsx(Y,{variant:"h5",width:Math.max(e.length*11,450),children:r.jsx(Ft,{variant:"text",animation:"wave",sx:{mb:1}})}),n&&i&&r.jsx(Y,{fontWeight:400,gutterBottom:!0,children:n}),n&&!i&&r.jsx(Y,{children:r.jsx(Ft,{variant:"text",animation:"wave",sx:{mb:1}})})]}),(e||n)&&!s&&r.jsx(Hn,{sx:{mb:2,mt:1}}),!s&&r.jsx(ct,{px:3,children:r.jsx(Ft,{variant:"rectangular",height:t,animation:"wave"})})]})}),Qs=({panel:t,loadDataForPanel:e,data:n})=>{const i=Je(t),s=i.type!=="text",o=Hs(t.values),a="height"in i?i.height:200;return j.useEffect(()=>{s&&e()},[o,s]),s?n?r.jsx(xe,{...i,data:n}):r.jsx(qs,{title:i.title,subtitle:i.description,height:a}):r.jsx(xe,{...i})},to=({panel:t})=>{const{project:e}=pe();Le(e);const{id:n}=e,i=rn("/projects/:projectId/load-panel-points"),s=()=>i.load({query:{body:JSON.stringify({series_filter:t.values.map(a=>({metric:a.metric,tags:a.tags??[],metadata:a.metadata??{},metric_labels:a.metric_labels??{}}))})},paramsToReplace:{projectId:n}}),o=i.data;return r.jsx(Qs,{panel:t,loadDataForPanel:s,data:o})},eo=to,no=({snapshotId:t})=>{const{project:e}=pe();Le(e);const n=ln();return r.jsx(cn,{type:"button",to:"/projects/:projectId/reports/:snapshotId",title:"View report",variant:"outlined",paramsToReplace:{projectId:e.id,snapshotId:t},disabled:n})},io=no,ro="/projects/:projectId/?index",so={title:"Dashboard"},lo={crumb:so},co=({params:t,query:e})=>{const{projectId:n}=t;return hn.GET("/api/v2/dashboards/{project_id}",{params:{path:{project_id:n},query:e},parseAs:"text"}).then(un()).then(dn)},ho=()=>{const{loaderData:t}=xn();return r.jsx(ct,{py:2,children:r.jsx(Ze.Provider,{value:{OnClickedPointComponent:io},children:r.jsx(zs,{PanelComponent:eo,panels:t.panels})})})};export{ho as Component,ro as currentRoutePath,lo as handle,co as loadData};
