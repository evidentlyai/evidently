import{G as p,z as S,E as M,ax as a,au as ht,av as it,ay as Y,B as tn,aY as Ut,bT as ge,bU as K,aA as st,az as en,bV as Lt,aZ as X,bx as Ct,F as nn,aM as Z,bW as sn,bG as pe,bX as on,bd as an,bh as zt,bl as rn,bY as ln,bZ as cn,b9 as hn,a_ as un,b_ as dn,b$ as _e,br as me,c0 as xn,bR as fn,bM as gn,bH as pn,bI as _n,bJ as mn,bQ as bn}from"./index-DIyke-R6.js";import{F as yn,G as ct,H as kn,I as te,J as wn,K as An,L as vt,M as D,N as Cn,O as Sn,Q as Tt,R as It,u as Mt,S as U,T as be,U as $t,V as dt,W as ye,X as Nt,Y as Pn,Z as ke,_ as we,$ as Vt,a0 as jn,a1 as Ln,a2 as vn,a3 as Ae,a4 as Wt,a5 as ee,a6 as Tn,a7 as In,a8 as Mn,a9 as Ce,aa as Se,ab as Pe,ac as $n,ad as Nn,ae as Rn,af as En,ag as Bn,ah as Dn,ai as Kt,aj as je,ak as Hn,al as On,am as zn,an as Le,ao as Fn,ap as Gn,D as ve,P as Xn,E as Yn}from"./Pie-BYK_ZsdS.js";function Te(t){this._context=t}Te.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Ie(t){return new Te(t)}function Un(t){return t[0]}function Vn(t){return t[1]}function Wn(t,e){var n=ct(!0),i=null,o=Ie,s=null,r=yn(l);t=typeof t=="function"?t:t===void 0?Un:ct(t),e=typeof e=="function"?e:e===void 0?Vn:ct(e);function l(c){var h,u=(c=kn(c)).length,d,x=!1,f;for(i==null&&(s=o(f=r())),h=0;h<=u;++h)!(h<u&&n(d=c[h],h,c))===x&&((x=!x)?s.lineStart():s.lineEnd()),x&&s.point(+t(d,h,c),+e(d,h,c));if(f)return s=null,f+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:ct(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:ct(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:ct(!!c),l):n},l.curve=function(c){return arguments.length?(o=c,i!=null&&(s=o(i)),l):o},l.context=function(c){return arguments.length?(c==null?i=s=null:s=o(i=c),l):i},l}class Me{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Kn(t){return new Me(t,!0)}function Zn(t){return new Me(t,!1)}function ne(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Zt(t,e){this._context=t,this._k=(1-e)/6}Zt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ne(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:ne(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(i){return new Zt(i,e)}return n.tension=function(i){return t(+i)},n})(0);function Jn(t,e,n){var i=t._x1,o=t._y1,s=t._x2,r=t._y2;if(t._l01_a>te){var l=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*l-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,o=(o*l-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>te){var h=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,u=3*t._l23_a*(t._l23_a+t._l12_a);s=(s*h+t._x1*t._l23_2a-e*t._l12_2a)/u,r=(r*h+t._y1*t._l23_2a-n*t._l12_2a)/u}t._context.bezierCurveTo(i,o,s,r,t._x2,t._y2)}function $e(t,e){this._context=t,this._alpha=e}$e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Jn(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const qn=function t(e){function n(i){return e?new $e(i,e):new Zt(i,0)}return n.alpha=function(i){return t(+i)},n}(.5);function ie(t){return t<0?-1:1}function se(t,e,n){var i=t._x1-t._x0,o=e-t._x1,s=(t._y1-t._y0)/(i||o<0&&-0),r=(n-t._y1)/(o||i<0&&-0),l=(s*o+r*i)/(i+o);return(ie(s)+ie(r))*Math.min(Math.abs(s),Math.abs(r),.5*Math.abs(l))||0}function oe(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Ft(t,e,n){var i=t._x0,o=t._y0,s=t._x1,r=t._y1,l=(s-i)/3;t._context.bezierCurveTo(i+l,o+l*e,s-l,r-l*n,s,r)}function St(t){this._context=t}St.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ft(this,this._t0,oe(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Ft(this,oe(this,n=se(this,t,e)),n);break;default:Ft(this,this._t0,n=se(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function Ne(t){this._context=new Re(t)}(Ne.prototype=Object.create(St.prototype)).point=function(t,e){St.prototype.point.call(this,e,t)};function Re(t){this._context=t}Re.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,o,s){this._context.bezierCurveTo(e,t,i,n,s,o)}};function ae(t){return new St(t)}function Qn(t){return new Ne(t)}function Ee(t){this._context=t}Ee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var i=re(t),o=re(e),s=0,r=1;r<n;++s,++r)this._context.bezierCurveTo(i[0][s],o[0][s],i[1][s],o[1][s],t[r],e[r]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function re(t){var e,n=t.length-1,i,o=new Array(n),s=new Array(n),r=new Array(n);for(o[0]=0,s[0]=2,r[0]=t[0]+2*t[1],e=1;e<n-1;++e)o[e]=1,s[e]=4,r[e]=4*t[e]+2*t[e+1];for(o[n-1]=2,s[n-1]=7,r[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)i=o[e]/s[e-1],s[e]-=i,r[e]-=i*r[e-1];for(o[n-1]=r[n-1]/s[n-1],e=n-2;e>=0;--e)o[e]=(r[e]-o[e+1])/s[e];for(s[n-1]=(t[n]+o[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-o[e+1];return[o,s]}function ti(t){return new Ee(t)}function Rt(t,e){this._context=t,this._t=e}Rt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function ei(t){return new Rt(t,.5)}function ni(t){return new Rt(t,0)}function ii(t){return new Rt(t,1)}An("bar");const si=wn("bar");function oi(){return si()}function ai(t,e){const n=D(t.x,e.x),i=D(t.y,e.y),o=D(t.width,e.width),s=D(t.height,e.height);return r=>({x:n(r),y:i(r),width:o(r),height:s(r)})}function ri(t){const e={x:t.layout==="vertical"?t.x:t.xOrigin,y:t.layout==="vertical"?t.yOrigin:t.y,width:t.layout==="vertical"?t.width:0,height:t.layout==="vertical"?0:t.height};return vt({x:t.x,y:t.y,width:t.width,height:t.height},{createInterpolator:ai,applyProps(n,i){n.setAttribute("x",i.x.toString()),n.setAttribute("y",i.y.toString()),n.setAttribute("width",i.width.toString()),n.setAttribute("height",i.height.toString())},transformProps:n=>n,initialProps:e,skip:t.skipAnimation,ref:t.ref})}function li(t,e){const n=D(t.x,e.x),i=D(t.y,e.y),o=D(t.width,e.width),s=D(t.height,e.height);return r=>({x:n(r),y:i(r),width:o(r),height:s(r)})}function ci(t){const e={x:t.layout==="vertical"?t.x+t.width/2:t.xOrigin,y:t.layout==="vertical"?t.yOrigin:t.y+t.height/2,width:t.width,height:t.height},n={x:t.x+t.width/2,y:t.y+t.height/2,width:t.width,height:t.height};return vt(n,{createInterpolator:li,transformProps:i=>i,applyProps(i,o){i.setAttribute("x",o.x.toString()),i.setAttribute("y",o.y.toString()),i.setAttribute("width",o.width.toString()),i.setAttribute("height",o.height.toString())},initialProps:e,skip:t.skipAnimation,ref:t.ref})}function hi(t){return vt({d:t.d},{createInterpolator:(e,n)=>{const i=Cn(e.d,n.d);return o=>({d:i(o)})},applyProps:(e,{d:n})=>e.setAttribute("d",n),skip:t.skipAnimation,transformProps:e=>e,ref:t.ref})}function ui(){return typeof window>"u"}const nt={widthCache:{},cacheCount:0},di=2e3,xi={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},fi=["minWidth","maxWidth","width","minHeight","maxHeight","height","top","left","fontSize","padding","margin","paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom"],le="mui_measurement_span";function Be(t,e){return fi.indexOf(t)>=0&&e===+e?`${e}px`:e}function De(t){return t.split("").reduce((i,o)=>o===o.toUpperCase()?[...i,"-",o.toLowerCase()]:[...i,o],[]).join("")}const gi=t=>Object.keys(t).sort().reduce((e,n)=>`${e}${De(n)}:${Be(n,t[n])};`,"");let Gt;const xt=(t,e={})=>{if(t==null||ui())return{width:0,height:0};const n=`${t}`,i=gi(e),o=`${n}-${i}`;if(nt.widthCache[o])return nt.widthCache[o];try{let s=document.getElementById(le);s===null&&(s=document.createElement("span"),s.setAttribute("id",le),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));const r=p({},xi,e);Object.keys(r).map(h=>(s.style[De(h)]=Be(h,r[h]),h)),s.textContent=n;const l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return nt.widthCache[o]=c,nt.cacheCount+1>di?(nt.cacheCount=0,nt.widthCache={}):nt.cacheCount+=1,Gt&&clearTimeout(Gt),Gt=setTimeout(()=>{s.textContent=""},0),c}catch{return{width:0,height:0}}};function He({style:t,needsComputation:e,text:n}){return n.split(`
`).map(i=>p({text:i},e?xt(i,t):{width:0,height:0}))}function Jt(){const[t,e]=S.useState(typeof window<"u"||!1);return S.useEffect(()=>{e(!0)},[]),t}const pi=["x","y","style","text","ownerState"],_i=["angle","textAnchor","dominantBaseline"];function Pt(t){const{x:e,y:n,style:i,text:o}=t,s=M(t,pi),r=i??{},{angle:l,textAnchor:c,dominantBaseline:h}=r,u=M(r,_i),d=Jt(),x=S.useMemo(()=>He({style:u,needsComputation:d&&o.includes(`
`),text:o}),[u,o,d]);let f;switch(h){case"hanging":case"text-before-edge":f=0;break;case"central":f=(x.length-1)/2*-x[0].height;break;default:f=(x.length-1)*-x[0].height;break}return a.jsx("text",p({},s,{transform:l?`rotate(${l}, ${e}, ${n})`:void 0,x:e,y:n,textAnchor:c,dominantBaseline:h,style:u,children:x.map((g,_)=>a.jsx("tspan",{x:e,dy:`${_===0?f:x[0].height}px`,dominantBaseline:h,children:g.text},_))}))}const Oe=typeof window<"u"&&"Intl"in window&&"Segmenter"in Intl?new Intl.Segmenter(void 0,{granularity:"grapheme"}):null;function mi(t){return t.length}function bi(t){const e=Oe.segment(t);let n=0;for(const i of e)n+=1;return n}const yi=Oe?bi:mi;function ki(t){return t*(Math.PI/180)}const ze=typeof window<"u"&&"Intl"in window&&"Segmenter"in Intl?new Intl.Segmenter(void 0,{granularity:"grapheme"}):null;function wi(t,e){return t.slice(0,e)}function Ai(t,e){const n=ze.segment(t);let i="",o=0;for(const s of n)if(i+=s.segment,o+=1,o>=e)break;return i}const Ci=ze?Ai:wi,ce="â€¦";function Fe(t,e){const{width:n,height:i,measureText:o}=e,s=ki(e.angle),r=o(t),l=Math.abs(r.width*Math.cos(s))+Math.abs(r.height*Math.sin(s)),c=Math.abs(r.width*Math.sin(s))+Math.abs(r.height*Math.cos(s));return l<=n&&c<=i}function Ge(t,e){if(e(t))return t;let n=t,i=1,o=1/2;const s=yi(t);let r=s,l=s,c=null;do{if(l=r,r=Math.floor(s*o),r===0)break;n=Ci(t,r).trim();const h=e(n+ce);i+=1,h?(c=n,o+=1/2**i):o-=1/2**i}while(Math.abs(r-l)!==1);return c?c+ce:""}function Xe(t){return ht("MuiChartsAxis",t)}const wt=it("MuiChartsAxis",["root","line","tickContainer","tick","tickLabel","label","directionX","directionY","top","bottom","left","right"]),Ye=Y("g",{name:"MuiChartsAxis",slot:"Root"})(({theme:t})=>({[`& .${wt.tickLabel}`]:p({},t.typography.caption,{fill:(t.vars||t).palette.text.primary}),[`& .${wt.label}`]:{fill:(t.vars||t).palette.text.primary},[`& .${wt.line}`]:{stroke:(t.vars||t).palette.text.primary,shapeRendering:"crispEdges",strokeWidth:1},[`& .${wt.tick}`]:{stroke:(t.vars||t).palette.text.primary,shapeRendering:"crispEdges"}})),he=5;function Si(t,e,n=0){const i=Math.min(Math.abs(n)%180,Math.abs(Math.abs(n)%180-180)%180);if(i<he)return t;if(i>90-he)return e;const o=Sn(i),s=Math.atan2(e,t);return o<s?t/Math.cos(o):e/Math.sin(o)}function Pi(t=!1){const[e,n]=S.useState(!1);return tn(()=>{t||n(!0)},[t]),S.useEffect(()=>{t&&n(!0)},[t]),e}function Ue(t){const e=Tt(t);return e<=30||e>=330||e<=210&&e>=150?"middle":e<=180?"end":"start"}function Ve(t){const e=Tt(t);return e<=30||e>=330?"hanging":e<=210&&e>=150?"auto":"central"}function We(t){switch(t){case"start":return"end";case"end":return"start";default:return t}}const ji=["scale","tickNumber","reverse"],Li=t=>{const{classes:e,position:n}=t;return st({root:["root","directionX",n],line:["line"],tickContainer:["tickContainer"],tick:["tick"],tickLabel:["tickLabel"],label:["label"]},Xe,e)},ue=3,vi=4;function Ti(t,{tickLabelStyle:e,tickLabelInterval:n,tickLabelMinGap:i,reverse:o,isMounted:s,isPointInside:r}){const l=u=>{if(!s||u.formattedValue===void 0)return{width:0,height:0};const d=He({style:e,needsComputation:!0,text:u.formattedValue});return{width:Math.max(...d.map(x=>x.width)),height:Math.max(d.length*d[0].height)}};if(typeof n=="function")return new Set(t.filter((u,d)=>n(u.value,d)));let c=0;const h=o?-1:1;return new Set(t.filter((u,d)=>{const{offset:x,labelOffset:f}=u,g=x+f;if(d>0&&h*g<h*(c+i)||!r(g))return!1;const{width:_,height:C}=l(u),k=Si(_,C,e?.angle),A=g-h*k/2;return d>0&&h*A<h*(c+i)?!1:(c=g+h*k/2,!0)}))}function Ii(t,e,n,i,o){const s=new Map,r=Tt(o?.angle??0);let l=1,c=1;o?.textAnchor==="start"?(l=1/0,c=1):o?.textAnchor==="end"?(l=1,c=1/0):(l=2,c=2),r>90&&r<270&&([l,c]=[c,l]),i&&([l,c]=[c,l]);for(const h of t)if(h.formattedValue){const u=Math.min((h.offset+h.labelOffset)*l,(e.left+e.width+e.right-h.offset-h.labelOffset)*c),d=x=>Fe(x,{width:u,height:n,angle:r,measureText:f=>xt(f,o)});s.set(h,Ge(h.formattedValue.toString(),d))}return s}const Mi=Y(Ye,{name:"MuiChartsXAxis",slot:"Root"})({}),$i={disableLine:!1,disableTicks:!1,tickSize:6,tickLabelMinGap:4};function Ni(t){const{xAxis:e,xAxisIds:n}=It(),i=e[t.axisId??n[0]],{scale:o,tickNumber:s,reverse:r}=i,l=M(i,ji),c=Pi(),h=Mt({props:p({},l,t),name:"MuiChartsXAxis"}),u=p({},$i,h),{position:d,disableLine:x,disableTicks:f,tickLabelStyle:g,label:_,labelStyle:C,tickSize:k,valueFormatter:A,slots:m,slotProps:y,tickInterval:T,tickLabelInterval:v,tickPlacement:I,tickLabelPlacement:L,tickLabelMinGap:H,sx:$,offset:O,height:V}=u,R=Ut(),w=ge(),P=Li(u),N=U(),{left:E,top:J,width:q,height:F}=N,{instance:B}=be(),Q=Jt(),W=f?4:k,z=d==="bottom"?1:-1,ot=m?.axisLine??"line",at=m?.axisTick??"line",b=m?.axisTickLabel??Pt,j=m?.axisLabel??Pt,tt=Ue((d==="bottom"?0:180)-(g?.angle??0)),ft=Ve((d==="bottom"?0:180)-(g?.angle??0)),rt=K({elementType:b,externalSlotProps:y?.axisTickLabel,additionalProps:{style:p({},R.typography.caption,{fontSize:12,lineHeight:1.25,textAnchor:w?We(tt):tt,dominantBaseline:ft},g)},className:P.tickLabel,ownerState:{}}),gt=$t({scale:o,tickNumber:s,valueFormatter:A,tickInterval:T,tickPlacement:I,tickLabelPlacement:L}),lt=Ti(gt,{tickLabelStyle:rt.style,tickLabelInterval:v,tickLabelMinGap:H,reverse:r,isMounted:c,isPointInside:G=>B.isPointInside({x:G,y:-1},{direction:"x"})}),ut=K({elementType:j,externalSlotProps:y?.axisLabel,additionalProps:{style:p({},R.typography.body1,{lineHeight:1,fontSize:14,textAnchor:"middle",dominantBaseline:d==="bottom"?"text-after-edge":"text-before-edge"},C)},ownerState:{}}),pt=o.domain(),_t=dt(o);if(_t&&pt.length===0||!_t&&pt.some(ye)||d==="none")return null;const Et=_?xt(_,ut.style).height:0,et={x:E+q/2,y:z*V},mt=Math.max(0,V-(_?Et+vi:0)-W-ue),bt=Q?Ii(lt,N,mt,w,rt.style):new Map(Array.from(lt).map(G=>[G,G.formattedValue]));return a.jsxs(Mi,{transform:`translate(0, ${d==="bottom"?J+F+O:J-O})`,className:P.root,sx:$,children:[!x&&a.jsx(ot,p({x1:E,x2:E+q,className:P.line},y?.axisLine)),gt.map((G,Bt)=>{const{offset:yt,labelOffset:Dt}=G,Ht=Dt??0,Ot=z*(W+ue),kt=B.isPointInside({x:yt,y:-1},{direction:"x"}),Qt=bt.get(G),Qe=lt.has(G);return a.jsxs("g",{transform:`translate(${yt}, 0)`,className:P.tickContainer,children:[!f&&kt&&a.jsx(at,p({y2:z*W,className:P.tick},y?.axisTick)),Qt!==void 0&&Qe&&a.jsx(b,p({x:Ht,y:Ot},rt,{text:Qt}))]},Bt)}),_&&a.jsx("g",{className:P.label,children:a.jsx(j,p({},et,ut,{text:_}))})]})}const Ri=["scale","tickNumber"],Ei=t=>{const{classes:e,position:n}=t;return st({root:["root","directionY",n],line:["line"],tickContainer:["tickContainer"],tick:["tick"],tickLabel:["tickLabel"],label:["label"]},Xe,e)},de=2,Bi=2;function Di(t,e,n,i,o){const s=new Map,r=Tt(o?.angle??0);let l=1,c=1;o?.textAnchor==="start"?(l=1/0,c=1):o?.textAnchor==="end"?(l=1,c=1/0):(l=2,c=2),r>180&&([l,c]=[c,l]),i&&([l,c]=[c,l]);for(const h of t)if(h.formattedValue){const u=Math.min((h.offset+h.labelOffset)*l,(e.top+e.height+e.bottom-h.offset-h.labelOffset)*c),d=x=>Fe(x,{width:n,height:u,angle:r,measureText:f=>xt(f,o)});s.set(h,Ge(h.formattedValue.toString(),d))}return s}const Hi=Y(Ye,{name:"MuiChartsYAxis",slot:"Root"})({}),Oi={disableLine:!1,disableTicks:!1,tickSize:6};function zi(t){const{yAxisIds:e,yAxis:n}=Nt(),i=n[t.axisId??e[0]],{scale:o,tickNumber:s}=i,r=M(i,Ri),l=Mt({props:p({},r,t),name:"MuiChartsYAxis"}),c=p({},Oi,l),{position:h,disableLine:u,disableTicks:d,label:x,labelStyle:f,tickLabelStyle:g,tickSize:_,valueFormatter:C,slots:k,slotProps:A,tickPlacement:m,tickLabelPlacement:y,tickInterval:T,tickLabelInterval:v,sx:I,offset:L,width:H}=c,$=Ut(),O=ge(),V=Jt(),R=Ei(c),{instance:w}=be(),P=U(),{left:N,top:E,width:J,height:q}=P,F=d?4:_,B=$t({scale:o,tickNumber:s,valueFormatter:C,tickPlacement:m,tickLabelPlacement:y,tickInterval:T}),Q=h==="right"?1:-1,W=typeof g?.fontSize=="number"?g.fontSize:12,z=k?.axisLine??"line",ot=k?.axisTick??"line",at=k?.axisTickLabel??Pt,b=k?.axisLabel??Pt,j=Ue((h==="right"?-90:90)-(g?.angle??0)),tt=Ve((h==="right"?-90:90)-(g?.angle??0)),ft=K({elementType:at,externalSlotProps:A?.axisTickLabel,additionalProps:{style:p({},$.typography.caption,{fontSize:W,textAnchor:O?We(j):j,dominantBaseline:tt},g)},className:R.tickLabel,ownerState:{}}),rt=K({elementType:b,externalSlotProps:A?.axisLabel,additionalProps:{style:p({},$.typography.body1,{lineHeight:1,fontSize:14,angle:Q*90,textAnchor:"middle",dominantBaseline:"text-before-edge"},f)},ownerState:{}}),gt=K({elementType:z,externalSlotProps:A?.axisLine,additionalProps:{strokeLinecap:"square"},ownerState:{}}),lt=o.domain(),ut=dt(o);if(ut&&lt.length===0||!ut&&lt.some(ye)||h==="none")return null;const pt={x:Q*H,y:E+q/2},_t=Math.max(0,H-(x?xt(x,rt.style).height+Bi:0)-F-de),Et=V?Di(B,P,_t,O,ft.style):new Map(Array.from(B).map(et=>[et,et.formattedValue]));return a.jsxs(Hi,{transform:`translate(${h==="right"?N+J+L:N-L}, 0)`,className:R.root,sx:I,children:[!u&&a.jsx(z,p({y1:E,y2:E+q,className:R.line},gt)),B.map((et,mt)=>{const{offset:bt,labelOffset:G,value:Bt}=et,yt=Q*(F+de),Dt=G,Ht=typeof v=="function"&&!v?.(Bt,mt),Ot=w.isPointInside({x:-1,y:bt},{direction:"y"}),kt=Et.get(et);return Ot?a.jsxs("g",{transform:`translate(0, ${bt})`,className:R.tickContainer,children:[!d&&a.jsx(ot,p({x2:Q*F,className:R.tick},A?.axisTick)),kt!==void 0&&!Ht&&a.jsx(at,p({x:yt,y:Dt,text:kt},ft))]},mt):null}),x&&V&&a.jsx("g",{className:R.label,children:a.jsx(b,p({},pt,rt,{text:x}))})]})}function Fi(t){return ht("MuiChartsGrid",t)}const xe=it("MuiChartsGrid",["root","line","horizontalLine","verticalLine"]),Gi=Y("g",{name:"MuiChartsGrid",slot:"Root",overridesResolver:(t,e)=>[{[`&.${xe.verticalLine}`]:e.verticalLine},{[`&.${xe.horizontalLine}`]:e.horizontalLine},e.root]})({}),Ke=Y("line",{name:"MuiChartsGrid",slot:"Line"})(({theme:t})=>({stroke:(t.vars||t).palette.divider,shapeRendering:"crispEdges",strokeWidth:1}));function Xi(t){const{axis:e,start:n,end:i,classes:o}=t,{scale:s,tickNumber:r,tickInterval:l}=e,c=$t({scale:s,tickNumber:r,tickInterval:l});return a.jsx(S.Fragment,{children:c.map(({value:h,offset:u})=>a.jsx(Ke,{y1:n,y2:i,x1:u,x2:u,className:o.verticalLine},`vertical-${h.getTime?.()??h}`))})}function Yi(t){const{axis:e,start:n,end:i,classes:o}=t,{scale:s,tickNumber:r,tickInterval:l}=e,c=$t({scale:s,tickNumber:r,tickInterval:l});return a.jsx(S.Fragment,{children:c.map(({value:h,offset:u})=>a.jsx(Ke,{y1:u,y2:u,x1:n,x2:i,className:o.horizontalLine},`horizontal-${h.getTime?.()??h}`))})}const Ui=["vertical","horizontal"],Vi=({classes:t})=>st({root:["root"],verticalLine:["line","verticalLine"],horizontalLine:["line","horizontalLine"]},Fi,t);function Wi(t){const e=Mt({props:t,name:"MuiChartsGrid"}),n=U(),{vertical:i,horizontal:o}=e,s=M(e,Ui),{xAxis:r,xAxisIds:l}=It(),{yAxis:c,yAxisIds:h}=Nt(),u=Vi(e),d=c[h[0]],x=r[l[0]];return a.jsxs(Gi,p({},s,{className:u.root,children:[i&&a.jsx(Xi,{axis:x,start:n.top,end:n.height+n.top,classes:u}),o&&a.jsx(Yi,{axis:d,start:n.left,end:n.width+n.left,classes:u})]}))}function Ki(t){return ht("MuiChartsAxisHighlight",t)}it("MuiChartsAxisHighlight",["root"]);const jt=Y("path",{name:"MuiChartsAxisHighlight",slot:"Root"})(({theme:t})=>({pointerEvents:"none",variants:[{props:{axisHighlight:"band"},style:p({fill:"white",fillOpacity:.1},t.applyStyles("light",{fill:"gray"}))},{props:{axisHighlight:"line"},style:p({strokeDasharray:"5 2",stroke:"#ffffff"},t.applyStyles("light",{stroke:"#000000"}))}]}));function Zi(t){const{type:e,classes:n}=t,{left:i,width:o}=U(),s=Pn(),r=ke(),l=we(r,jn),c=Vt(s),h=e==="band"&&l!==null&&dt(s);return a.jsxs(S.Fragment,{children:[h&&s(l)!==void 0&&a.jsx(jt,{d:`M ${i} ${s(l)-(s.step()-s.bandwidth())/2} l 0 ${s.step()} l ${o} 0 l 0 ${-s.step()} Z`,className:n.root,ownerState:{axisHighlight:"band"}}),e==="line"&&l!==null&&a.jsx(jt,{d:`M ${i} ${c(l)} L ${i+o} ${c(l)}`,className:n.root,ownerState:{axisHighlight:"line"}})]})}function Ji(t){const{type:e,classes:n}=t,{top:i,height:o}=U(),s=Ln(),r=ke(),l=we(r,vn),c=Vt(s),h=e==="band"&&l!==null&&dt(s);return a.jsxs(S.Fragment,{children:[h&&s(l)!==void 0&&a.jsx(jt,{d:`M ${s(l)-(s.step()-s.bandwidth())/2} ${i} l ${s.step()} 0 l 0 ${o} l ${-s.step()} 0 Z`,className:n.root,ownerState:{axisHighlight:"band"}}),e==="line"&&l!==null&&a.jsx(jt,{d:`M ${c(l)} ${i} L ${c(l)} ${i+o}`,className:n.root,ownerState:{axisHighlight:"line"}})]})}const qi=()=>st({root:["root"]},Ki);function Qi(t){const{x:e,y:n}=t,i=qi();return a.jsxs(S.Fragment,{children:[e&&a.jsx(Ji,{type:e,classes:i}),n&&a.jsx(Zi,{type:n,classes:i})]})}function ts(t){return ht("MuiBarElement",t)}const es=it("MuiBarElement",["root","highlighted","faded","series"]),ns=t=>{const{classes:e,id:n,isHighlighted:i,isFaded:o}=t,s={root:["root",`series-${n}`,i&&"highlighted",o&&"faded"]};return st(s,ts,e)},is=["ownerState","skipAnimation","id","dataIndex","xOrigin","yOrigin"];function ss(t){const{ownerState:e}=t,n=M(t,is),i=ri(t);return a.jsx("rect",p({},n,{filter:e.isHighlighted?"brightness(120%)":void 0,opacity:e.isFaded?.3:1},i))}const os=["id","dataIndex","classes","color","slots","slotProps","style","onClick","skipAnimation","layout","x","xOrigin","y","yOrigin","width","height"];function as(t){const{id:e,dataIndex:n,classes:i,color:o,slots:s,slotProps:r,style:l,onClick:c,skipAnimation:h,layout:u,x:d,xOrigin:x,y:f,yOrigin:g,width:_,height:C}=t,k=M(t,os),A=Ae({type:"bar",seriesId:e,dataIndex:n}),{isFaded:m,isHighlighted:y}=Wt({seriesId:e,dataIndex:n}),T={id:e,dataIndex:n,classes:i,color:o,isFaded:m,isHighlighted:y},v=ns(T),I=s?.bar??ss,L=K({elementType:I,externalSlotProps:r?.bar,externalForwardedProps:k,additionalProps:p({},A,{id:e,dataIndex:n,color:o,x:d,xOrigin:x,y:f,yOrigin:g,width:_,height:C,style:l,onClick:c,cursor:c?"pointer":"unset",stroke:"none",fill:o,skipAnimation:h,layout:u}),className:v.root,ownerState:T});return a.jsx(I,p({},L))}const At=(t,{hasNegative:e,hasPositive:n,borderRadius:i,layout:o})=>{if(!i)return 0;const s=o==="vertical";return t==="top-left"&&(s&&n||!s&&e)||t==="top-right"&&(s&&n||!s&&n)||t==="bottom-right"&&(s&&e||!s&&n)||t==="bottom-left"&&(s&&e||!s&&e)?i:0},rs=["maskId","x","y","width","height","skipAnimation"];function ls(t,e,n){const i=p({},n,{borderRadius:e}),o=Math.min(t,At("top-left",i)),s=Math.min(t,At("top-right",i)),r=Math.min(t,At("bottom-right",i)),l=Math.min(t,At("bottom-left",i));return`inset(0px round ${o}px ${s}px ${r}px ${l}px)`}function cs(t,e){const n=D(t.x,e.x),i=D(t.y,e.y),o=D(t.width,e.width),s=D(t.height,e.height),r=D(t.borderRadius,e.borderRadius);return l=>({x:n(l),y:i(l),width:o(l),height:s(l),borderRadius:r(l)})}function hs(t){const e={x:t.x,y:t.y+(t.ownerState.layout==="vertical"?t.height:0),width:t.ownerState.layout==="vertical"?t.width:0,height:t.ownerState.layout==="vertical"?0:t.height,borderRadius:t.borderRadius};return vt({x:t.x,y:t.y,width:t.width,height:t.height,borderRadius:t.borderRadius},{createInterpolator:cs,transformProps:n=>({x:n.x,y:n.y,width:n.width,height:n.height,style:{clipPath:ls(t.ownerState.layout==="vertical"?n.height:n.width,n.borderRadius,t.ownerState)}}),applyProps(n,i){n.setAttribute("x",i.x.toString()),n.setAttribute("y",i.y.toString()),n.setAttribute("width",i.width.toString()),n.setAttribute("height",i.height.toString()),n.style.clipPath=i.style.clipPath},initialProps:e,skip:t.skipAnimation,ref:t.ref})}function us(t){const e=hs(p({},t,{borderRadius:t.ownerState.borderRadius??0}));return a.jsx("rect",p({},e))}function ds(t){const{maskId:e,x:n,y:i,width:o,height:s,skipAnimation:r}=t,l=M(t,rs);return!t.borderRadius||t.borderRadius<=0?null:a.jsx("clipPath",{id:e,children:a.jsx(us,{ownerState:l,x:n,y:i,width:o,height:s,skipAnimation:r})})}function xs(t){return ht("MuiBarLabel",t)}const Xt=it("MuiBarLabel",["root","highlighted","faded","animate"]),fs=t=>{const{classes:e,seriesId:n,isFaded:i,isHighlighted:o,skipAnimation:s}=t,r={root:["root",`series-${n}`,o&&"highlighted",i&&"faded",!s&&"animate"]};return st(r,xs,e)},gs=t=>{const{barLabel:e,value:n,dataIndex:i,seriesId:o,height:s,width:r}=t;return e==="value"?n?n?.toString():null:e({seriesId:o,dataIndex:i,value:n},{bar:{height:s,width:r}})},ps=["seriesId","dataIndex","color","isFaded","isHighlighted","classes","skipAnimation","layout","xOrigin","yOrigin"],_s=Y("text",{name:"MuiBarLabel",slot:"Root",overridesResolver:(t,e)=>[{[`&.${Xt.faded}`]:e.faded},{[`&.${Xt.highlighted}`]:e.highlighted},e.root]})(({theme:t})=>p({},t?.typography?.body2,{stroke:"none",fill:(t.vars||t)?.palette?.text?.primary,transition:"opacity 0.2s ease-in, fill 0.2s ease-in",textAnchor:"middle",dominantBaseline:"central",pointerEvents:"none",opacity:1,[`&.${Xt.faded}`]:{opacity:.3}}));function ms(t){const e=Mt({props:t,name:"MuiBarLabel"}),n=M(e,ps),i=ci(e);return a.jsx(_s,p({},n,i))}const bs=["seriesId","classes","color","dataIndex","barLabel","slots","slotProps","xOrigin","yOrigin","x","y","width","height","value","skipAnimation","layout"],ys=["ownerState"];function ks(t){const{seriesId:e,classes:n,color:i,dataIndex:o,barLabel:s,slots:r,slotProps:l,xOrigin:c,yOrigin:h,x:u,y:d,width:x,height:f,value:g,skipAnimation:_,layout:C}=t,k=M(t,bs),{isFaded:A,isHighlighted:m}=Wt({seriesId:e,dataIndex:o}),y={seriesId:e,classes:n,color:i,isFaded:A,isHighlighted:m,dataIndex:o,skipAnimation:_,layout:C},T=fs(y),v=r?.barLabel??ms,I=K({elementType:v,externalSlotProps:l?.barLabel,additionalProps:p({},k,{xOrigin:c,yOrigin:h,x:u,y:d,width:x,height:f,className:T.root}),ownerState:y}),{ownerState:L}=I,H=M(I,ys);if(!s)return null;const $=gs({barLabel:s,value:g,dataIndex:o,seriesId:e,height:f,width:x});return $?a.jsx(v,p({},H,L,{children:$})):null}const ws=["bars","skipAnimation"];function As(t){const{bars:e,skipAnimation:n}=t,i=M(t,ws);return a.jsx(S.Fragment,{children:e.map(({xOrigin:o,yOrigin:s,x:r,y:l,seriesId:c,dataIndex:h,color:u,value:d,width:x,height:f,layout:g})=>a.jsx(ks,p({seriesId:c,dataIndex:h,value:d,color:u,xOrigin:o,yOrigin:s,x:r,y:l,width:x,height:f,skipAnimation:n??!1,layout:g??"vertical"},i),`${c}-${h}`))})}const Yt=(t,e)=>{const n=`${t}-axis`,i=`${t}Axis`;return e===(t==="x"?In:Mn)?`The first \`${i}\``:`The ${n} with id "${e}"`};function Cs(t,e,n,i,o,s,r){const l=o[i],c=r[s],h=t?l:c,u=t?c:l,d=t?i:s,x=t?s:i,f=t?"x":"y",g=t?"y":"x";if(!ee(h))throw new Error(`MUI X Charts: ${Yt(f,d)} should be of type "band" to display the bar series of id "${e}".`);if(h.data===void 0)throw new Error(`MUI X Charts: ${Yt(f,d)} should have data property.`);if(ee(u)||Tn(u))throw new Error(`MUI X Charts: ${Yt(g,x)} should be a continuous type to display the bar series of id "${e}".`)}const Ss=["skipAnimation","onItemClick","borderRadius","barLabel"];function Ps({bandWidth:t,numberOfGroups:e,gapRatio:n}){if(n===0)return{barWidth:t/e,offset:0};const i=t/(e+(e-1)*n),o=n*i;return{barWidth:i,offset:o}}const js=()=>{const t=oi()??{series:{},stackingGroups:[]},e=U(),n=Pe(),{series:i,stackingGroups:o}=t,{xAxis:s,xAxisIds:r}=It(),{yAxis:l,yAxisIds:c}=Nt(),h=r[0],u=c[0],d={};return{completedData:o.flatMap(({ids:f},g)=>{const _=e.left,C=e.left+e.width,k=e.top,A=e.top+e.height;return f.flatMap(m=>{const y=i[m].xAxisId??h,T=i[m].yAxisId??u,v=s[y],I=l[T],L=i[m].layout==="vertical";Cs(L,m,i[m],y,s,T,l);const H=L?v:I,$=v.scale,O=I.scale,V=$n(i[m],s[y],l[T]),R=H.scale.bandwidth(),{barWidth:w,offset:P}=Ps({bandWidth:R,numberOfGroups:o.length,gapRatio:H.barGapRatio}),N=g*(w+P),{stackedData:E,data:J,layout:q}=i[m];return H.data.map((F,B)=>{if(J[B]==null)return null;const W=E[B].map(tt=>L?O(tt):$(tt)),z=Math.round(Math.min(...W)),ot=Math.round(Math.max(...W)),at=i[m].stack,b={seriesId:m,dataIndex:B,layout:q,x:L?$(F)+N:z,y:L?z:O(F)+N,xOrigin:$(0)??0,yOrigin:O(0)??0,height:L?ot-z:w,width:L?w:ot-z,color:V(B),value:J[B],maskId:`${n}_${at||m}_${g}_${B}`};if(b.x>C||b.x+b.width<_||b.y>A||b.y+b.height<k)return null;d[b.maskId]||(d[b.maskId]={id:b.maskId,width:0,height:0,hasNegative:!1,hasPositive:!1,layout:b.layout,xOrigin:$(0),yOrigin:O(0),x:0,y:0});const j=d[b.maskId];return j.width=b.layout==="vertical"?b.width:j.width+b.width,j.height=b.layout==="vertical"?j.height+b.height:b.height,j.x=Math.min(j.x===0?1/0:j.x,b.x),j.y=Math.min(j.y===0?1/0:j.y,b.y),j.hasNegative=j.hasNegative||(b.value??0)<0,j.hasPositive=j.hasPositive||(b.value??0)>0,b}).filter(F=>F!==null)})}),masksData:Object.values(d)}},Ls=Y("g",{name:"MuiBarPlot",slot:"Root"})({[`& .${es.root}`]:{transition:"opacity 0.2s ease-in, fill 0.2s ease-in"}});function vs(t){const{completedData:e,masksData:n}=js(),{skipAnimation:i,onItemClick:o,borderRadius:s,barLabel:r}=t,l=M(t,Ss),c=Ce(),h=Se(c||i),u=!s||s<=0;return a.jsxs(Ls,{children:[!u&&n.map(({id:d,x,y:f,width:g,height:_,hasPositive:C,hasNegative:k,layout:A})=>a.jsx(ds,{maskId:d,borderRadius:s,hasNegative:k,hasPositive:C,layout:A,x,y:f,width:g,height:_,skipAnimation:h??!1},d)),e.map(({seriesId:d,dataIndex:x,color:f,maskId:g,layout:_,x:C,xOrigin:k,y:A,yOrigin:m,width:y,height:T})=>{const v=a.jsx(as,p({id:d,dataIndex:x,color:f,skipAnimation:h??!1,layout:_??"vertical",x:C,xOrigin:k,y:A,yOrigin:m,width:y,height:T},l,{onClick:o&&(I=>{o(I,{type:"bar",seriesId:d,dataIndex:x})})}),`${d}-${x}`);return u?v:a.jsx("g",{clipPath:`url(#${g})`,children:v},`${d}-${x}`)}),r&&a.jsx(As,p({bars:e,skipAnimation:h,barLabel:r},l))]})}const Ze=it("MuiAppearingMask",["animate"]),Ts=Y("rect")({animationName:"animate-width",animationTimingFunction:En,animationDuration:"0s",[`&.${Ze.animate}`]:{animationDuration:`${Rn}ms`},"@keyframes animate-width":{from:{width:0}}});function Is(t){const e=U(),n=Pe(),i=Nn(`${n}-${t.id}`);return a.jsxs(S.Fragment,{children:[a.jsx("clipPath",{id:i,children:a.jsx(Ts,{className:en(!t.skipAnimation&&Ze.animate),x:0,y:0,width:e.left+e.width+e.right,height:e.top+e.height+e.bottom})}),a.jsx("g",{clipPath:`url(#${i})`,children:t.children})]})}function Ms(t){switch(t){case"catmullRom":return qn.alpha(.5);case"linear":return Ie;case"monotoneX":return ae;case"monotoneY":return Qn;case"natural":return ti;case"step":return ei;case"stepBefore":return ni;case"stepAfter":return ii;case"bumpY":return Zn;case"bumpX":return Kn;default:return ae}}const $s=["skipAnimation","ownerState"],Ns=S.forwardRef(function(e,n){const{skipAnimation:i,ownerState:o}=e,s=M(e,$s),r=hi(p({},e,{ref:n}));return a.jsx(Is,{skipAnimation:i,id:`${o.id}-line-clip`,children:a.jsx("path",p({stroke:o.gradientId?`url(#${o.gradientId})`:o.color,strokeWidth:2,strokeLinejoin:"round",fill:"none",filter:o.isHighlighted?"brightness(120%)":void 0,opacity:o.isFaded?.3:1},s,r))})}),Rs=["id","classes","color","gradientId","slots","slotProps","onClick"];function Es(t){return ht("MuiLineElement",t)}const Bs=it("MuiLineElement",["root","highlighted","faded","series"]),Ds=t=>{const{classes:e,id:n,isFaded:i,isHighlighted:o}=t,s={root:["root",`series-${n}`,o&&"highlighted",i&&"faded"]};return st(s,Es,e)};function Hs(t){const{id:e,classes:n,color:i,gradientId:o,slots:s,slotProps:r,onClick:l}=t,c=M(t,Rs),h=Ae({type:"line",seriesId:e}),{isFaded:u,isHighlighted:d}=Wt({seriesId:e}),x={id:e,classes:n,color:i,gradientId:o,isFaded:u,isHighlighted:d},f=Ds(x),g=s?.line??Ns,_=K({elementType:g,externalSlotProps:r?.line,additionalProps:p({},h,{onClick:l,cursor:l?"pointer":"unset"}),className:f.root,ownerState:x});return a.jsx(g,p({},c,_))}const Os=["slots","slotProps","skipAnimation","onItemClick"],zs=Y("g",{name:"MuiAreaPlot",slot:"Root"})({[`& .${Bs.root}`]:{transition:"opacity 0.2s ease-in, fill 0.2s ease-in"}}),Fs=()=>{const t=Bn(),{xAxis:e,xAxisIds:n}=It(),{yAxis:i,yAxisIds:o}=Nt(),s=Dn();return S.useMemo(()=>{if(t===void 0)return[];const{series:l,stackingGroups:c}=t,h=n[0],u=o[0];return c.flatMap(({ids:d})=>d.flatMap(x=>{const{xAxisId:f=h,yAxisId:g=u,stackedData:_,data:C,connectNulls:k,curve:A,strictStepCurve:m}=l[x],y=e[f].scale,T=Vt(y),v=i[g].scale,I=e[f].data,L=i[g].colorScale&&s(g)||e[f].colorScale&&s(f)||void 0,H=A?.includes("step")&&!m&&dt(y),$=I?.flatMap((w,P)=>{const N=C[P]==null;if(H){const E=[{x:w,y:_[P],nullData:N,isExtension:!1}];return!N&&(P===0||C[P-1]==null)&&E.unshift({x:(y(w)??0)-(y.step()-y.bandwidth())/2,y:_[P],nullData:N,isExtension:!0}),!N&&(P===C.length-1||C[P+1]==null)&&E.push({x:(y(w)??0)+(y.step()+y.bandwidth())/2,y:_[P],nullData:N,isExtension:!0}),E}return{x:w,y:_[P],nullData:N}})??[],O=k?$.filter(w=>!w.nullData):$,R=Wn().x(w=>w.isExtension?w.x:T(w.x)).defined(w=>k||!w.nullData||!!w.isExtension).y(w=>v(w.y[1])).curve(Ms(A))(O)||"";return p({},l[x],{gradientId:L,d:R,seriesId:x})}))},[t,n,o,e,i,s])};function Gs(t){const{slots:e,slotProps:n,skipAnimation:i,onItemClick:o}=t,s=M(t,Os),r=Ce(),l=Se(r||i),c=Fs();return a.jsx(zs,p({},s,{children:c.map(({d:h,seriesId:u,color:d,gradientId:x})=>a.jsx(Hs,{id:u,d:h,color:d,gradientId:x,skipAnimation:l,slots:e,slotProps:n,onClick:o&&(f=>o(f,{type:"line",seriesId:u}))},u))}))}const Xs=t=>t.map(Ys).join("|"),Ys=t=>`${t.metric}:${JSON.stringify(t?.tags?.toSorted())}:${JSON.stringify(t.metric_labels)}`,qt=t=>{const e={series:[],sources:[]},n=t.title??"",i=t.subtitle??"",o=350,s=t.plot_params?.plot_type,r=s==="line"||s==="bar"||s==="text"||s==="counter"||s==="pie"?s:"line",l=t.plot_params?.aggregation,c=l==="last"||l==="sum"||l==="avg"?l:"last",h=t.size==="full"||t.size==="half"?t.size:"full",u=t.values.map(d=>d.legend);if(r==="text")return{type:r,size:h,title:n,description:i};if(r==="counter")return{type:r,size:h,title:n,description:i,aggregation:c,data:e,labels:u};if(r==="pie")return{type:r,size:h,title:n,description:i,aggregation:c,data:e,labels:u,height:o};if(r==="bar"||r==="line"){const d=!!t.plot_params?.is_stacked;return{type:r,size:h,title:n,description:i,isStacked:d,data:e,labels:u,height:o}}Lt(r)},Us=t=>{if(t==="full")return{xs:12,sm:12,md:12,lg:12};if(t==="half")return{xs:12,sm:12,md:6,lg:6};Lt(t)},Vs=t=>{const{panels:e,PanelComponent:n}=t;return e.length===0?a.jsx(X,{my:3,align:"center",variant:"h4",children:"This dashboard is currently empty. Please add a monitoring panel to start."}):a.jsx(Ct,{container:!0,spacing:3,direction:"row",alignItems:"stretch",children:e.map(i=>{const o=qt(i);return a.jsx(Ct,{size:Us(o.size),children:a.jsx(n,{panel:i})},i.id)})})},Je=nn.createContext(null),Ws=()=>S.useContext(Je),Ks=({data:t,labels:e,title:n,description:i,aggregation:o})=>a.jsx(Kt,{title:n,description:i,textCenterAlign:!0,children:a.jsx(Z,{children:a.jsx(Ct,{container:!0,spacing:2,justifyContent:"space-evenly",children:t.series.map(({metric_type:s,params:r,values:l,filter_index:c},h)=>{const{label:u,defaultLabel:d}=je({metric_type:s,params:r,labels:e,filter_index:c}),x=Hn(l,o);return a.jsx(Ct,{children:a.jsxs(Z,{children:[a.jsx(X,{variant:"h2",align:"center",children:x}),a.jsx(X,{component:"pre",align:"center",children:u})]})},`${h}:${d}`)})})})}),Zs=({data:t,type:e,title:n,description:i,height:o=350,labels:s,isStacked:r})=>{const l=t.series.map(({values:g,params:_,metric_type:C,filter_index:k})=>{const{label:A}=je({metric_type:C,params:_,labels:s,filter_index:k}),m={label:A,stack:r?"total":void 0,labelMarkType:"square"};if(e==="line")return{type:e,data:g,...m};if(e==="bar")return{type:e,data:g,...m};Lt(e)}),c=[{data:t.sources.map(g=>sn(g.timestamp).format("YYYY-MM-DD HH:mm:ss")),scaleType:"band",height:50}],u=Ws()?.OnClickedPointComponent,[d,x]=S.useState(null),f=d&&t.sources[d.index].snapshot_id;return a.jsx(Kt,{title:n,description:i,height:o,children:a.jsxs(qe.Provider,{value:{data:t},children:[a.jsx(On,{series:l,xAxis:c,SurfaceComponents:a.jsxs(a.Fragment,{children:[a.jsx(Qs,{}),u&&a.jsxs(a.Fragment,{children:[a.jsx(to,{onSelect:g=>x({index:g})}),d&&a.jsx(eo,{...d})]})]})}),u&&f&&a.jsx(Z,{position:"relative",children:a.jsx(pe,{position:"absolute",top:-20,right:-15,children:a.jsx(u,{snapshotId:f})})})]})})},qe=S.createContext({data:{series:[],sources:[]}}),Js=()=>S.useContext(qe),qs=()=>{const t=Fn(),{data:e}=Js();if(!t)return null;const n=t.at(0)?.dataIndex,i=typeof n=="number"&&e.sources?.[n]?.tags||[];return a.jsxs(a.Fragment,{children:[a.jsx(Gn,{}),a.jsx(ve,{sx:{backgroundColor:"background.paper",borderTop:"unset",p:1,width:0,minWidth:"100%"},children:a.jsxs(pe,{direction:"row",flexWrap:"wrap",gap:1,children:[a.jsx(X,{children:"Report tags:"}),i.length===0&&a.jsx(X,{children:"None"}),i.map(o=>a.jsx(an,{size:"small",label:o},o))]})})]})},Qs=()=>a.jsxs(a.Fragment,{children:[a.jsx(vs,{}),a.jsx(Gs,{}),a.jsx(Wi,{horizontal:!0}),a.jsx(Ni,{label:"Timestamps",position:"bottom",labelStyle:{fontSize:18}}),a.jsx(zi,{position:"left"}),a.jsx(Qi,{x:"band"}),a.jsx(zn,{trigger:"axis",children:a.jsx(qs,{})})]}),to=({onSelect:t})=>{const{left:e,top:n,width:i,height:o}=U(),s=Le(),r=i/s.tickNumber;return a.jsx(a.Fragment,{children:a.jsx("rect",{x:e,y:n,width:i,height:o,opacity:0,style:{cursor:"pointer"},onClick:l=>{const c=l.target.getBoundingClientRect(),h=Math.floor((l.clientX-c.x)/r),u=on({value:h,min:0,max:s.tickNumber-1});t(u)}})})},eo=({index:t})=>{const{left:e,top:n,width:i,height:o}=U(),s=Le(),r=Ut(),l=i/s.tickNumber;return a.jsx("rect",{x:e+l*t,y:n,width:l,height:o,fill:r.vars.palette.text.primary,shapeRendering:"crispEdges",pointerEvents:"none",opacity:.1})},no=({title:t,description:e})=>a.jsx(a.Fragment,{children:a.jsx(Kt,{title:t,description:e,sxCardContent:{p:"16px !important"},textCenterAlign:!0})}),fe=t=>{if(t.type==="bar"||t.type==="line")return a.jsx(Zs,{...t});if(t.type==="pie")return a.jsx(Xn,{...t});if(t.type==="counter")return a.jsx(Ks,{...t});if(t.type==="text")return a.jsx(no,{...t});Lt(t.type)},io=({height:t=350,title:e,subtitle:n,isShowTitle:i,skipBody:o})=>a.jsx(ve,{elevation:0,children:a.jsxs(Yn,{sx:{px:0},children:[a.jsxs(Z,{px:3,children:[e&&i&&a.jsx(X,{variant:"h5",fontWeight:500,gutterBottom:!0,children:e}),e&&!i&&a.jsx(X,{variant:"h5",width:Math.max(e.length*11,450),children:a.jsx(zt,{variant:"text",animation:"wave",sx:{mb:1}})}),n&&i&&a.jsx(X,{fontWeight:400,gutterBottom:!0,children:n}),n&&!i&&a.jsx(X,{children:a.jsx(zt,{variant:"text",animation:"wave",sx:{mb:1}})})]}),(e||n)&&!o&&a.jsx(rn,{sx:{mb:2,mt:1}}),!o&&a.jsx(Z,{px:3,children:a.jsx(zt,{variant:"rectangular",height:t,animation:"wave"})})]})}),so=t=>{const{panel:e,loadDataPointsCallback:n,loadDataPointsHash:i,data:o}=t,s=qt(e),r=s.type!=="text",l="height"in s?s.height:200;return S.useEffect(()=>{r&&n()},[i,r]),r?o?a.jsx(fe,{...s,data:o}):a.jsx(io,{title:s.title,subtitle:s.description,height:l}):a.jsx(fe,{...s})},oo=({storageKey:t,hintMessage:e})=>{const[n,i]=ln(t,!1),[o,s]=S.useState(!n);return S.useEffect(()=>{n||i(!0)},[]),o?a.jsx(cn,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:o,onClose:(r,l)=>{l!=="clickaway"&&s(!1)},children:a.jsx(hn,{sx:{p:1,borderRadius:2,border:"1px solid",borderColor:"divider",backgroundColor:"background.default"},children:a.jsxs(Z,{display:"flex",justifyContent:"space-between",alignItems:"center",gap:2,children:[a.jsx(X,{children:e}),a.jsx(un,{size:"small",onClick:()=>s(!1),children:a.jsx(dn,{})})]})})}):null},ao=t=>{const{panel:e}=t,{project:n}=_e();me(n);const{id:i}=n,o=xn("/projects/:projectId/load-panel-points"),{data:s}=o,r=e.values,l={series_filter:r.map(u=>({metric:u.metric,tags:u.tags??[],metadata:u.metadata??{},metric_labels:u.metric_labels??{}}))},c=Xs(r),h=()=>{o.load({query:{body:JSON.stringify(l)},paramsToReplace:{projectId:i}})};return a.jsx(so,{panel:e,loadDataPointsCallback:h,loadDataPointsHash:c,data:s})},ro=t=>{const{panel:e}=t,[n,i]=S.useState(!1),o=qt(e);return a.jsxs(a.Fragment,{children:[n&&a.jsx(oo,{storageKey:"one-time-hint-click-on-datapoints",hintMessage:"You can click on the data point to open the Report."}),a.jsx(Z,{onMouseEnter:()=>{if(o.type==="line"||o.type==="bar"){if(n)return;i(!0)}},children:a.jsx(ao,{panel:e})})]})},lo=ro,co=({snapshotId:t})=>{const{project:e}=_e();me(e);const n=fn();return a.jsx(gn,{type:"button",to:"/projects/:projectId/reports/:snapshotId",title:"View report",variant:"outlined",paramsToReplace:{projectId:e.id,snapshotId:t},disabled:n})},ho=co,go="/projects/:projectId/?index",uo={title:"Dashboard"},po={crumb:uo},_o=({params:t,query:e})=>{const{projectId:n}=t;return pn.GET("/api/v2/dashboards/{project_id}",{params:{path:{project_id:n},query:e},parseAs:"text"}).then(_n()).then(mn)},mo=()=>{const{loaderData:t}=bn();return a.jsx(Z,{py:2,children:a.jsx(Je.Provider,{value:{OnClickedPointComponent:ho},children:a.jsx(Vs,{PanelComponent:lo,panels:t.panels})})})};export{mo as Component,go as currentRoutePath,po as handle,_o as loadData};
