import{cj as _,z as P,cg as L,A as c,a5 as ht,a8 as nt,d0 as G,ai as tn,d5 as Ut,c5 as fe,aV as K,aQ as it,b4 as en,dW as Pt,da as Y,dJ as kt,ch as nn,df as lt,dX as sn,dR as ge,dY as on,dy as an,dZ as _e,d_ as rn,d$ as cn,e0 as ln,dS as hn,dT as un,dU as dn,dV as xn}from"./index-7HUL6Y6F.js";import{H as fn,I as ct,J as gn,K as Qt,L as _n,M as vt,N as D,O as mn,Q as pn,R as Mt,T as It,u as Lt,U,V as me,W as $t,X as dt,Y as pe,Z as Nt,_ as yn,$ as ye,a0 as be,a1 as Wt,a2 as bn,a3 as An,a4 as wn,a5 as Ae,a6 as Vt,a7 as te,a8 as Cn,a9 as kn,aa as jn,ab as we,ac as Ce,ad as ke,ae as Sn,af as Tn,ag as Pn,ah as vn,ai as Mn,aj as In,ak as Kt,al as je,am as Ln,an as $n,ao as Nn,ap as Se,aq as Rn,ar as En,F as Te,P as Bn,G as Dn,S as zt,D as On,i as Pe}from"./Pie-BAL96TCs.js";function ve(t){this._context=t}ve.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Me(t){return new ve(t)}function Hn(t){return t[0]}function zn(t){return t[1]}function Fn(t,e){var n=ct(!0),i=null,s=Me,o=null,a=fn(r);t=typeof t=="function"?t:t===void 0?Hn:ct(t),e=typeof e=="function"?e:e===void 0?zn:ct(e);function r(l){var h,d=(l=gn(l)).length,u,x=!1,g;for(i==null&&(o=s(g=a())),h=0;h<=d;++h)!(h<d&&n(u=l[h],h,l))===x&&((x=!x)?o.lineStart():o.lineEnd()),x&&o.point(+t(u,h,l),+e(u,h,l));if(g)return o=null,g+""||null}return r.x=function(l){return arguments.length?(t=typeof l=="function"?l:ct(+l),r):t},r.y=function(l){return arguments.length?(e=typeof l=="function"?l:ct(+l),r):e},r.defined=function(l){return arguments.length?(n=typeof l=="function"?l:ct(!!l),r):n},r.curve=function(l){return arguments.length?(s=l,i!=null&&(o=s(i)),r):s},r.context=function(l){return arguments.length?(l==null?i=o=null:o=s(i=l),r):i},r}class Ie{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Xn(t){return new Ie(t,!0)}function Gn(t){return new Ie(t,!1)}function ee(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Zt(t,e){this._context=t,this._k=(1-e)/6}Zt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ee(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:ee(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(i){return new Zt(i,e)}return n.tension=function(i){return t(+i)},n})(0);function Yn(t,e,n){var i=t._x1,s=t._y1,o=t._x2,a=t._y2;if(t._l01_a>Qt){var r=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*r-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,s=(s*r-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>Qt){var h=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,d=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*h+t._x1*t._l23_2a-e*t._l12_2a)/d,a=(a*h+t._y1*t._l23_2a-n*t._l12_2a)/d}t._context.bezierCurveTo(i,s,o,a,t._x2,t._y2)}function Le(t,e){this._context=t,this._alpha=e}Le.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Yn(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Un=function t(e){function n(i){return e?new Le(i,e):new Zt(i,0)}return n.alpha=function(i){return t(+i)},n}(.5);function ne(t){return t<0?-1:1}function ie(t,e,n){var i=t._x1-t._x0,s=e-t._x1,o=(t._y1-t._y0)/(i||s<0&&-0),a=(n-t._y1)/(s||i<0&&-0),r=(o*s+a*i)/(i+s);return(ne(o)+ne(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(r))||0}function se(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Ft(t,e,n){var i=t._x0,s=t._y0,o=t._x1,a=t._y1,r=(o-i)/3;t._context.bezierCurveTo(i+r,s+r*e,o-r,a-r*n,o,a)}function jt(t){this._context=t}jt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ft(this,this._t0,se(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Ft(this,se(this,n=ie(this,t,e)),n);break;default:Ft(this,this._t0,n=ie(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function $e(t){this._context=new Ne(t)}($e.prototype=Object.create(jt.prototype)).point=function(t,e){jt.prototype.point.call(this,e,t)};function Ne(t){this._context=t}Ne.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,s,o){this._context.bezierCurveTo(e,t,i,n,o,s)}};function oe(t){return new jt(t)}function Wn(t){return new $e(t)}function Re(t){this._context=t}Re.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var i=ae(t),s=ae(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(i[0][o],s[0][o],i[1][o],s[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function ae(t){var e,n=t.length-1,i,s=new Array(n),o=new Array(n),a=new Array(n);for(s[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)s[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(s[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)i=s[e]/o[e-1],o[e]-=i,a[e]-=i*a[e-1];for(s[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)s[e]=(a[e]-s[e+1])/o[e];for(o[n-1]=(t[n]+s[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-s[e+1];return[s,o]}function Vn(t){return new Re(t)}function Rt(t,e){this._context=t,this._t=e}Rt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Kn(t){return new Rt(t,.5)}function Zn(t){return new Rt(t,0)}function Jn(t){return new Rt(t,1)}const qn=_n("bar");function Qn(){return qn()}function ti(t,e){const n=D(t.x,e.x),i=D(t.y,e.y),s=D(t.width,e.width),o=D(t.height,e.height);return a=>({x:n(a),y:i(a),width:s(a),height:o(a)})}function ei(t){const e={x:t.layout==="vertical"?t.x:t.xOrigin,y:t.layout==="vertical"?t.yOrigin:t.y,width:t.layout==="vertical"?t.width:0,height:t.layout==="vertical"?0:t.height};return vt({x:t.x,y:t.y,width:t.width,height:t.height},{createInterpolator:ti,applyProps(n,i){n.setAttribute("x",i.x.toString()),n.setAttribute("y",i.y.toString()),n.setAttribute("width",i.width.toString()),n.setAttribute("height",i.height.toString())},transformProps:n=>n,initialProps:e,skip:t.skipAnimation,ref:t.ref})}function ni(t,e){const n=D(t.x,e.x),i=D(t.y,e.y),s=D(t.width,e.width),o=D(t.height,e.height);return a=>({x:n(a),y:i(a),width:s(a),height:o(a)})}function ii(t){const e={x:t.layout==="vertical"?t.x+t.width/2:t.xOrigin,y:t.layout==="vertical"?t.yOrigin:t.y+t.height/2,width:t.width,height:t.height},n={x:t.x+t.width/2,y:t.y+t.height/2,width:t.width,height:t.height};return vt(n,{createInterpolator:ni,transformProps:i=>i,applyProps(i,s){i.setAttribute("x",s.x.toString()),i.setAttribute("y",s.y.toString()),i.setAttribute("width",s.width.toString()),i.setAttribute("height",s.height.toString())},initialProps:e,skip:t.skipAnimation,ref:t.ref})}function si(t){return vt({d:t.d},{createInterpolator:(e,n)=>{const i=mn(e.d,n.d);return s=>({d:i(s)})},applyProps:(e,{d:n})=>e.setAttribute("d",n),skip:t.skipAnimation,transformProps:e=>e,ref:t.ref})}function oi(){return typeof window>"u"}const et={widthCache:{},cacheCount:0},ai=2e3,ri={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},ci=["minWidth","maxWidth","width","minHeight","maxHeight","height","top","left","fontSize","padding","margin","paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom"],re="mui_measurement_span";function Ee(t,e){return ci.indexOf(t)>=0&&e===+e?`${e}px`:e}function Be(t){return t.split("").reduce((i,s)=>s===s.toUpperCase()?[...i,"-",s.toLowerCase()]:[...i,s],[]).join("")}const li=t=>Object.keys(t).sort().reduce((e,n)=>`${e}${Be(n)}:${Ee(n,t[n])};`,"");let Xt;const xt=(t,e={})=>{if(t==null||oi())return{width:0,height:0};const n=`${t}`,i=li(e),s=`${n}-${i}`;if(et.widthCache[s])return et.widthCache[s];try{let o=document.getElementById(re);o===null&&(o=document.createElement("span"),o.setAttribute("id",re),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));const a=_({},ri,e);Object.keys(a).map(h=>(o.style[Be(h)]=Ee(h,a[h]),h)),o.textContent=n;const r=o.getBoundingClientRect(),l={width:r.width,height:r.height};return et.widthCache[s]=l,et.cacheCount+1>ai?(et.cacheCount=0,et.widthCache={}):et.cacheCount+=1,Xt&&clearTimeout(Xt),Xt=setTimeout(()=>{o.textContent=""},0),l}catch{return{width:0,height:0}}};function De({style:t,needsComputation:e,text:n}){return n.split(`
`).map(i=>_({text:i},e?xt(i,t):{width:0,height:0}))}function Jt(){const[t,e]=P.useState(typeof window<"u"||!1);return P.useEffect(()=>{e(!0)},[]),t}const hi=["x","y","style","text","ownerState"],ui=["angle","textAnchor","dominantBaseline"];function St(t){const{x:e,y:n,style:i,text:s}=t,o=L(t,hi),a=i??{},{angle:r,textAnchor:l,dominantBaseline:h}=a,d=L(a,ui),u=Jt(),x=P.useMemo(()=>De({style:d,needsComputation:u&&s.includes(`
`),text:s}),[d,s,u]);let g;switch(h){case"hanging":case"text-before-edge":g=0;break;case"central":g=(x.length-1)/2*-x[0].height;break;default:g=(x.length-1)*-x[0].height;break}return c.jsx("text",_({},o,{transform:r?`rotate(${r}, ${e}, ${n})`:void 0,x:e,y:n,textAnchor:l,dominantBaseline:h,style:d,children:x.map((f,A)=>c.jsx("tspan",{x:e,dy:`${A===0?g:x[0].height}px`,dominantBaseline:h,children:f.text},A))}))}const Oe=typeof window<"u"&&"Intl"in window&&"Segmenter"in Intl?new Intl.Segmenter(void 0,{granularity:"grapheme"}):null;function di(t){return t.length}function xi(t){const e=Oe.segment(t);let n=0;for(const i of e)n+=1;return n}const fi=Oe?xi:di;function gi(t){return t*(Math.PI/180)}const He=typeof window<"u"&&"Intl"in window&&"Segmenter"in Intl?new Intl.Segmenter(void 0,{granularity:"grapheme"}):null;function _i(t,e){return t.slice(0,e)}function mi(t,e){const n=He.segment(t);let i="",s=0;for(const o of n)if(i+=o.segment,s+=1,s>=e)break;return i}const pi=He?mi:_i,ce="…";function ze(t,e){const{width:n,height:i,measureText:s}=e,o=gi(e.angle),a=s(t),r=Math.abs(a.width*Math.cos(o))+Math.abs(a.height*Math.sin(o)),l=Math.abs(a.width*Math.sin(o))+Math.abs(a.height*Math.cos(o));return r<=n&&l<=i}function Fe(t,e){if(e(t))return t;let n=t,i=1,s=1/2;const o=fi(t);let a=o,r=o,l=null;do{if(r=a,a=Math.floor(o*s),a===0)break;n=pi(t,a).trim();const h=e(n+ce);i+=1,h?(l=n,s+=1/2**i):s-=1/2**i}while(Math.abs(a-r)!==1);return l?l+ce:""}function Xe(t){return ht("MuiChartsAxis",t)}const wt=nt("MuiChartsAxis",["root","line","tickContainer","tick","tickLabel","label","directionX","directionY","top","bottom","left","right"]),Ge=G("g",{name:"MuiChartsAxis",slot:"Root"})(({theme:t})=>({[`& .${wt.tickLabel}`]:_({},t.typography.caption,{fill:(t.vars||t).palette.text.primary}),[`& .${wt.label}`]:{fill:(t.vars||t).palette.text.primary},[`& .${wt.line}`]:{stroke:(t.vars||t).palette.text.primary,shapeRendering:"crispEdges",strokeWidth:1},[`& .${wt.tick}`]:{stroke:(t.vars||t).palette.text.primary,shapeRendering:"crispEdges"}})),le=5;function yi(t,e,n=0){const i=Math.min(Math.abs(n)%180,Math.abs(Math.abs(n)%180-180)%180);if(i<le)return t;if(i>90-le)return e;const s=pn(i),o=Math.atan2(e,t);return s<o?t/Math.cos(s):e/Math.sin(s)}function bi(t=!1){const[e,n]=P.useState(!1);return tn(()=>{t||n(!0)},[t]),P.useEffect(()=>{t&&n(!0)},[t]),e}function Ye(t){const e=Mt(t);return e<=30||e>=330||e<=210&&e>=150?"middle":e<=180?"end":"start"}function Ue(t){const e=Mt(t);return e<=30||e>=330?"hanging":e<=210&&e>=150?"auto":"central"}function We(t){switch(t){case"start":return"end";case"end":return"start";default:return t}}const Ai=["scale","tickNumber","reverse"],wi=t=>{const{classes:e,position:n}=t;return it({root:["root","directionX",n],line:["line"],tickContainer:["tickContainer"],tick:["tick"],tickLabel:["tickLabel"],label:["label"]},Xe,e)},he=3,Ci=4;function ki(t,{tickLabelStyle:e,tickLabelInterval:n,tickLabelMinGap:i,reverse:s,isMounted:o,isPointInside:a}){const r=d=>{if(!o||d.formattedValue===void 0)return{width:0,height:0};const u=De({style:e,needsComputation:!0,text:d.formattedValue});return{width:Math.max(...u.map(x=>x.width)),height:Math.max(u.length*u[0].height)}};if(typeof n=="function")return new Set(t.filter((d,u)=>n(d.value,u)));let l=0;const h=s?-1:1;return new Set(t.filter((d,u)=>{const{offset:x,labelOffset:g}=d,f=x+g;if(u>0&&h*f<h*(l+i)||!a(f))return!1;const{width:A,height:k}=r(d),b=yi(A,k,e==null?void 0:e.angle),y=f-h*b/2;return u>0&&h*y<h*(l+i)?!1:(l=f+h*b/2,!0)}))}function ji(t,e,n,i,s){const o=new Map,a=Mt((s==null?void 0:s.angle)??0);let r=1,l=1;(s==null?void 0:s.textAnchor)==="start"?(r=1/0,l=1):(s==null?void 0:s.textAnchor)==="end"?(r=1,l=1/0):(r=2,l=2),a>90&&a<270&&([r,l]=[l,r]),i&&([r,l]=[l,r]);for(const h of t)if(h.formattedValue){const d=Math.min((h.offset+h.labelOffset)*r,(e.left+e.width+e.right-h.offset-h.labelOffset)*l),u=x=>ze(x,{width:d,height:n,angle:a,measureText:g=>xt(g,s)});o.set(h,Fe(h.formattedValue.toString(),u))}return o}const Si=G(Ge,{name:"MuiChartsXAxis",slot:"Root"})({}),Ti={disableLine:!1,disableTicks:!1,tickSize:6,tickLabelMinGap:4};function Pi(t){const{xAxis:e,xAxisIds:n}=It(),i=e[t.axisId??n[0]],{scale:s,tickNumber:o,reverse:a}=i,r=L(i,Ai),l=bi(),h=Lt({props:_({},r,t),name:"MuiChartsXAxis"}),d=_({},Ti,h),{position:u,disableLine:x,disableTicks:g,tickLabelStyle:f,label:A,labelStyle:k,tickSize:b,valueFormatter:y,slots:m,slotProps:p,tickInterval:I,tickLabelInterval:T,tickPlacement:v,tickLabelPlacement:M,tickLabelMinGap:O,sx:$,offset:H,height:W}=d,R=Ut(),C=fe(),j=wi(d),N=U(),{left:E,top:Z,width:J,height:F}=N,{instance:B}=me(),q=Jt(),V=g?4:b,z=u==="bottom"?1:-1,st=(m==null?void 0:m.axisLine)??"line",ot=(m==null?void 0:m.axisTick)??"line",w=(m==null?void 0:m.axisTickLabel)??St,S=(m==null?void 0:m.axisLabel)??St,Q=Ye((u==="bottom"?0:180)-((f==null?void 0:f.angle)??0)),ft=Ue((u==="bottom"?0:180)-((f==null?void 0:f.angle)??0)),at=K({elementType:w,externalSlotProps:p==null?void 0:p.axisTickLabel,additionalProps:{style:_({},R.typography.caption,{fontSize:12,lineHeight:1.25,textAnchor:C?We(Q):Q,dominantBaseline:ft},f)},className:j.tickLabel,ownerState:{}}),gt=$t({scale:s,tickNumber:o,valueFormatter:y,tickInterval:I,tickPlacement:v,tickLabelPlacement:M}),rt=ki(gt,{tickLabelStyle:at.style,tickLabelInterval:T,tickLabelMinGap:O,reverse:a,isMounted:l,isPointInside:X=>B.isPointInside({x:X,y:-1},{direction:"x"})}),ut=K({elementType:S,externalSlotProps:p==null?void 0:p.axisLabel,additionalProps:{style:_({},R.typography.body1,{lineHeight:1,fontSize:14,textAnchor:"middle",dominantBaseline:u==="bottom"?"text-after-edge":"text-before-edge"},k)},ownerState:{}}),_t=s.domain(),mt=dt(s);if(mt&&_t.length===0||!mt&&_t.some(pe)||u==="none")return null;const Et=A?xt(A,ut.style).height:0,tt={x:E+J/2,y:z*W},pt=Math.max(0,W-(A?Et+Ci:0)-V-he),yt=q?ji(rt,N,pt,C,at.style):new Map(Array.from(rt).map(X=>[X,X.formattedValue]));return c.jsxs(Si,{transform:`translate(0, ${u==="bottom"?Z+F+H:Z-H})`,className:j.root,sx:$,children:[!x&&c.jsx(st,_({x1:E,x2:E+J,className:j.line},p==null?void 0:p.axisLine)),gt.map((X,Bt)=>{const{offset:bt,labelOffset:Dt}=X,Ot=Dt??0,Ht=z*(V+he),At=B.isPointInside({x:bt,y:-1},{direction:"x"}),qt=yt.get(X),Qe=rt.has(X);return c.jsxs("g",{transform:`translate(${bt}, 0)`,className:j.tickContainer,children:[!g&&At&&c.jsx(ot,_({y2:z*V,className:j.tick},p==null?void 0:p.axisTick)),qt!==void 0&&Qe&&c.jsx(w,_({x:Ot,y:Ht},at,{text:qt}))]},Bt)}),A&&c.jsx("g",{className:j.label,children:c.jsx(S,_({},tt,ut,{text:A}))})]})}const vi=["scale","tickNumber"],Mi=t=>{const{classes:e,position:n}=t;return it({root:["root","directionY",n],line:["line"],tickContainer:["tickContainer"],tick:["tick"],tickLabel:["tickLabel"],label:["label"]},Xe,e)},ue=2,Ii=2;function Li(t,e,n,i,s){const o=new Map,a=Mt((s==null?void 0:s.angle)??0);let r=1,l=1;(s==null?void 0:s.textAnchor)==="start"?(r=1/0,l=1):(s==null?void 0:s.textAnchor)==="end"?(r=1,l=1/0):(r=2,l=2),a>180&&([r,l]=[l,r]),i&&([r,l]=[l,r]);for(const h of t)if(h.formattedValue){const d=Math.min((h.offset+h.labelOffset)*r,(e.top+e.height+e.bottom-h.offset-h.labelOffset)*l),u=x=>ze(x,{width:n,height:d,angle:a,measureText:g=>xt(g,s)});o.set(h,Fe(h.formattedValue.toString(),u))}return o}const $i=G(Ge,{name:"MuiChartsYAxis",slot:"Root"})({}),Ni={disableLine:!1,disableTicks:!1,tickSize:6};function Ri(t){const{yAxisIds:e,yAxis:n}=Nt(),i=n[t.axisId??e[0]],{scale:s,tickNumber:o}=i,a=L(i,vi),r=Lt({props:_({},a,t),name:"MuiChartsYAxis"}),l=_({},Ni,r),{position:h,disableLine:d,disableTicks:u,label:x,labelStyle:g,tickLabelStyle:f,tickSize:A,valueFormatter:k,slots:b,slotProps:y,tickPlacement:m,tickLabelPlacement:p,tickInterval:I,tickLabelInterval:T,sx:v,offset:M,width:O}=l,$=Ut(),H=fe(),W=Jt(),R=Mi(l),{instance:C}=me(),j=U(),{left:N,top:E,width:Z,height:J}=j,F=u?4:A,B=$t({scale:s,tickNumber:o,valueFormatter:k,tickPlacement:m,tickLabelPlacement:p,tickInterval:I}),q=h==="right"?1:-1,V=typeof(f==null?void 0:f.fontSize)=="number"?f.fontSize:12,z=(b==null?void 0:b.axisLine)??"line",st=(b==null?void 0:b.axisTick)??"line",ot=(b==null?void 0:b.axisTickLabel)??St,w=(b==null?void 0:b.axisLabel)??St,S=Ye((h==="right"?-90:90)-((f==null?void 0:f.angle)??0)),Q=Ue((h==="right"?-90:90)-((f==null?void 0:f.angle)??0)),ft=K({elementType:ot,externalSlotProps:y==null?void 0:y.axisTickLabel,additionalProps:{style:_({},$.typography.caption,{fontSize:V,textAnchor:H?We(S):S,dominantBaseline:Q},f)},className:R.tickLabel,ownerState:{}}),at=K({elementType:w,externalSlotProps:y==null?void 0:y.axisLabel,additionalProps:{style:_({},$.typography.body1,{lineHeight:1,fontSize:14,angle:q*90,textAnchor:"middle",dominantBaseline:"text-before-edge"},g)},ownerState:{}}),gt=K({elementType:z,externalSlotProps:y==null?void 0:y.axisLine,additionalProps:{strokeLinecap:"square"},ownerState:{}}),rt=s.domain(),ut=dt(s);if(ut&&rt.length===0||!ut&&rt.some(pe)||h==="none")return null;const _t={x:q*O,y:E+J/2},mt=Math.max(0,O-(x?xt(x,at.style).height+Ii:0)-F-ue),Et=W?Li(B,j,mt,H,ft.style):new Map(Array.from(B).map(tt=>[tt,tt.formattedValue]));return c.jsxs($i,{transform:`translate(${h==="right"?N+Z+M:N-M}, 0)`,className:R.root,sx:v,children:[!d&&c.jsx(z,_({y1:E,y2:E+J,className:R.line},gt)),B.map((tt,pt)=>{const{offset:yt,labelOffset:X,value:Bt}=tt,bt=q*(F+ue),Dt=X,Ot=typeof T=="function"&&!(T!=null&&T(Bt,pt)),Ht=C.isPointInside({x:-1,y:yt},{direction:"y"}),At=Et.get(tt);return Ht?c.jsxs("g",{transform:`translate(0, ${yt})`,className:R.tickContainer,children:[!u&&c.jsx(st,_({x2:q*F,className:R.tick},y==null?void 0:y.axisTick)),At!==void 0&&!Ot&&c.jsx(ot,_({x:bt,y:Dt,text:At},ft))]},pt):null}),x&&W&&c.jsx("g",{className:R.label,children:c.jsx(w,_({},_t,at,{text:x}))})]})}function Ei(t){return ht("MuiChartsGrid",t)}const de=nt("MuiChartsGrid",["root","line","horizontalLine","verticalLine"]),Bi=G("g",{name:"MuiChartsGrid",slot:"Root",overridesResolver:(t,e)=>[{[`&.${de.verticalLine}`]:e.verticalLine},{[`&.${de.horizontalLine}`]:e.horizontalLine},e.root]})({}),Ve=G("line",{name:"MuiChartsGrid",slot:"Line"})(({theme:t})=>({stroke:(t.vars||t).palette.divider,shapeRendering:"crispEdges",strokeWidth:1}));function Di(t){const{axis:e,start:n,end:i,classes:s}=t,{scale:o,tickNumber:a,tickInterval:r}=e,l=$t({scale:o,tickNumber:a,tickInterval:r});return c.jsx(P.Fragment,{children:l.map(({value:h,offset:d})=>{var u;return c.jsx(Ve,{y1:n,y2:i,x1:d,x2:d,className:s.verticalLine},`vertical-${((u=h.getTime)==null?void 0:u.call(h))??h}`)})})}function Oi(t){const{axis:e,start:n,end:i,classes:s}=t,{scale:o,tickNumber:a,tickInterval:r}=e,l=$t({scale:o,tickNumber:a,tickInterval:r});return c.jsx(P.Fragment,{children:l.map(({value:h,offset:d})=>{var u;return c.jsx(Ve,{y1:d,y2:d,x1:n,x2:i,className:s.horizontalLine},`horizontal-${((u=h.getTime)==null?void 0:u.call(h))??h}`)})})}const Hi=["vertical","horizontal"],zi=({classes:t})=>it({root:["root"],verticalLine:["line","verticalLine"],horizontalLine:["line","horizontalLine"]},Ei,t);function Fi(t){const e=Lt({props:t,name:"MuiChartsGrid"}),n=U(),{vertical:i,horizontal:s}=e,o=L(e,Hi),{xAxis:a,xAxisIds:r}=It(),{yAxis:l,yAxisIds:h}=Nt(),d=zi(e),u=l[h[0]],x=a[r[0]];return c.jsxs(Bi,_({},o,{className:d.root,children:[i&&c.jsx(Di,{axis:x,start:n.top,end:n.height+n.top,classes:d}),s&&c.jsx(Oi,{axis:u,start:n.left,end:n.width+n.left,classes:d})]}))}function Xi(t){return ht("MuiChartsAxisHighlight",t)}nt("MuiChartsAxisHighlight",["root"]);const Tt=G("path",{name:"MuiChartsAxisHighlight",slot:"Root"})(({theme:t})=>({pointerEvents:"none",variants:[{props:{axisHighlight:"band"},style:_({fill:"white",fillOpacity:.1},t.applyStyles("light",{fill:"gray"}))},{props:{axisHighlight:"line"},style:_({strokeDasharray:"5 2",stroke:"#ffffff"},t.applyStyles("light",{stroke:"#000000"}))}]}));function Gi(t){const{type:e,classes:n}=t,{left:i,width:s}=U(),o=yn(),a=ye(),r=be(a,bn),l=Wt(o),h=e==="band"&&r!==null&&dt(o);return c.jsxs(P.Fragment,{children:[h&&o(r)!==void 0&&c.jsx(Tt,{d:`M ${i} ${o(r)-(o.step()-o.bandwidth())/2} l 0 ${o.step()} l ${s} 0 l 0 ${-o.step()} Z`,className:n.root,ownerState:{axisHighlight:"band"}}),e==="line"&&r!==null&&c.jsx(Tt,{d:`M ${i} ${l(r)} L ${i+s} ${l(r)}`,className:n.root,ownerState:{axisHighlight:"line"}})]})}function Yi(t){const{type:e,classes:n}=t,{top:i,height:s}=U(),o=An(),a=ye(),r=be(a,wn),l=Wt(o),h=e==="band"&&r!==null&&dt(o);return c.jsxs(P.Fragment,{children:[h&&o(r)!==void 0&&c.jsx(Tt,{d:`M ${o(r)-(o.step()-o.bandwidth())/2} ${i} l ${o.step()} 0 l 0 ${s} l ${-o.step()} 0 Z`,className:n.root,ownerState:{axisHighlight:"band"}}),e==="line"&&r!==null&&c.jsx(Tt,{d:`M ${l(r)} ${i} L ${l(r)} ${i+s}`,className:n.root,ownerState:{axisHighlight:"line"}})]})}const Ui=()=>it({root:["root"]},Xi);function Wi(t){const{x:e,y:n}=t,i=Ui();return c.jsxs(P.Fragment,{children:[e&&c.jsx(Yi,{type:e,classes:i}),n&&c.jsx(Gi,{type:n,classes:i})]})}function Vi(t){return ht("MuiBarElement",t)}const Ki=nt("MuiBarElement",["root","highlighted","faded","series"]),Zi=t=>{const{classes:e,id:n,isHighlighted:i,isFaded:s}=t,o={root:["root",`series-${n}`,i&&"highlighted",s&&"faded"]};return it(o,Vi,e)},Ji=["ownerState","skipAnimation","id","dataIndex","xOrigin","yOrigin"];function qi(t){const{ownerState:e}=t,n=L(t,Ji),i=ei(t);return c.jsx("rect",_({},n,{filter:e.isHighlighted?"brightness(120%)":void 0,opacity:e.isFaded?.3:1},i))}const Qi=["id","dataIndex","classes","color","slots","slotProps","style","onClick","skipAnimation","layout","x","xOrigin","y","yOrigin","width","height"];function ts(t){const{id:e,dataIndex:n,classes:i,color:s,slots:o,slotProps:a,style:r,onClick:l,skipAnimation:h,layout:d,x:u,xOrigin:x,y:g,yOrigin:f,width:A,height:k}=t,b=L(t,Qi),y=Ae({type:"bar",seriesId:e,dataIndex:n}),{isFaded:m,isHighlighted:p}=Vt({seriesId:e,dataIndex:n}),I={id:e,dataIndex:n,classes:i,color:s,isFaded:m,isHighlighted:p},T=Zi(I),v=(o==null?void 0:o.bar)??qi,M=K({elementType:v,externalSlotProps:a==null?void 0:a.bar,externalForwardedProps:b,additionalProps:_({},y,{id:e,dataIndex:n,color:s,x:u,xOrigin:x,y:g,yOrigin:f,width:A,height:k,style:r,onClick:l,cursor:l?"pointer":"unset",stroke:"none",fill:s,skipAnimation:h,layout:d}),className:T.root,ownerState:I});return c.jsx(v,_({},M))}const Ct=(t,{hasNegative:e,hasPositive:n,borderRadius:i,layout:s})=>{if(!i)return 0;const o=s==="vertical";return t==="top-left"&&(o&&n||!o&&e)||t==="top-right"&&(o&&n||!o&&n)||t==="bottom-right"&&(o&&e||!o&&n)||t==="bottom-left"&&(o&&e||!o&&e)?i:0},es=["maskId","x","y","width","height","skipAnimation"];function ns(t,e,n){const i=_({},n,{borderRadius:e}),s=Math.min(t,Ct("top-left",i)),o=Math.min(t,Ct("top-right",i)),a=Math.min(t,Ct("bottom-right",i)),r=Math.min(t,Ct("bottom-left",i));return`inset(0px round ${s}px ${o}px ${a}px ${r}px)`}function is(t,e){const n=D(t.x,e.x),i=D(t.y,e.y),s=D(t.width,e.width),o=D(t.height,e.height),a=D(t.borderRadius,e.borderRadius);return r=>({x:n(r),y:i(r),width:s(r),height:o(r),borderRadius:a(r)})}function ss(t){const e={x:t.x,y:t.y+(t.ownerState.layout==="vertical"?t.height:0),width:t.ownerState.layout==="vertical"?t.width:0,height:t.ownerState.layout==="vertical"?0:t.height,borderRadius:t.borderRadius};return vt({x:t.x,y:t.y,width:t.width,height:t.height,borderRadius:t.borderRadius},{createInterpolator:is,transformProps:n=>({x:n.x,y:n.y,width:n.width,height:n.height,style:{clipPath:ns(t.ownerState.layout==="vertical"?n.height:n.width,n.borderRadius,t.ownerState)}}),applyProps(n,i){n.setAttribute("x",i.x.toString()),n.setAttribute("y",i.y.toString()),n.setAttribute("width",i.width.toString()),n.setAttribute("height",i.height.toString()),n.style.clipPath=i.style.clipPath},initialProps:e,skip:t.skipAnimation,ref:t.ref})}function os(t){const e=ss(_({},t,{borderRadius:t.ownerState.borderRadius??0}));return c.jsx("rect",_({},e))}function as(t){const{maskId:e,x:n,y:i,width:s,height:o,skipAnimation:a}=t,r=L(t,es);return!t.borderRadius||t.borderRadius<=0?null:c.jsx("clipPath",{id:e,children:c.jsx(os,{ownerState:r,x:n,y:i,width:s,height:o,skipAnimation:a})})}function rs(t){return ht("MuiBarLabel",t)}const Gt=nt("MuiBarLabel",["root","highlighted","faded","animate"]),cs=t=>{const{classes:e,seriesId:n,isFaded:i,isHighlighted:s,skipAnimation:o}=t,a={root:["root",`series-${n}`,s&&"highlighted",i&&"faded",!o&&"animate"]};return it(a,rs,e)},ls=t=>{const{barLabel:e,value:n,dataIndex:i,seriesId:s,height:o,width:a}=t;return e==="value"?n?n==null?void 0:n.toString():null:e({seriesId:s,dataIndex:i,value:n},{bar:{height:o,width:a}})},hs=["seriesId","dataIndex","color","isFaded","isHighlighted","classes","skipAnimation","layout","xOrigin","yOrigin"],us=G("text",{name:"MuiBarLabel",slot:"Root",overridesResolver:(t,e)=>[{[`&.${Gt.faded}`]:e.faded},{[`&.${Gt.highlighted}`]:e.highlighted},e.root]})(({theme:t})=>{var e,n,i,s;return _({},(e=t==null?void 0:t.typography)==null?void 0:e.body2,{stroke:"none",fill:(s=(i=(n=t.vars||t)==null?void 0:n.palette)==null?void 0:i.text)==null?void 0:s.primary,transition:"opacity 0.2s ease-in, fill 0.2s ease-in",textAnchor:"middle",dominantBaseline:"central",pointerEvents:"none",opacity:1,[`&.${Gt.faded}`]:{opacity:.3}})});function ds(t){const e=Lt({props:t,name:"MuiBarLabel"}),n=L(e,hs),i=ii(e);return c.jsx(us,_({},n,i))}const xs=["seriesId","classes","color","dataIndex","barLabel","slots","slotProps","xOrigin","yOrigin","x","y","width","height","value","skipAnimation","layout"],fs=["ownerState"];function gs(t){const{seriesId:e,classes:n,color:i,dataIndex:s,barLabel:o,slots:a,slotProps:r,xOrigin:l,yOrigin:h,x:d,y:u,width:x,height:g,value:f,skipAnimation:A,layout:k}=t,b=L(t,xs),{isFaded:y,isHighlighted:m}=Vt({seriesId:e,dataIndex:s}),p={seriesId:e,classes:n,color:i,isFaded:y,isHighlighted:m,dataIndex:s,skipAnimation:A,layout:k},I=cs(p),T=(a==null?void 0:a.barLabel)??ds,v=K({elementType:T,externalSlotProps:r==null?void 0:r.barLabel,additionalProps:_({},b,{xOrigin:l,yOrigin:h,x:d,y:u,width:x,height:g,className:I.root}),ownerState:p}),{ownerState:M}=v,O=L(v,fs);if(!o)return null;const $=ls({barLabel:o,value:f,dataIndex:s,seriesId:e,height:g,width:x});return $?c.jsx(T,_({},O,M,{children:$})):null}const _s=["bars","skipAnimation"];function ms(t){const{bars:e,skipAnimation:n}=t,i=L(t,_s);return c.jsx(P.Fragment,{children:e.map(({xOrigin:s,yOrigin:o,x:a,y:r,seriesId:l,dataIndex:h,color:d,value:u,width:x,height:g,layout:f})=>c.jsx(gs,_({seriesId:l,dataIndex:h,value:u,color:d,xOrigin:s,yOrigin:o,x:a,y:r,width:x,height:g,skipAnimation:n??!1,layout:f??"vertical"},i),`${l}-${h}`))})}const Yt=(t,e)=>{const n=`${t}-axis`,i=`${t}Axis`;return e===(t==="x"?kn:jn)?`The first \`${i}\``:`The ${n} with id "${e}"`};function ps(t,e,n,i,s,o,a){const r=s[i],l=a[o],h=t?r:l,d=t?l:r,u=t?i:o,x=t?o:i,g=t?"x":"y",f=t?"y":"x";if(!te(h))throw new Error(`MUI X Charts: ${Yt(g,u)} should be of type "band" to display the bar series of id "${e}".`);if(h.data===void 0)throw new Error(`MUI X Charts: ${Yt(g,u)} should have data property.`);if(te(d)||Cn(d))throw new Error(`MUI X Charts: ${Yt(f,x)} should be a continuous type to display the bar series of id "${e}".`)}const ys=["skipAnimation","onItemClick","borderRadius","barLabel"];function bs({bandWidth:t,numberOfGroups:e,gapRatio:n}){if(n===0)return{barWidth:t/e,offset:0};const i=t/(e+(e-1)*n),s=n*i;return{barWidth:i,offset:s}}const As=()=>{const t=Qn()??{series:{},stackingGroups:[],seriesOrder:[]},e=U(),n=ke(),{series:i,stackingGroups:s}=t,{xAxis:o,xAxisIds:a}=It(),{yAxis:r,yAxisIds:l}=Nt(),h=a[0],d=l[0],u={};return{completedData:s.flatMap(({ids:g},f)=>{const A=e.left,k=e.left+e.width,b=e.top,y=e.top+e.height;return g.flatMap(m=>{const p=i[m].xAxisId??h,I=i[m].yAxisId??d,T=o[p],v=r[I],M=i[m].layout==="vertical";ps(M,m,i[m],p,o,I,r);const O=M?T:v,$=T.scale,H=v.scale,W=Sn(i[m],o[p],r[I]),R=O.scale.bandwidth(),{barWidth:C,offset:j}=bs({bandWidth:R,numberOfGroups:s.length,gapRatio:O.barGapRatio}),N=f*(C+j),{stackedData:E,data:Z,layout:J}=i[m];return O.data.map((F,B)=>{if(Z[B]==null)return null;const V=E[B].map(Q=>M?H(Q):$(Q)),z=Math.round(Math.min(...V)),st=Math.round(Math.max(...V)),ot=i[m].stack,w={seriesId:m,dataIndex:B,layout:J,x:M?$(F)+N:z,y:M?z:H(F)+N,xOrigin:$(0)??0,yOrigin:H(0)??0,height:M?st-z:C,width:M?C:st-z,color:W(B),value:Z[B],maskId:`${n}_${ot||m}_${f}_${B}`};if(w.x>k||w.x+w.width<A||w.y>y||w.y+w.height<b)return null;u[w.maskId]||(u[w.maskId]={id:w.maskId,width:0,height:0,hasNegative:!1,hasPositive:!1,layout:w.layout,xOrigin:$(0),yOrigin:H(0),x:0,y:0});const S=u[w.maskId];return S.width=w.layout==="vertical"?w.width:S.width+w.width,S.height=w.layout==="vertical"?S.height+w.height:w.height,S.x=Math.min(S.x===0?1/0:S.x,w.x),S.y=Math.min(S.y===0?1/0:S.y,w.y),S.hasNegative=S.hasNegative||(w.value??0)<0,S.hasPositive=S.hasPositive||(w.value??0)>0,w}).filter(F=>F!==null)})}),masksData:Object.values(u)}},ws=G("g",{name:"MuiBarPlot",slot:"Root"})({[`& .${Ki.root}`]:{transition:"opacity 0.2s ease-in, fill 0.2s ease-in"}});function Cs(t){const{completedData:e,masksData:n}=As(),{skipAnimation:i,onItemClick:s,borderRadius:o,barLabel:a}=t,r=L(t,ys),l=we(),h=Ce(l||i),d=!o||o<=0;return c.jsxs(ws,{children:[!d&&n.map(({id:u,x,y:g,width:f,height:A,hasPositive:k,hasNegative:b,layout:y})=>c.jsx(as,{maskId:u,borderRadius:o,hasNegative:b,hasPositive:k,layout:y,x,y:g,width:f,height:A,skipAnimation:h??!1},u)),e.map(({seriesId:u,dataIndex:x,color:g,maskId:f,layout:A,x:k,xOrigin:b,y,yOrigin:m,width:p,height:I})=>{const T=c.jsx(ts,_({id:u,dataIndex:x,color:g,skipAnimation:h??!1,layout:A??"vertical",x:k,xOrigin:b,y,yOrigin:m,width:p,height:I},r,{onClick:s&&(v=>{s(v,{type:"bar",seriesId:u,dataIndex:x})})}),`${u}-${x}`);return d?T:c.jsx("g",{clipPath:`url(#${f})`,children:T},`${u}-${x}`)}),a&&c.jsx(ms,_({bars:e,skipAnimation:h,barLabel:a},r))]})}const Ke=nt("MuiAppearingMask",["animate"]),ks=G("rect")({animationName:"animate-width",animationTimingFunction:Tn,animationDuration:"0s",[`&.${Ke.animate}`]:{animationDuration:`${Pn}ms`},"@keyframes animate-width":{from:{width:0}}});function js(t){const e=U(),n=ke(),i=vn(`${n}-${t.id}`);return c.jsxs(P.Fragment,{children:[c.jsx("clipPath",{id:i,children:c.jsx(ks,{className:en(!t.skipAnimation&&Ke.animate),x:0,y:0,width:e.left+e.width+e.right,height:e.top+e.height+e.bottom})}),c.jsx("g",{clipPath:`url(#${i})`,children:t.children})]})}function Ss(t){switch(t){case"catmullRom":return Un.alpha(.5);case"linear":return Me;case"monotoneX":return oe;case"monotoneY":return Wn;case"natural":return Vn;case"step":return Kn;case"stepBefore":return Zn;case"stepAfter":return Jn;case"bumpY":return Gn;case"bumpX":return Xn;default:return oe}}const Ts=["skipAnimation","ownerState"],Ps=P.forwardRef(function(e,n){const{skipAnimation:i,ownerState:s}=e,o=L(e,Ts),a=si(_({},e,{ref:n}));return c.jsx(js,{skipAnimation:i,id:`${s.id}-line-clip`,children:c.jsx("path",_({stroke:s.gradientId?`url(#${s.gradientId})`:s.color,strokeWidth:2,strokeLinejoin:"round",fill:"none",filter:s.isHighlighted?"brightness(120%)":void 0,opacity:s.isFaded?.3:1},o,a))})}),vs=["id","classes","color","gradientId","slots","slotProps","onClick"];function Ms(t){return ht("MuiLineElement",t)}const Is=nt("MuiLineElement",["root","highlighted","faded","series"]),Ls=t=>{const{classes:e,id:n,isFaded:i,isHighlighted:s}=t,o={root:["root",`series-${n}`,s&&"highlighted",i&&"faded"]};return it(o,Ms,e)};function $s(t){const{id:e,classes:n,color:i,gradientId:s,slots:o,slotProps:a,onClick:r}=t,l=L(t,vs),h=Ae({type:"line",seriesId:e}),{isFaded:d,isHighlighted:u}=Vt({seriesId:e}),x={id:e,classes:n,color:i,gradientId:s,isFaded:d,isHighlighted:u},g=Ls(x),f=(o==null?void 0:o.line)??Ps,A=K({elementType:f,externalSlotProps:a==null?void 0:a.line,additionalProps:_({},h,{onClick:r,cursor:r?"pointer":"unset"}),className:g.root,ownerState:x});return c.jsx(f,_({},l,A))}const Ns=["slots","slotProps","skipAnimation","onItemClick"],Rs=G("g",{name:"MuiAreaPlot",slot:"Root"})({[`& .${Is.root}`]:{transition:"opacity 0.2s ease-in, fill 0.2s ease-in"}}),Es=()=>{const t=Mn(),{xAxis:e,xAxisIds:n}=It(),{yAxis:i,yAxisIds:s}=Nt(),o=In();return P.useMemo(()=>{if(t===void 0)return[];const{series:r,stackingGroups:l}=t,h=n[0],d=s[0];return l.flatMap(({ids:u})=>u.flatMap(x=>{const{xAxisId:g=h,yAxisId:f=d,stackedData:A,data:k,connectNulls:b,curve:y,strictStepCurve:m}=r[x],p=e[g].scale,I=Wt(p),T=i[f].scale,v=e[g].data,M=i[f].colorScale&&o(f)||e[g].colorScale&&o(g)||void 0,O=(y==null?void 0:y.includes("step"))&&!m&&dt(p),$=(v==null?void 0:v.flatMap((C,j)=>{const N=k[j]==null;if(O){const E=[{x:C,y:A[j],nullData:N,isExtension:!1}];return!N&&(j===0||k[j-1]==null)&&E.unshift({x:(p(C)??0)-(p.step()-p.bandwidth())/2,y:A[j],nullData:N,isExtension:!0}),!N&&(j===k.length-1||k[j+1]==null)&&E.push({x:(p(C)??0)+(p.step()+p.bandwidth())/2,y:A[j],nullData:N,isExtension:!0}),E}return{x:C,y:A[j],nullData:N}}))??[],H=b?$.filter(C=>!C.nullData):$,R=Fn().x(C=>C.isExtension?C.x:I(C.x)).defined(C=>b||!C.nullData||!!C.isExtension).y(C=>T(C.y[1])).curve(Ss(y))(H)||"";return _({},r[x],{gradientId:M,d:R,seriesId:x})}))},[t,n,s,e,i,o])};function Bs(t){const{slots:e,slotProps:n,skipAnimation:i,onItemClick:s}=t,o=L(t,Ns),a=we(),r=Ce(a||i),l=Es();return c.jsx(Rs,_({},o,{children:l.map(({d:h,seriesId:d,color:u,gradientId:x})=>c.jsx($s,{id:d,d:h,color:u,gradientId:x,skipAnimation:r,slots:e,slotProps:n,onClick:s&&(g=>s(g,{type:"line",seriesId:d}))},d))}))}const Ds=t=>{var e;return`${t.metric??t.metric_type}:${JSON.stringify((e=t==null?void 0:t.tags)==null?void 0:e.toSorted())}:${JSON.stringify(t.metric_labels)}`},Os=t=>t.map(Ds).join("|"),Hs=t=>{if(t==="full")return{xs:12,sm:12,md:12,lg:12};if(t==="half")return{xs:12,sm:12,md:6,lg:6};Pt(t)},Ze=t=>{var u,x,g;const e={series:[],sources:[]},n=t.title??"",i=t.subtitle??"",s=350,o=(u=t.plot_params)==null?void 0:u.plot_type,a=o==="line"||o==="bar"||o==="text"||o==="counter"||o==="pie"?o:"line",r=(x=t.plot_params)==null?void 0:x.aggregation,l=r==="last"||r==="sum"||r==="avg"?r:"last",h=t.size==="full"||t.size==="half"?t.size:"full",d=t.values.map(f=>f.legend);if(a==="text")return{type:a,size:h,title:n,description:i};if(a==="counter")return{type:a,size:h,title:n,description:i,aggregation:l,data:e,labels:d};if(a==="pie")return{type:a,size:h,title:n,description:i,aggregation:l,data:e,labels:d,height:s};if(a==="bar"||a==="line"){const f=!!((g=t.plot_params)!=null&&g.is_stacked);return{type:a,size:h,title:n,description:i,isStacked:f,data:e,labels:d,height:s}}Pt(a)},zs=({panels:t,PanelComponent:e})=>t.length===0?c.jsx(Y,{my:3,align:"center",variant:"h4",children:"This dashboard is currently empty. Please add a monitoring panel to start."}):c.jsx(kt,{container:!0,spacing:3,direction:"row",alignItems:"stretch",children:t.map(n=>{const i=Ze(n);return c.jsx(kt,{size:Hs(i.size),children:c.jsx(e,{panel:n})},n.id)})}),Je=nn.createContext(null),Fs=()=>P.useContext(Je),Xs=({data:t,labels:e,title:n,description:i,aggregation:s})=>c.jsx(Kt,{title:n,description:i,textCenterAlign:!0,children:c.jsx(lt,{children:c.jsx(kt,{container:!0,spacing:2,justifyContent:"space-evenly",children:t.series.map(({metric_type:o,params:a,values:r,filter_index:l},h)=>{const{label:d,defaultLabel:u}=je({metric_type:o,params:a,labels:e,filter_index:l}),x=Ln(r,s);return c.jsx(kt,{children:c.jsxs(lt,{children:[c.jsx(Y,{variant:"h2",align:"center",children:x}),c.jsx(Y,{component:"pre",align:"center",children:d})]})},`${h}:${u}`)})})})}),Gs=({data:t,type:e,title:n,description:i,height:s=350,labels:o,isStacked:a})=>{const r=t.series.map(({values:f,params:A,metric_type:k,filter_index:b})=>{const{label:y}=je({metric_type:k,params:A,labels:o,filter_index:b}),m={label:y,stack:a?"total":void 0,labelMarkType:"square"};if(e==="line")return{type:e,data:f,...m};if(e==="bar")return{type:e,data:f,...m};Pt(e)}),l=[{data:t.sources.map(f=>sn(f.timestamp).format("YYYY-MM-DD HH:mm:ss")),scaleType:"band",height:50}],h=Fs(),d=h==null?void 0:h.OnClickedPointComponent,[u,x]=P.useState(null),g=u&&t.sources[u.index].snapshot_id;return c.jsx(Kt,{title:n,description:i,height:s,children:c.jsxs(qe.Provider,{value:{data:t},children:[c.jsx($n,{series:r,xAxis:l,SurfaceComponents:c.jsxs(c.Fragment,{children:[c.jsx(Ws,{}),d&&c.jsxs(c.Fragment,{children:[c.jsx(Vs,{onSelect:f=>x({index:f})}),u&&c.jsx(Ks,{...u})]})]})}),d&&g&&c.jsx(lt,{position:"relative",children:c.jsx(ge,{position:"absolute",top:-20,right:-15,children:c.jsx(d,{snapshotId:g})})})]})})},qe=P.createContext({data:{series:[],sources:[]}}),Ys=()=>P.useContext(qe),Us=()=>{var s,o,a;const t=Rn(),{data:e}=Ys();if(!t)return null;const n=(s=t.at(0))==null?void 0:s.dataIndex,i=typeof n=="number"&&((a=(o=e.sources)==null?void 0:o[n])==null?void 0:a.tags)||[];return c.jsxs(c.Fragment,{children:[c.jsx(En,{}),c.jsx(Te,{sx:{backgroundColor:"background.paper",borderTop:"unset",p:1,width:0,minWidth:"100%"},children:c.jsxs(ge,{direction:"row",flexWrap:"wrap",gap:1,children:[c.jsx(Y,{children:"Report tags:"}),i.length===0&&c.jsx(Y,{children:"None"}),i.map(r=>c.jsx(an,{size:"small",label:r},r))]})})]})},Ws=()=>c.jsxs(c.Fragment,{children:[c.jsx(Cs,{}),c.jsx(Bs,{}),c.jsx(Fi,{horizontal:!0}),c.jsx(Pi,{label:"Timestamps",position:"bottom",labelStyle:{fontSize:18}}),c.jsx(Ri,{position:"left"}),c.jsx(Wi,{x:"band"}),c.jsx(Nn,{trigger:"axis",children:c.jsx(Us,{})})]}),Vs=({onSelect:t})=>{const{left:e,top:n,width:i,height:s}=U(),o=Se(),a=i/o.tickNumber;return c.jsx(c.Fragment,{children:c.jsx("rect",{x:e,y:n,width:i,height:s,opacity:0,style:{cursor:"pointer"},onClick:r=>{const l=r.target.getBoundingClientRect(),h=Math.floor((r.clientX-l.x)/a),d=on({value:h,min:0,max:o.tickNumber-1});t(d)}})})},Ks=({index:t})=>{const{left:e,top:n,width:i,height:s}=U(),o=Se(),a=Ut(),r=i/o.tickNumber;return c.jsx("rect",{x:e+r*t,y:n,width:r,height:s,fill:a.vars.palette.text.primary,shapeRendering:"crispEdges",pointerEvents:"none",opacity:.1})},Zs=({title:t,description:e})=>c.jsx(c.Fragment,{children:c.jsx(Kt,{title:t,description:e,sxCardContent:{p:"16px !important"},textCenterAlign:!0})}),xe=t=>{if(t.type==="bar"||t.type==="line")return c.jsx(Gs,{...t});if(t.type==="pie")return c.jsx(Bn,{...t});if(t.type==="counter")return c.jsx(Xs,{...t});if(t.type==="text")return c.jsx(Zs,{...t});Pt(t.type)},Js=({height:t=350,title:e,subtitle:n,isShowTitle:i,skipBody:s})=>c.jsx(Te,{elevation:0,children:c.jsxs(Dn,{sx:{px:0},children:[c.jsxs(lt,{px:3,children:[e&&i&&c.jsx(Y,{variant:"h5",fontWeight:500,gutterBottom:!0,children:e}),e&&!i&&c.jsx(Y,{variant:"h5",width:Math.max(e.length*11,450),children:c.jsx(zt,{variant:"text",animation:"wave",sx:{mb:1}})}),n&&i&&c.jsx(Y,{fontWeight:400,gutterBottom:!0,children:n}),n&&!i&&c.jsx(Y,{children:c.jsx(zt,{variant:"text",animation:"wave",sx:{mb:1}})})]}),(e||n)&&!s&&c.jsx(On,{sx:{mb:2,mt:1}}),!s&&c.jsx(lt,{px:3,children:c.jsx(zt,{variant:"rectangular",height:t,animation:"wave"})})]})}),qs=({panel:t,loadDataForPanel:e,data:n})=>{const i=Ze(t),s=i.type!=="text",o=Os(t.values),a="height"in i?i.height:200;return P.useEffect(()=>{s&&e()},[o,s]),s?n?c.jsx(xe,{...i,data:n}):c.jsx(Js,{title:i.title,subtitle:i.description,height:a}):c.jsx(xe,{...i})},Qs=({panel:t})=>{const{project:e}=_e();Pe(e);const{id:n}=e,i=rn("/projects/:projectId/load-panel-points"),s=()=>i.load({query:{body:JSON.stringify({series_filter:t.values.map(a=>({metric:a.metric,tags:a.tags??[],metadata:a.metadata??{},metric_labels:a.metric_labels??{}}))})},paramsToReplace:{projectId:n}}),o=i.data;return c.jsx(qs,{panel:t,loadDataForPanel:s,data:o})},to=Qs,eo=({snapshotId:t})=>{const{project:e}=_e();Pe(e);const n=cn();return c.jsx(ln,{type:"button",to:"/projects/:projectId/reports/:snapshotId",title:"View report",variant:"outlined",paramsToReplace:{projectId:e.id,snapshotId:t},disabled:n})},no=eo,ro="/projects/:projectId/?index",io={title:"Dashboard"},co={crumb:io},so="/api/v2/dashboards/{project_id}",lo=({params:t,query:e})=>{const{projectId:n}=t;return hn.GET(so,{params:{path:{project_id:n},query:e},parseAs:"text"}).then(un()).then(dn)},ho=()=>{const{loaderData:t}=xn();return c.jsx(lt,{py:2,children:c.jsx(Je.Provider,{value:{OnClickedPointComponent:no},children:c.jsx(zs,{PanelComponent:to,panels:t.panels})})})};export{ho as Component,ro as currentRoutePath,co as handle,lo as loadData};
