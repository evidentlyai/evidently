import{an as p,o as T,u as g,ao as f,k as w,j as s,G as a,O as y,B as l,aq as b,x as I,ar as D,as as L,at as x,au as t,av as v,L as B,f as k,m as A}from"./vendor-fd719af2.js";import{i as C}from"./tiny-invariant-dd7d57d2.js";import{a as S}from"./createSvgIcon-26a24a4a.js";import{u as $,T as F,H as G,D as H}from"./useUpdateQueryStringValueWithoutNavigation-0756995c.js";import{f as M}from"./Datetime-bd8955b4.js";import"./ContentCopy-164dcc5c.js";const V=async({params:i})=>(C(i.projectId,"missing projectId"),S.getTestSuites(i.projectId)),q={crumb:(i,{pathname:o})=>({to:o,linkText:"Test Suites"})},N=()=>{const{projectId:i}=p(),o=T(),u=g(),[j]=f(),[r,c]=w.useState(()=>{var e;return((e=j.get("tags"))==null?void 0:e.split(","))||[]});$("tags",r.join(","));const d=u.find(({id:e})=>e==="show-test-suite-by-id"),h=d?[]:Array.from(new Set(o.flatMap(({tags:e})=>e))),m=o.filter(({tags:e})=>d?!1:r.length===0?!0:r.every(n=>e.includes(n)));return d?s.jsx(a,{container:!0,children:s.jsx(a,{item:!0,xs:12,children:s.jsx(y,{})})}):s.jsxs(s.Fragment,{children:[s.jsx(l,{sx:{padding:2},children:s.jsxs(a,{container:!0,children:[s.jsx(a,{item:!0,xs:12,md:6,children:s.jsx(b,{multiple:!0,limitTags:2,value:r,onChange:(e,n)=>c(n),id:"tags",options:h,renderInput:e=>s.jsx(I,{...e,variant:"standard",label:"Filter by Tags"})})}),s.jsx(a,{item:!0,xs:6,sm:6})]})}),s.jsx(a,{container:!0,children:s.jsx(a,{item:!0,xs:12,children:s.jsxs(D,{children:[s.jsx(L,{children:s.jsxs(x,{children:[s.jsx(t,{children:"Test Suite ID"}),s.jsx(t,{children:"Tags"}),s.jsx(t,{children:"Timestamp"}),s.jsx(t,{children:"Actions"})]})}),s.jsx(v,{children:m.map(e=>s.jsxs(x,{children:[s.jsx(t,{children:s.jsx(F,{showText:e.id,copyText:e.id})}),s.jsx(t,{children:s.jsx(l,{maxWidth:250,children:s.jsx(G,{onClick:n=>{r.includes(n)||c([...r,n])},tags:e.tags})})}),s.jsx(t,{children:M(new Date(Date.parse(e.timestamp)))}),s.jsxs(t,{children:[s.jsx(B,{component:k,to:`${e.id}`,children:s.jsx(A,{children:"View"})}),s.jsx(H,{downloadLink:`/api/projects/${i}/${e.id}/download`})]})]},`ts-${e.id}`))})]})})})]})};export{N as Component,q as handle,V as loader};
