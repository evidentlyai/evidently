var E=Object.defineProperty;var R=(s,t,e)=>t in s?E(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var w=(s,t,e)=>(R(s,typeof t!="symbol"?t+"":t,e),e);import{c as b,j as n,i as g,u as O,d as k,G as v,F as C,I as L,S as A,M as d,B as I,D as T,T as P,C as F,A as M,a as N,r as B,b as V,e as U,R as z,f as H,g as W}from"./vendor-22c0ce7a.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function e(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=e(r);fetch(r.href,i)}})();const G=b({shape:{borderRadius:0},palette:{primary:{light:"#ed5455",main:"#ed0400",dark:"#d40400",contrastText:"#fff"},secondary:{light:"#61a0ff",main:"#3c7fdd",dark:"#61a0ff",contrastText:"#000"}},typography:{button:{fontWeight:"bold"},fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")}}),J="modulepreload",q=function(s){return"/"+s},D={},j=function(t,e,o){if(!e||e.length===0)return t();const r=document.getElementsByTagName("link");return Promise.all(e.map(i=>{if(i=q(i),i in D)return;D[i]=!0;const a=i.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!o)for(let x=r.length-1;x>=0;x--){const y=r[x];if(y.href===i&&(!a||y.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${l}`))return;const c=document.createElement("link");if(c.rel=a?"stylesheet":J,a||(c.as="script",c.crossOrigin=""),c.href=i,document.head.appendChild(c),a)return new Promise((x,y)=>{c.addEventListener("load",x),c.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i})},Q=({api:s})=>({loader:()=>s.getVersion()});class f{constructor(){w(this,"at",0);w(this,"ch","");w(this,"text","");w(this,"escapee",{'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"})}error(t){throw{name:"SyntaxError",message:t,at:this.at,text:this.text}}next(){return this.ch=this.text.charAt(this.at++)}check(t){t!==this.ch&&this.error(`Expected '${t}' instead of '${this.ch}'`),this.ch=this.text.charAt(this.at++)}number(){var t="";if(this.ch==="-"&&(t="-",this.check("-")),this.ch==="I")return this.check("I"),this.check("n"),this.check("f"),this.check("i"),this.check("n"),this.check("i"),this.check("t"),this.check("y"),-1/0;for(;this.ch>="0"&&this.ch<="9";)t+=this.ch,this.next();if(this.ch===".")for(t+=".";this.next()&&this.ch>="0"&&this.ch<="9";)t+=this.ch;if(this.ch==="e"||this.ch==="E")for(t+=this.ch,this.next(),(this.ch==="-"||this.ch==="+")&&(t+=this.ch,this.next());this.ch>="0"&&this.ch<="9";)t+=this.ch,this.next();return+t}string(){var t,e,o="",r;if(this.ch==='"')for(;this.next();){if(this.ch==='"')return this.next(),o;if(this.ch==="\\")if(this.next(),this.ch==="u"){for(r=0,e=0;e<4&&(t=parseInt(this.next(),16),!!isFinite(t));e++)r=r*16+t;o+=String.fromCharCode(r)}else if(this.escapee[this.ch])o+=this.escapee[this.ch];else break;else o+=this.ch}this.error("Bad string")}white(){for(;this.ch&&this.ch<=" ";)this.next()}word(){switch(this.ch){case"t":return this.check("t"),this.check("r"),this.check("u"),this.check("e"),!0;case"f":return this.check("f"),this.check("a"),this.check("l"),this.check("s"),this.check("e"),!1;case"n":return this.check("n"),this.check("u"),this.check("l"),this.check("l"),null;case"N":return this.check("N"),this.check("a"),this.check("N"),NaN;case"I":return this.check("I"),this.check("n"),this.check("f"),this.check("i"),this.check("n"),this.check("i"),this.check("t"),this.check("y"),1/0}this.error("Unexpected '"+this.ch+"'")}array(){var t=[];if(this.ch==="["){if(this.check("["),this.white(),this.ch==="]")return this.check("]"),t;for(;this.ch;){if(t.push(this.value()),this.white(),this.ch==="]")return this.check("]"),t;this.check(","),this.white()}}this.error("Bad array")}object(){var t,e={};if(this.ch==="{"){if(this.check("{"),this.white(),this.ch==="}")return this.check("}"),e;for(;this.ch;){if(t=this.string(),this.white(),this.check(":"),Object.hasOwnProperty.call(e,t)&&this.error('Duplicate key "'+t+'"'),e[t]=this.value(),this.white(),this.ch==="}")return this.check("}"),e;this.check(","),this.white()}}this.error("Bad object")}value(){switch(this.white(),this.ch){case"{":return this.object();case"[":return this.array();case'"':return this.string();case"-":return this.number();default:return this.ch>="0"&&this.ch<="9"?this.number():this.word()}}parse(t,e){let o;return this.text=t,this.at=0,this.ch=" ",o=this.value(),this.white(),this.ch&&this.error("Syntax error"),e!==void 0?function r(i,a){var l,p,c=i[a];if(c&&typeof c=="object")for(l in c)Object.prototype.hasOwnProperty.call(c,l)&&(p=r(c,l),p!==void 0?c[l]=p:delete c[l]);return e.call(i,a,c)}({"":o},""):o}}class Y{constructor(t){w(this,"endpoint");this.endpoint=t}async getAdditionalGraphData(t,e,o){const r=await fetch(`${this.endpoint}/projects/${t}/${e}/graphs_data/${o}`);if(r.ok)return new f().parse(await r.text());throw Error(`${r.status}, ${r.statusText}`)}async getAdditionalWidgetData(t,e,o){const r=await fetch(`${this.endpoint}/projects/${t}/${e}/graphs_data/${o}`);if(r.ok)return new f().parse(await r.text());throw Error(`${r.status}, ${r.statusText}`)}async getDashboard(t,e){const o=await fetch(`${this.endpoint}/projects/${t}/${e}/data`);if(o.ok)return new f().parse(await o.text());throw Error(`${o.status}, ${o.statusText}`)}async getProjects(){const t=await fetch(`${this.endpoint}/projects`);if(t.ok){let e=new f().parse(await t.text());return console.log(e),e}throw Error(`${t.status}, ${t.statusText}`)}async getProjectDashboard(t,e,o,r){const i=new URLSearchParams;e&&i.append("timestamp_start",e),o&&i.append("timestamp_end",o);const a=await fetch(`${this.endpoint}/projects/${t}/dashboard?${i.toString()}`,{signal:r});if(a.ok)return new f().parse(await a.text());throw Error(`${a.status}, ${a.statusText}`)}async getReports(t){const e=await fetch(`${this.endpoint}/projects/${t}/reports`);if(e.ok)return new f().parse(await e.text());throw Error(`${e.status}, ${e.statusText}`)}async getTestSuites(t){const e=await fetch(`${this.endpoint}/projects/${t}/test_suites`);if(e.ok)return new f().parse(await e.text());throw Error(`${e.status}, ${e.statusText}`)}async getProjectInfo(t){const e=await fetch(`${this.endpoint}/projects/${t}/info`);if(e.ok)return new f().parse(await e.text());throw Error(`${e.status}, ${e.statusText}`)}async getVersion(){const t=await fetch(`${this.endpoint}/version`);if(t.ok)return await t.json();throw Error(`${t.status}, ${t.statusText}`)}async editProjectInfo(t){const e=await fetch(`${this.endpoint}/projects/${t.id}/info`,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw Error(`${e.status}, ${e.statusText}`);return e}}const m=new Y("/api"),K="/static/img/logo.png",{loader:X}=Q({api:m}),Z={path:"/",lazy:async()=>{const{HomeComponentTemplate:s,...t}=await j(()=>import("./index-4c9a2564.js"),["static/js/index-4c9a2564.js","static/js/vendor-22c0ce7a.js","static/js/createSvgIcon-6a7b5fca.js"]);return{Component:()=>n.jsx(s,{logoSrc:K}),...t}},loader:X},tt=({api:s})=>({loader:({params:t})=>{const{projectId:e}=t;return g(e,"missing projectId"),s.getProjectInfo(e)}}),et=s=>{if(s.headers.get("Content-type")!=="application/json")throw new Response("Unsupported Media Type",{status:415})};function $(s){return typeof s!=typeof new Date?(console.log(`not a date ${typeof s}: ${s}`),s):`${s.getFullYear()}-${(s.getMonth()+1).toString().padStart(2,"0")}-${s.getDate().toString().padStart(2,"0")}T${s.getHours().toString().padStart(2,"0")}:${s.getMinutes().toString().padStart(2,"0")}`}const h={FROM:"date_from",TO:"date_to"},st=s=>{let t=s.get(h.FROM),e=s.get(h.TO);return{date_from:t,date_to:e}},rt=({dataRanges:s})=>{const[t,e]=O(),{date_from:o,date_to:r}=st(t),i=k(o||s.minDate),a=k(r||s.maxDate);return{isCorrectTimeInterval:i.isValid()&&a.isValid()&&i.isBefore(a),date_from:i,date_to:a,setSearchParams:e}},St=({dataRanges:s})=>{const{isCorrectTimeInterval:t,date_from:e,date_to:o,setSearchParams:r}=rt({dataRanges:s}),i=t?"":"incorrect time interval",a=l=>p=>{r(c=>(c.delete(l),p&&c.append(l,$(p.toDate())),c),{preventScrollReset:!0,replace:!0})};return n.jsxs(v,{container:!0,padding:1,zIndex:1,my:3,gap:2,justifyContent:"flex-end",justifyItems:"center",children:[n.jsx(v,{item:!0,xs:12,md:2,children:n.jsxs(C,{fullWidth:!0,children:[n.jsx(L,{children:"Period"}),n.jsxs(A,{variant:"standard",defaultValue:"",onChange:l=>{const[p,c]=l.target.value.split(",");if(p===""){r(u=>(u.delete(h.FROM),u.delete(h.TO),u.append(h.FROM,$(s.minDate.toDate())),u.append(h.TO,$(s.maxDate.toDate())),u),{preventScrollReset:!0,replace:!0});return}const[x,y]=[Number(p),c],_=s.maxDate.subtract(x,y);r(u=>(u.delete(h.FROM),u.delete(h.TO),u.append(h.FROM,$(_.isBefore(s.minDate)?s.minDate.toDate():_.toDate())),u.append(h.TO,$(s.maxDate.toDate())),u),{preventScrollReset:!0,replace:!0})},children:[n.jsx(d,{value:"",children:n.jsx("em",{children:"None"})}),n.jsx(d,{value:"10,minutes",children:"Last 10 Minutes"}),n.jsx(d,{value:"30,minutes",children:"Last 30 Minutes"}),n.jsx(d,{value:"1,hours",children:"Last 1 Hours"}),n.jsx(d,{value:"2,hours",children:"Last 2 Hours"}),n.jsx(d,{value:"8,hours",children:"Last 8 Hours"}),n.jsx(d,{value:"24,hours",children:"Last 24 Hours"}),n.jsx(d,{value:"7,days",children:"Last 7 Days"}),n.jsx(d,{value:"14,days",children:"Last 14 Days"}),n.jsx(d,{value:"28,days",children:"Last 28 Days"}),n.jsx(d,{value:"60,days",children:"Last 60 Days"})]})]})}),n.jsx(v,{item:!0,children:n.jsxs(I,{display:"flex",alignItems:"center",gap:2,children:[n.jsx(T,{minDate:s.minDate,maxDate:s.maxDate&&o,slotProps:{textField:{variant:"standard"}},label:"From",value:e,onChange:a(h.FROM)}),n.jsx(I,{height:1,display:"flex",alignItems:"center",children:n.jsx(P,{children:" - "})}),n.jsx(T,{minDate:s.minDate&&e,maxDate:s.maxDate,slotProps:{textField:{variant:"standard"}},label:"To",value:o,onChange:a(h.TO)})]})}),n.jsx(v,{item:!0,xs:12,children:n.jsx(F,{unmountOnExit:!0,in:!t,children:n.jsxs(M,{severity:"error",children:[n.jsx(N,{children:"Error"}),i]})})})]})},it=({api:s})=>({loader:({params:t,request:e})=>{g(t.projectId,"missing projectId");const{searchParams:o}=new URL(e.url);let r=o.get(h.FROM),i=o.get(h.TO);return r&&!k(r).isValid()&&(r=null),i&&!k(i).isValid()&&(i=null),s.getProjectDashboard(t.projectId,r,i)}}),{loader:ot}=it({api:m}),nt={index:!0,id:"dashboard",lazy:()=>j(()=>import("./index-0ae506a0.js"),["static/js/index-0ae506a0.js","static/js/vendor-22c0ce7a.js","static/js/DashboardContent-f5b5bd51.js","static/js/createSvgIcon-6a7b5fca.js","static/js/Edit-5db35e51.js"]),loader:ot},at=({api:s})=>({loader:({params:t})=>(g(t.projectId,"missing projectId"),s.getReports(t.projectId))}),ct=({api:s})=>({loader:({params:t})=>(g(t.projectId,"missing projectId"),s.getTestSuites(t.projectId))}),ht=({api:s})=>({loader:({params:t})=>{const{projectId:e,snapshotId:o}=t;return g(e,"missing projectId"),g(o,"missing testSuiteId"),s.getDashboard(e,o)}}),{loader:lt}=ht({api:m}),S={path:":snapshotId",lazy:async()=>{const{SnapshotTemplate:s,...t}=await j(()=>import("./index-4ee1ff64.js"),["static/js/index-4ee1ff64.js","static/js/vendor-22c0ce7a.js","static/js/DashboardContent-f5b5bd51.js","static/js/createSvgIcon-6a7b5fca.js","static/js/Edit-5db35e51.js"]);return{Component:()=>n.jsx(s,{api:m}),...t}},loader:lt},ut={...S,id:"show-report-by-id"},{loader:dt}=at({api:m}),pt={id:"reports",path:"reports",lazy:async()=>{const{SnapshotTemplate:s,...t}=await j(()=>import("./index-73016473.js"),["static/js/index-73016473.js","static/js/vendor-22c0ce7a.js","static/js/ContentCopy-a50dbcdd.js","static/js/createSvgIcon-6a7b5fca.js"]);return{...t,Component:()=>n.jsx(s,{type:"report"})}},loader:dt,children:[ut]},ft={...S,id:"show-test-suite-by-id"},{loader:mt}=ct({api:m}),xt={id:"test_suites",path:"test-suites",lazy:async()=>{const{SnapshotTemplate:s,...t}=await j(()=>import("./index-73016473.js"),["static/js/index-73016473.js","static/js/vendor-22c0ce7a.js","static/js/ContentCopy-a50dbcdd.js","static/js/createSvgIcon-6a7b5fca.js"]);return{...t,Component:()=>n.jsx(s,{type:"test-suite"})}},loader:mt,children:[ft]},jt={path:"test_suites/*",loader:({request:s})=>B(s.url.replace("/test_suites","/test-suites"))},{loader:yt}=tt({api:m}),wt={path:"projects/:projectId",lazy:()=>j(()=>import("./index-67c85afe.js"),["static/js/index-67c85afe.js","static/js/vendor-22c0ce7a.js","static/js/ContentCopy-a50dbcdd.js","static/js/createSvgIcon-6a7b5fca.js"]),loader:yt,children:[nt,pt,xt,jt]},gt=({api:s})=>({loader:()=>s.getProjects(),action:async({request:t})=>{et(t);const e=await t.json();return s.editProjectInfo(e)}}),{loader:$t,action:vt}=gt({api:m}),kt={index:!0,lazy:()=>j(()=>import("./index-8792dbd8.js"),["static/js/index-8792dbd8.js","static/js/vendor-22c0ce7a.js","static/js/Edit-5db35e51.js","static/js/createSvgIcon-6a7b5fca.js"]),loader:$t,action:vt},It={path:"*",Component:()=>n.jsx(I,{display:"flex",justifyContent:"center",children:n.jsx(P,{variant:"h4",children:"Page Not Found"})})},_t={...Z,children:[kt,wt,It]},Tt=V([_t]);U.createRoot(document.getElementById("root")).render(n.jsx(z.StrictMode,{children:n.jsx(H,{theme:G,children:n.jsx(W,{router:Tt})})}));export{St as D,rt as u};
