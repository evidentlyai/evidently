var E=Object.defineProperty;var O=(e,t,r)=>t in e?E(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var v=(e,t,r)=>(O(e,typeof t!="symbol"?t+"":t,r),r);import{c as L,j as n,i as g,u as C,d as w,G as _,F as b,I as A,S as F,M as u,B as I,D,T as S,C as M,A as k,a as V,r as N,b as B,e as U,R as z,f as H,g as J}from"./vendor-22c0ce7a.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();const W=L({shape:{borderRadius:0},palette:{primary:{light:"#ed5455",main:"#ed0400",dark:"#d40400",contrastText:"#fff"},secondary:{light:"#61a0ff",main:"#3c7fdd",dark:"#61a0ff",contrastText:"#000"}},typography:{button:{fontWeight:"bold"},fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")}}),G="modulepreload",q=function(e){return"/"+e},P={},j=function(t,r,a){if(!r||r.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(r.map(o=>{if(o=q(o),o in P)return;P[o]=!0;const i=o.endsWith(".css"),m=i?'[rel="stylesheet"]':"";if(!!a)for(let f=s.length-1;f>=0;f--){const y=s[f];if(y.href===o&&(!i||y.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${m}`))return;const l=document.createElement("link");if(l.rel=i?"stylesheet":G,i||(l.as="script",l.crossOrigin=""),l.href=o,document.head.appendChild(l),i)return new Promise((f,y)=>{l.addEventListener("load",f),l.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t()).catch(o=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=o,window.dispatchEvent(i),!i.defaultPrevented)throw o})},Q=({api:e})=>({loader:()=>e.getVersion()});class p{parse(t){return JSON.parse(t)}}class Y{constructor(t){v(this,"endpoint");this.endpoint=t}async getAdditionalGraphData(t,r,a){const s=await fetch(`${this.endpoint}/projects/${t}/${r}/graphs_data/${a}`);if(s.ok)return new p().parse(await s.text());throw Error(`${s.status}, ${s.statusText}`)}async getAdditionalWidgetData(t,r,a){const s=await fetch(`${this.endpoint}/projects/${t}/${r}/graphs_data/${a}`);if(s.ok)return new p().parse(await s.text());throw Error(`${s.status}, ${s.statusText}`)}async getDashboard(t,r){const a=await fetch(`${this.endpoint}/projects/${t}/${r}/data`);if(a.ok)return new p().parse(await a.text());throw Error(`${a.status}, ${a.statusText}`)}async getProjects(){const t=await fetch(`${this.endpoint}/projects`);if(t.ok){let r=new p().parse(await t.text());return console.log(r),r}throw Error(`${t.status}, ${t.statusText}`)}async getProjectDashboard(t,r,a,s){const o=new URLSearchParams;r&&o.append("timestamp_start",r),a&&o.append("timestamp_end",a);const i=await fetch(`${this.endpoint}/projects/${t}/dashboard?${o.toString()}`,{signal:s});if(i.ok)return new p().parse(await i.text());throw Error(`${i.status}, ${i.statusText}`)}async getReports(t){const r=await fetch(`${this.endpoint}/projects/${t}/reports`);if(r.ok)return new p().parse(await r.text());throw Error(`${r.status}, ${r.statusText}`)}async getTestSuites(t){const r=await fetch(`${this.endpoint}/projects/${t}/test_suites`);if(r.ok)return new p().parse(await r.text());throw Error(`${r.status}, ${r.statusText}`)}async getProjectInfo(t){const r=await fetch(`${this.endpoint}/projects/${t}/info`);if(r.ok)return new p().parse(await r.text());throw Error(`${r.status}, ${r.statusText}`)}async getVersion(){const t=await fetch(`${this.endpoint}/version`);if(t.ok)return await t.json();throw Error(`${t.status}, ${t.statusText}`)}async editProjectInfo(t){const r=await fetch(`${this.endpoint}/projects/${t.id}/info`,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw Error(`${r.status}, ${r.statusText}`);return r}}const h=new Y("/api"),K="/static/img/logo.png",{loader:X}=Q({api:h}),Z={path:"/",lazy:async()=>{const{HomeComponentTemplate:e,...t}=await j(()=>import("./index-4c9a2564.js"),["static/js/index-4c9a2564.js","static/js/vendor-22c0ce7a.js","static/js/createSvgIcon-6a7b5fca.js"]);return{Component:()=>n.jsx(e,{logoSrc:K}),...t}},loader:X},tt=({api:e})=>({loader:({params:t})=>{const{projectId:r}=t;return g(r,"missing projectId"),e.getProjectInfo(r)}}),et=e=>{if(e.headers.get("Content-type")!=="application/json")throw new Response("Unsupported Media Type",{status:415})};function $(e){return typeof e!=typeof new Date?(console.log(`not a date ${typeof e}: ${e}`),e):`${e.getFullYear()}-${(e.getMonth()+1).toString().padStart(2,"0")}-${e.getDate().toString().padStart(2,"0")}T${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}`}const c={FROM:"date_from",TO:"date_to"},rt=e=>{let t=e.get(c.FROM),r=e.get(c.TO);return{date_from:t,date_to:r}},st=({dataRanges:e})=>{const[t,r]=C(),{date_from:a,date_to:s}=rt(t),o=w(a||e.minDate),i=w(s||e.maxDate);return{isCorrectTimeInterval:o.isValid()&&i.isValid()&&o.isBefore(i),date_from:o,date_to:i,setSearchParams:r}},Rt=({dataRanges:e})=>{const{isCorrectTimeInterval:t,date_from:r,date_to:a,setSearchParams:s}=st({dataRanges:e}),o=t?"":"incorrect time interval",i=m=>x=>{s(l=>(l.delete(m),x&&l.append(m,$(x.toDate())),l),{preventScrollReset:!0,replace:!0})};return n.jsxs(_,{container:!0,padding:1,zIndex:1,my:3,gap:2,justifyContent:"flex-end",justifyItems:"center",children:[n.jsx(_,{item:!0,xs:12,md:2,children:n.jsxs(b,{fullWidth:!0,children:[n.jsx(A,{children:"Period"}),n.jsxs(F,{variant:"standard",defaultValue:"",onChange:m=>{const[x,l]=m.target.value.split(",");if(x===""){s(d=>(d.delete(c.FROM),d.delete(c.TO),d.append(c.FROM,$(e.minDate.toDate())),d.append(c.TO,$(e.maxDate.toDate())),d),{preventScrollReset:!0,replace:!0});return}const[f,y]=[Number(x),l],T=e.maxDate.subtract(f,y);s(d=>(d.delete(c.FROM),d.delete(c.TO),d.append(c.FROM,$(T.isBefore(e.minDate)?e.minDate.toDate():T.toDate())),d.append(c.TO,$(e.maxDate.toDate())),d),{preventScrollReset:!0,replace:!0})},children:[n.jsx(u,{value:"",children:n.jsx("em",{children:"None"})}),n.jsx(u,{value:"10,minutes",children:"Last 10 Minutes"}),n.jsx(u,{value:"30,minutes",children:"Last 30 Minutes"}),n.jsx(u,{value:"1,hours",children:"Last 1 Hours"}),n.jsx(u,{value:"2,hours",children:"Last 2 Hours"}),n.jsx(u,{value:"8,hours",children:"Last 8 Hours"}),n.jsx(u,{value:"24,hours",children:"Last 24 Hours"}),n.jsx(u,{value:"7,days",children:"Last 7 Days"}),n.jsx(u,{value:"14,days",children:"Last 14 Days"}),n.jsx(u,{value:"28,days",children:"Last 28 Days"}),n.jsx(u,{value:"60,days",children:"Last 60 Days"})]})]})}),n.jsx(_,{item:!0,children:n.jsxs(I,{display:"flex",alignItems:"center",gap:2,children:[n.jsx(D,{minDate:e.minDate,maxDate:e.maxDate&&a,slotProps:{textField:{variant:"standard"}},label:"From",value:r,onChange:i(c.FROM)}),n.jsx(I,{height:1,display:"flex",alignItems:"center",children:n.jsx(S,{children:" - "})}),n.jsx(D,{minDate:e.minDate&&r,maxDate:e.maxDate,slotProps:{textField:{variant:"standard"}},label:"To",value:a,onChange:i(c.TO)})]})}),n.jsx(_,{item:!0,xs:12,children:n.jsx(M,{unmountOnExit:!0,in:!t,children:n.jsxs(k,{severity:"error",children:[n.jsx(V,{children:"Error"}),o]})})})]})},ot=({api:e})=>({loader:({params:t,request:r})=>{g(t.projectId,"missing projectId");const{searchParams:a}=new URL(r.url);let s=a.get(c.FROM),o=a.get(c.TO);return s&&!w(s).isValid()&&(s=null),o&&!w(o).isValid()&&(o=null),e.getProjectDashboard(t.projectId,s,o)}}),{loader:nt}=ot({api:h}),at={index:!0,id:"dashboard",lazy:()=>j(()=>import("./index-0ef6c50f.js"),["static/js/index-0ef6c50f.js","static/js/vendor-22c0ce7a.js","static/js/DashboardContent-f5b5bd51.js","static/js/createSvgIcon-6a7b5fca.js","static/js/Edit-5db35e51.js"]),loader:nt},it=({api:e})=>({loader:({params:t})=>(g(t.projectId,"missing projectId"),e.getReports(t.projectId))}),ct=({api:e})=>({loader:({params:t})=>(g(t.projectId,"missing projectId"),e.getTestSuites(t.projectId))}),lt=({api:e})=>({loader:({params:t})=>{const{projectId:r,snapshotId:a}=t;return g(r,"missing projectId"),g(a,"missing testSuiteId"),e.getDashboard(r,a)}}),{loader:dt}=lt({api:h}),R={path:":snapshotId",lazy:async()=>{const{SnapshotTemplate:e,...t}=await j(()=>import("./index-4ee1ff64.js"),["static/js/index-4ee1ff64.js","static/js/vendor-22c0ce7a.js","static/js/DashboardContent-f5b5bd51.js","static/js/createSvgIcon-6a7b5fca.js","static/js/Edit-5db35e51.js"]);return{Component:()=>n.jsx(e,{api:h}),...t}},loader:dt},ut={...R,id:"show-report-by-id"},{loader:pt}=it({api:h}),ht={id:"reports",path:"reports",lazy:async()=>{const{SnapshotTemplate:e,...t}=await j(()=>import("./index-73016473.js"),["static/js/index-73016473.js","static/js/vendor-22c0ce7a.js","static/js/ContentCopy-a50dbcdd.js","static/js/createSvgIcon-6a7b5fca.js"]);return{...t,Component:()=>n.jsx(e,{type:"report"})}},loader:pt,children:[ut]},mt={...R,id:"show-test-suite-by-id"},{loader:ft}=ct({api:h}),jt={id:"test_suites",path:"test-suites",lazy:async()=>{const{SnapshotTemplate:e,...t}=await j(()=>import("./index-73016473.js"),["static/js/index-73016473.js","static/js/vendor-22c0ce7a.js","static/js/ContentCopy-a50dbcdd.js","static/js/createSvgIcon-6a7b5fca.js"]);return{...t,Component:()=>n.jsx(e,{type:"test-suite"})}},loader:ft,children:[mt]},xt={path:"test_suites/*",loader:({request:e})=>N(e.url.replace("/test_suites","/test-suites"))},{loader:yt}=tt({api:h}),gt={path:"projects/:projectId",lazy:()=>j(()=>import("./index-67c85afe.js"),["static/js/index-67c85afe.js","static/js/vendor-22c0ce7a.js","static/js/ContentCopy-a50dbcdd.js","static/js/createSvgIcon-6a7b5fca.js"]),loader:yt,children:[at,ht,jt,xt]},$t=({api:e})=>({loader:()=>e.getProjects(),action:async({request:t})=>{et(t);const r=await t.json();return e.editProjectInfo(r)}}),{loader:_t,action:wt}=$t({api:h}),It={index:!0,lazy:()=>j(()=>import("./index-8792dbd8.js"),["static/js/index-8792dbd8.js","static/js/vendor-22c0ce7a.js","static/js/Edit-5db35e51.js","static/js/createSvgIcon-6a7b5fca.js"]),loader:_t,action:wt},Tt={path:"*",Component:()=>n.jsx(I,{display:"flex",justifyContent:"center",children:n.jsx(S,{variant:"h4",children:"Page Not Found"})})},vt={...Z,children:[It,gt,Tt]},Dt=B([vt]);U.createRoot(document.getElementById("root")).render(n.jsx(z.StrictMode,{children:n.jsx(H,{theme:W,children:n.jsx(J,{router:Dt})})}));export{Rt as D,st as u};
