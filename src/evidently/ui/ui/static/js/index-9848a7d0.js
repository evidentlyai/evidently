var A=Object.defineProperty;var M=(r,t,e)=>t in r?A(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var $=(r,t,e)=>(M(r,typeof t!="symbol"?t+"":t,e),e);import{c as R,g as I,j as n,i as x,G as b,F,I as B,S as N,M as p,B as S,D as E,T as C,C as V,A as U,a as z,u as H,d as T,r as G,z as _,b as J,e as W,R as q,f as Q,h as Y}from"./vendor-a9beb45f.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function e(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(s){if(s.ep)return;s.ep=!0;const i=e(s);fetch(s.href,i)}})();const{transitions:k}=R(),m="#ed0500",K="#ded5d5",X=R({shape:{borderRadius:5},palette:{primary:{main:I[900]},secondary:{main:m,dark:"#c10400"},background:{default:"white",paper:"white"}},components:{MuiLink:{styleOverrides:{root:{transition:k.create("color",{duration:k.duration.enteringScreen}),"&:hover":{color:m}}}},MuiTabs:{styleOverrides:{flexContainer:{gap:"10px"},indicator:{backgroundColor:m}}},MuiButton:{styleOverrides:{contained:{"&:hover":{background:I[800]}},outlined:{"&:hover":{color:m,borderColor:m,background:"white"}},text:{"&:hover":{color:m,borderColor:m,background:"white"}}}},MuiTab:{defaultProps:{color:"secondary"},styleOverrides:{root:{fontSize:"1rem",borderRadius:"5px","&:hover":{background:I[200]}}}},MuiIconButton:{styleOverrides:{root:{transition:k.create("color",{duration:k.duration.enteringScreen}),color:I[900],"&:hover":{color:m}}}},MuiSwitch:{defaultProps:{color:"secondary"}},MuiToggleButton:{defaultProps:{color:"secondary"},styleOverrides:{root:{transition:k.create("color",{duration:k.duration.enteringScreen}),color:I[900],"&:hover":{color:m}}}},MuiToggleButtonGroup:{defaultProps:{color:"secondary"}},MuiLinearProgress:{defaultProps:{color:"secondary"}},MuiPaper:{styleOverrides:{root:{boxShadow:"unset",border:"1px solid",borderColor:K}}}},typography:{fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),button:{fontWeight:"bold",textTransform:"none"}}}),Z="modulepreload",tt=function(r){return"/"+r},O={},y=function(t,e,o){if(!e||e.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(e.map(i=>{if(i=tt(i),i in O)return;O[i]=!0;const a=i.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!o)for(let g=s.length-1;g>=0;g--){const v=s[g];if(v.href===i&&(!a||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${l}`))return;const c=document.createElement("link");if(c.rel=a?"stylesheet":Z,a||(c.as="script",c.crossOrigin=""),c.href=i,document.head.appendChild(c),a)return new Promise((g,v)=>{c.addEventListener("load",g),c.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i})},et=({api:r})=>({loader:()=>r.getVersion()});class j{constructor(){$(this,"at",0);$(this,"ch","");$(this,"text","");$(this,"escapee",{'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"})}error(t){throw{name:"SyntaxError",message:t,at:this.at,text:this.text}}next(){return this.ch=this.text.charAt(this.at++)}check(t){t!==this.ch&&this.error(`Expected '${t}' instead of '${this.ch}'`),this.ch=this.text.charAt(this.at++)}number(){var t="";if(this.ch==="-"&&(t="-",this.check("-")),this.ch==="I")return this.check("I"),this.check("n"),this.check("f"),this.check("i"),this.check("n"),this.check("i"),this.check("t"),this.check("y"),-1/0;for(;this.ch>="0"&&this.ch<="9";)t+=this.ch,this.next();if(this.ch===".")for(t+=".";this.next()&&this.ch>="0"&&this.ch<="9";)t+=this.ch;if(this.ch==="e"||this.ch==="E")for(t+=this.ch,this.next(),(this.ch==="-"||this.ch==="+")&&(t+=this.ch,this.next());this.ch>="0"&&this.ch<="9";)t+=this.ch,this.next();return+t}string(){var t,e,o="",s;if(this.ch==='"')for(;this.next();){if(this.ch==='"')return this.next(),o;if(this.ch==="\\")if(this.next(),this.ch==="u"){for(s=0,e=0;e<4&&(t=parseInt(this.next(),16),!!isFinite(t));e++)s=s*16+t;o+=String.fromCharCode(s)}else if(this.escapee[this.ch])o+=this.escapee[this.ch];else break;else o+=this.ch}this.error("Bad string")}white(){for(;this.ch&&this.ch<=" ";)this.next()}word(){switch(this.ch){case"t":return this.check("t"),this.check("r"),this.check("u"),this.check("e"),!0;case"f":return this.check("f"),this.check("a"),this.check("l"),this.check("s"),this.check("e"),!1;case"n":return this.check("n"),this.check("u"),this.check("l"),this.check("l"),null;case"N":return this.check("N"),this.check("a"),this.check("N"),NaN;case"I":return this.check("I"),this.check("n"),this.check("f"),this.check("i"),this.check("n"),this.check("i"),this.check("t"),this.check("y"),1/0}this.error("Unexpected '"+this.ch+"'")}array(){var t=[];if(this.ch==="["){if(this.check("["),this.white(),this.ch==="]")return this.check("]"),t;for(;this.ch;){if(t.push(this.value()),this.white(),this.ch==="]")return this.check("]"),t;this.check(","),this.white()}}this.error("Bad array")}object(){var t,e={};if(this.ch==="{"){if(this.check("{"),this.white(),this.ch==="}")return this.check("}"),e;for(;this.ch;){if(t=this.string(),this.white(),this.check(":"),Object.hasOwnProperty.call(e,t)&&this.error('Duplicate key "'+t+'"'),e[t]=this.value(),this.white(),this.ch==="}")return this.check("}"),e;this.check(","),this.white()}}this.error("Bad object")}value(){switch(this.white(),this.ch){case"{":return this.object();case"[":return this.array();case'"':return this.string();case"-":return this.number();default:return this.ch>="0"&&this.ch<="9"?this.number():this.word()}}parse(t,e){let o;return this.text=t,this.at=0,this.ch=" ",o=this.value(),this.white(),this.ch&&this.error("Syntax error"),e!==void 0?function s(i,a){var l,f,c=i[a];if(c&&typeof c=="object")for(l in c)Object.prototype.hasOwnProperty.call(c,l)&&(f=s(c,l),f!==void 0?c[l]=f:delete c[l]);return e.call(i,a,c)}({"":o},""):o}}const rt=r=>t=>{if(!t.ok&&t.status===r)throw t},d=rt(401);class st{constructor(t){$(this,"endpoint");this.endpoint=t}async getAdditionalGraphData(t,e,o){const s=await fetch(`${this.endpoint}/projects/${t}/${e}/graphs_data/${o}`);if(d(s),s.ok)return new j().parse(await s.text());throw Error(`${s.status}, ${s.statusText}`)}async getAdditionalWidgetData(t,e,o){const s=await fetch(`${this.endpoint}/projects/${t}/${e}/graphs_data/${o}`);if(d(s),s.ok)return new j().parse(await s.text());throw Error(`${s.status}, ${s.statusText}`)}async getDashboard(t,e){const o=await fetch(`${this.endpoint}/projects/${t}/${e}/data`);if(d(o),o.ok)return new j().parse(await o.text());throw Error(`${o.status}, ${o.statusText}`)}async getProjects(){const t=await fetch(`${this.endpoint}/projects`);if(d(t),t.ok){let e=new j().parse(await t.text());return console.log(e),e}throw Error(`${t.status}, ${t.statusText}`)}async getProjectDashboard(t,e,o,s){const i=new URLSearchParams;e&&i.append("timestamp_start",e),o&&i.append("timestamp_end",o);const a=await fetch(`${this.endpoint}/projects/${t}/dashboard?${i.toString()}`,{signal:s});if(d(a),a.ok)return new j().parse(await a.text());throw Error(`${a.status}, ${a.statusText}`)}async getReports(t){const e=await fetch(`${this.endpoint}/projects/${t}/reports`);if(d(e),e.ok)return new j().parse(await e.text());throw Error(`${e.status}, ${e.statusText}`)}async getTestSuites(t){const e=await fetch(`${this.endpoint}/projects/${t}/test_suites`);if(d(e),e.ok)return new j().parse(await e.text());throw Error(`${e.status}, ${e.statusText}`)}async getProjectInfo(t){const e=await fetch(`${this.endpoint}/projects/${t}/info`);if(d(e),e.ok)return new j().parse(await e.text());throw Error(`${e.status}, ${e.statusText}`)}async getVersion(){const t=await fetch(`${this.endpoint}/version`);if(d(t),t.ok)return await t.json();throw Error(`${t.status}, ${t.statusText}`)}async editProjectInfo(t){const e=await fetch(`${this.endpoint}/projects/${t.id}/info`,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(d(e),!e.ok)throw Error(`${e.status}, ${e.statusText}`);return e}async reloadProject(t){const e=await fetch(`${this.endpoint}/projects/${t}/reload`);if(d(e),!e.ok)throw e;return e}async createProject(t){const e=new URLSearchParams;t.team_id&&e.append("team_id",t.team_id);const o=await fetch(`${this.endpoint}/projects?${e.toString()}`,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(d(o),!o.ok)throw Error(`${o.status}, ${o.statusText}`);return o.json()}async deleteProject(t){const e=await fetch(`${this.endpoint}/projects/${t}`,{method:"delete"});if(e.ok)return e;throw Error(`${e.status}, ${e.statusText}, ${await e.text()}`)}}const w=new st("/api"),ot="/static/img/logo.png",{loader:it}=et({api:w}),nt={path:"/",lazy:async()=>{const{HomeComponentTemplate:r,...t}=await y(()=>import("./index-ddd0e87e.js"),["static/js/index-ddd0e87e.js","static/js/vendor-a9beb45f.js","static/js/createSvgIcon-2f311fdd.js"]);return{Component:()=>n.jsx(r,{logoSrc:ot}),...t}},loader:it},at=({api:r})=>({loader:({params:t})=>{const{projectId:e}=t;return x(e,"missing projectId"),r.getProjectInfo(e)}}),ct=r=>{if(r.headers.get("Content-type")!=="application/json")throw new Response("Unsupported Media Type",{status:415})};function P(r){return typeof r!=typeof new Date?(console.log(`not a date ${typeof r}: ${r}`),r):`${r.getFullYear()}-${(r.getMonth()+1).toString().padStart(2,"0")}-${r.getDate().toString().padStart(2,"0")}T${r.getHours().toString().padStart(2,"0")}:${r.getMinutes().toString().padStart(2,"0")}`}const h={FROM:"date_from",TO:"date_to"},ht=r=>{let t=r.get(h.FROM),e=r.get(h.TO);return{date_from:t,date_to:e}},lt=({dataRanges:r})=>{const[t,e]=H(),{date_from:o,date_to:s}=ht(t),i=T(o||r.minDate),a=T(s||r.maxDate);return{isCorrectTimeInterval:i.isValid()&&a.isValid()&&(i.isSame(a)||i.isBefore(a)),date_from:i,date_to:a,setSearchParams:e}},Bt=({dataRanges:r})=>{const{isCorrectTimeInterval:t,date_from:e,date_to:o,setSearchParams:s}=lt({dataRanges:r}),i=t?"":"incorrect time interval",a=l=>f=>{s(c=>(c.delete(l),f&&c.append(l,P(f.toDate())),c),{preventScrollReset:!0,replace:!0})};return n.jsxs(b,{container:!0,padding:1,zIndex:1,gap:2,justifyContent:"flex-end",justifyItems:"center",children:[n.jsx(b,{item:!0,xs:12,md:2,children:n.jsxs(F,{fullWidth:!0,children:[n.jsx(B,{children:"Period"}),n.jsxs(N,{variant:"standard",defaultValue:"",onChange:l=>{const[f,c]=l.target.value.split(",");if(f===""){s(u=>(u.delete(h.FROM),u.delete(h.TO),u.append(h.FROM,P(r.minDate.toDate())),u.append(h.TO,P(r.maxDate.toDate())),u),{preventScrollReset:!0,replace:!0});return}const[g,v]=[Number(f),c],D=r.maxDate.subtract(g,v);s(u=>(u.delete(h.FROM),u.delete(h.TO),u.append(h.FROM,P(D.isBefore(r.minDate)?r.minDate.toDate():D.toDate())),u.append(h.TO,P(r.maxDate.toDate())),u),{preventScrollReset:!0,replace:!0})},children:[n.jsx(p,{value:"",children:n.jsx("em",{children:"None"})}),n.jsx(p,{value:"10,minutes",children:"Last 10 Minutes"}),n.jsx(p,{value:"30,minutes",children:"Last 30 Minutes"}),n.jsx(p,{value:"1,hours",children:"Last 1 Hours"}),n.jsx(p,{value:"2,hours",children:"Last 2 Hours"}),n.jsx(p,{value:"8,hours",children:"Last 8 Hours"}),n.jsx(p,{value:"24,hours",children:"Last 24 Hours"}),n.jsx(p,{value:"7,days",children:"Last 7 Days"}),n.jsx(p,{value:"14,days",children:"Last 14 Days"}),n.jsx(p,{value:"28,days",children:"Last 28 Days"}),n.jsx(p,{value:"60,days",children:"Last 60 Days"})]})]})}),n.jsx(b,{item:!0,children:n.jsxs(S,{display:"flex",alignItems:"center",gap:2,children:[n.jsx(E,{minDate:r.minDate,maxDate:r.maxDate&&o,slotProps:{textField:{variant:"standard"}},label:"From",value:e,onChange:a(h.FROM)}),n.jsx(S,{height:1,display:"flex",alignItems:"center",children:n.jsx(C,{children:" - "})}),n.jsx(E,{minDate:r.minDate&&e,maxDate:r.maxDate,slotProps:{textField:{variant:"standard"}},label:"To",value:o,onChange:a(h.TO)})]})}),n.jsx(b,{item:!0,xs:12,children:n.jsx(V,{unmountOnExit:!0,in:!t,children:n.jsxs(U,{severity:"error",children:[n.jsx(z,{children:"Error"}),i]})})})]})},dt=({api:r})=>({loader:({params:t,request:e})=>{x(t.projectId,"missing projectId");const{searchParams:o}=new URL(e.url);let s=o.get(h.FROM),i=o.get(h.TO);return s&&!T(s).isValid()&&(s=null),i&&!T(i).isValid()&&(i=null),r.getProjectDashboard(t.projectId,s,i)}}),{loader:ut}=dt({api:w}),pt={index:!0,id:"dashboard",lazy:async()=>{const[{DashboardComponentTemplate:r},{DashboardWidgets:t}]=await Promise.all([y(()=>import("./index-4e8daecd.js"),["static/js/index-4e8daecd.js","static/js/vendor-a9beb45f.js"]),y(()=>import("./DashboardWidgets-3915d03a.js"),["static/js/DashboardWidgets-3915d03a.js","static/js/vendor-a9beb45f.js","static/js/DashboardContent-b5a13830.js","static/js/createSvgIcon-2f311fdd.js","static/js/Edit-b8a844de.js"])]);return{Component:()=>n.jsx(r,{Dashboard:({data:{widgets:e}})=>n.jsx(t,{widgets:e})})}},loader:ut},ft=({api:r})=>({loader:({params:t})=>(x(t.projectId,"missing projectId"),t.snapshotId?Promise.resolve([]):r.getReports(t.projectId)),action:async({params:t})=>(x(t.projectId,"missing projectId"),r.reloadProject(t.projectId))}),mt=({api:r})=>({loader:({params:t})=>(x(t.projectId,"missing projectId"),t.snapshotId?Promise.resolve([]):r.getTestSuites(t.projectId)),action:async({params:t})=>(x(t.projectId,"missing projectId"),r.reloadProject(t.projectId))}),jt=({api:r})=>({loader:({params:t})=>{const{projectId:e,snapshotId:o}=t;return x(e,"missing projectId"),x(o,"missing testSuiteId"),r.getDashboard(e,o)}}),{loader:xt}=jt({api:w}),L={path:":snapshotId",lazy:async()=>{const{SnapshotTemplate:r,...t}=await y(()=>import("./index-59fa1dec.js"),["static/js/index-59fa1dec.js","static/js/vendor-a9beb45f.js","static/js/DashboardContent-b5a13830.js","static/js/createSvgIcon-2f311fdd.js","static/js/Edit-b8a844de.js"]);return{Component:()=>n.jsx(r,{api:w}),...t}},loader:xt},{loader:yt,action:wt}=ft({api:w}),gt={id:"reports",path:"reports",lazy:async()=>{const{SnapshotTemplate:r,...t}=await y(()=>import("./index-33d19047.js"),["static/js/index-33d19047.js","static/js/vendor-a9beb45f.js","static/js/index-09c5772f.js","static/js/ContentCopy-88acad8a.js","static/js/createSvgIcon-2f311fdd.js","static/css/index-77cf86ac.css"]);return{...t,Component:()=>n.jsx(r,{type:"report"})}},loader:yt,action:wt,children:[L]},{loader:vt,action:$t}=mt({api:w}),kt={id:"test_suites",path:"test-suites",lazy:async()=>{const{SnapshotTemplate:r,...t}=await y(()=>import("./index-33d19047.js"),["static/js/index-33d19047.js","static/js/vendor-a9beb45f.js","static/js/index-09c5772f.js","static/js/ContentCopy-88acad8a.js","static/js/createSvgIcon-2f311fdd.js","static/css/index-77cf86ac.css"]);return{...t,Component:()=>n.jsx(r,{type:"test suite"})}},loader:vt,action:$t,children:[L]},It={path:"test_suites/*",loader:({request:r})=>G(r.url.replace("/test_suites","/test-suites"))},{loader:Pt}=at({api:w}),_t=[{id:"dashboard",link:".",label:"Dashboard"},{id:"reports",link:"reports",label:"Reports"},{id:"test_suites",link:"test-suites",label:"Test suites"},{id:"comparisons",link:"comparisons",disabled:!0}],bt={path:"projects/:projectId",lazy:async()=>{const{ProjectTemplate:r,...t}=await y(()=>import("./index-36633a78.js"),["static/js/index-36633a78.js","static/js/vendor-a9beb45f.js","static/js/ContentCopy-88acad8a.js","static/js/createSvgIcon-2f311fdd.js"]);return{Component:()=>n.jsx(r,{tabsConfig:_t}),...t}},loader:Pt,children:[pt,gt,kt,It]},Tt=_.object({action:_.literal("create-new-project")}),St=_.object({action:_.literal("delete-project"),projectId:_.string().uuid()}),Dt=({api:r})=>({loader:()=>r.getProjects(),action:async({request:t})=>{ct(t);const e=await t.json(),o=Tt.safeParse(e);if(o.success&&o.data.action==="create-new-project")return r.createProject(e);const s=St.safeParse(e);return s.success&&s.data.action==="delete-project"?r.deleteProject(s.data.projectId):r.editProjectInfo(e)}}),{loader:Et,action:Ot}=Dt({api:w}),Rt={index:!0,lazy:()=>y(()=>import("./index-771d106e.js"),["static/js/index-771d106e.js","static/js/vendor-a9beb45f.js","static/js/Edit-b8a844de.js","static/js/createSvgIcon-2f311fdd.js","static/js/index-09c5772f.js"]),loader:Et,action:Ot},Ct={path:"*",Component:()=>n.jsx(S,{display:"flex",justifyContent:"center",children:n.jsx(C,{variant:"h4",children:"Page Not Found"})})},Lt={...nt,children:[Rt,bt,Ct]},At=J([Lt]);W.createRoot(document.getElementById("root")).render(n.jsx(q.StrictMode,{children:n.jsx(Q,{theme:X,children:n.jsx(Y,{router:At})})}));export{Bt as D};
