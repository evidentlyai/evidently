import{t as a}from"./vendor-d5d40d46.js";function u(t,e){window.dispatchEvent(new StorageEvent("storage",{key:t,newValue:e}))}const g=(t,e)=>{const o=JSON.stringify(e);window.localStorage.setItem(t,o),u(t,o)},l=t=>{window.localStorage.removeItem(t),u(t,null)},S=t=>window.localStorage.getItem(t),f=t=>(window.addEventListener("storage",t),()=>window.removeEventListener("storage",t)),d=()=>{throw Error("useLocalStorage is a client-only hook")};function i(t,e){const o=()=>S(t),n=a.useSyncExternalStore(f,o,d),c=a.useCallback(r=>{try{const s=typeof r=="function"?r(JSON.parse(n)):r;s==null?l(t):g(t,s)}catch(s){console.warn(s)}},[t,n]);return a.useEffect(()=>{S(t)===null&&typeof e<"u"&&g(t,e)},[t,e]),[n?JSON.parse(n):e,c]}function p(t){const[e,o]=a.useState(()=>typeof t=="boolean"?t:!!t),n=a.useCallback(c=>o(typeof c=="boolean"?c:r=>!r),[]);return[e,n]}export{i as a,p as u};
