var F=Object.defineProperty;var N=(t,e,r)=>e in t?F(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var P=(t,e,r)=>(N(t,typeof e!="symbol"?e+"":e,r),r);import{c as L,g as b,u as V,j as o,A,a as M,i as U,T as $,b as y,G as D,F as z,I as H,S as G,M as p,B as E,D as O,C as W,d as J,e as T,z as S,f as q,h as Q,R as Y,k as K,l as X}from"./vendor-9e6f55d1.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(s){if(s.ep)return;s.ep=!0;const n=r(s);fetch(s.href,n)}})();const{transitions:_}=L(),m="#ed0500",Z="#ded5d5",ee=L({shape:{borderRadius:5},palette:{primary:{main:b[900]},secondary:{main:m,dark:"#c10400"},background:{default:"white",paper:"white"}},components:{MuiLink:{styleOverrides:{root:{transition:_.create("color",{duration:_.duration.enteringScreen}),"&:hover":{color:m}}}},MuiTabs:{styleOverrides:{flexContainer:{gap:"10px"},indicator:{backgroundColor:m}}},MuiButton:{styleOverrides:{contained:{"&:hover":{background:b[800]}},outlined:{"&:hover":{color:m,borderColor:m,background:"white"}},text:{"&:hover":{color:m,borderColor:m}}}},MuiTab:{defaultProps:{color:"secondary"},styleOverrides:{root:{fontSize:"1rem",borderRadius:"5px","&:hover":{background:b[200]}}}},MuiIconButton:{styleOverrides:{root:{transition:_.create("color",{duration:_.duration.enteringScreen}),color:b[900],"&:hover":{color:m}}}},MuiSwitch:{defaultProps:{color:"secondary"}},MuiToggleButton:{defaultProps:{color:"secondary"},styleOverrides:{root:{transition:_.create("color",{duration:_.duration.enteringScreen}),color:b[900],"&:hover":{color:m}}}},MuiToggleButtonGroup:{defaultProps:{color:"secondary"}},MuiLinearProgress:{defaultProps:{color:"secondary"}},MuiPaper:{styleOverrides:{root:{boxShadow:"unset",border:"1px solid",borderColor:Z}}}},typography:{fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),button:{fontWeight:"bold",textTransform:"none"}}}),g=()=>{var e;const t=V();return o.jsxs(A,{severity:"error",children:[o.jsx(M,{children:"Something went wrong"}),U(t)&&o.jsxs(o.Fragment,{children:[o.jsx($,{fontWeight:"bold",children:[`Status: ${t.status}`,typeof((e=t.data)==null?void 0:e.detail)=="string"&&t.data.detail].filter(Boolean).join(", ")}),typeof t.data=="string"&&o.jsx($,{children:t.data})]})]})},te="modulepreload",re=function(t){return"/"+t},C={},x=function(e,r,i){if(!r||r.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(r.map(n=>{if(n=re(n),n in C)return;C[n]=!0;const a=n.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!i)for(let v=s.length-1;v>=0;v--){const I=s[v];if(I.href===n&&(!a||I.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${n}"]${l}`))return;const c=document.createElement("link");if(c.rel=a?"stylesheet":te,a||(c.as="script",c.crossOrigin=""),c.href=n,document.head.appendChild(c),a)return new Promise((v,I)=>{c.addEventListener("load",v),c.addEventListener("error",()=>I(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>e()).catch(n=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=n,window.dispatchEvent(a),!a.defaultPrevented)throw n})},se=({api:t})=>({loader:()=>t.getVersion()});class j{constructor(){P(this,"at",0);P(this,"ch","");P(this,"text","");P(this,"escapee",{'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"})}error(e){throw{name:"SyntaxError",message:e,at:this.at,text:this.text}}next(){return this.ch=this.text.charAt(this.at++)}check(e){e!==this.ch&&this.error(`Expected '${e}' instead of '${this.ch}'`),this.ch=this.text.charAt(this.at++)}number(){var e="";if(this.ch==="-"&&(e="-",this.check("-")),this.ch==="I")return this.check("I"),this.check("n"),this.check("f"),this.check("i"),this.check("n"),this.check("i"),this.check("t"),this.check("y"),-1/0;for(;this.ch>="0"&&this.ch<="9";)e+=this.ch,this.next();if(this.ch===".")for(e+=".";this.next()&&this.ch>="0"&&this.ch<="9";)e+=this.ch;if(this.ch==="e"||this.ch==="E")for(e+=this.ch,this.next(),(this.ch==="-"||this.ch==="+")&&(e+=this.ch,this.next());this.ch>="0"&&this.ch<="9";)e+=this.ch,this.next();return+e}string(){var e,r,i="",s;if(this.ch==='"')for(;this.next();){if(this.ch==='"')return this.next(),i;if(this.ch==="\\")if(this.next(),this.ch==="u"){for(s=0,r=0;r<4&&(e=parseInt(this.next(),16),!!isFinite(e));r++)s=s*16+e;i+=String.fromCharCode(s)}else if(this.escapee[this.ch])i+=this.escapee[this.ch];else break;else i+=this.ch}this.error("Bad string")}white(){for(;this.ch&&this.ch<=" ";)this.next()}word(){switch(this.ch){case"t":return this.check("t"),this.check("r"),this.check("u"),this.check("e"),!0;case"f":return this.check("f"),this.check("a"),this.check("l"),this.check("s"),this.check("e"),!1;case"n":return this.check("n"),this.check("u"),this.check("l"),this.check("l"),null;case"N":return this.check("N"),this.check("a"),this.check("N"),NaN;case"I":return this.check("I"),this.check("n"),this.check("f"),this.check("i"),this.check("n"),this.check("i"),this.check("t"),this.check("y"),1/0}this.error("Unexpected '"+this.ch+"'")}array(){var e=[];if(this.ch==="["){if(this.check("["),this.white(),this.ch==="]")return this.check("]"),e;for(;this.ch;){if(e.push(this.value()),this.white(),this.ch==="]")return this.check("]"),e;this.check(","),this.white()}}this.error("Bad array")}object(){var e,r={};if(this.ch==="{"){if(this.check("{"),this.white(),this.ch==="}")return this.check("}"),r;for(;this.ch;){if(e=this.string(),this.white(),this.check(":"),Object.hasOwnProperty.call(r,e)&&this.error('Duplicate key "'+e+'"'),r[e]=this.value(),this.white(),this.ch==="}")return this.check("}"),r;this.check(","),this.white()}}this.error("Bad object")}value(){switch(this.white(),this.ch){case"{":return this.object();case"[":return this.array();case'"':return this.string();case"-":return this.number();default:return this.ch>="0"&&this.ch<="9"?this.number():this.word()}}parse(e,r){let i;return this.text=e,this.at=0,this.ch=" ",i=this.value(),this.white(),this.ch&&this.error("Syntax error"),r!==void 0?function s(n,a){var l,f,c=n[a];if(c&&typeof c=="object")for(l in c)Object.prototype.hasOwnProperty.call(c,l)&&(f=s(c,l),f!==void 0?c[l]=f:delete c[l]);return r.call(n,a,c)}({"":i},""):i}}async function d(...t){const e=await fetch(...t);if(!e.ok&&e.status>=400)throw e;return e}class oe{constructor(e){P(this,"endpoint");this.endpoint=e}async getAdditionalGraphData(e,r,i){const s=await d(`${this.endpoint}/projects/${e}/${r}/graphs_data/${i}`);return new j().parse(await s.text())}async getAdditionalWidgetData(e,r,i){const s=await d(`${this.endpoint}/projects/${e}/${r}/graphs_data/${i}`);return new j().parse(await s.text())}async getDashboard(e,r){const i=await d(`${this.endpoint}/projects/${e}/${r}/data`);return new j().parse(await i.text())}async getProjects(){const e=await d(`${this.endpoint}/projects`);return new j().parse(await e.text())}async getProjectDashboard(e,r,i){const s=new URLSearchParams;r&&s.append("timestamp_start",r),i&&s.append("timestamp_end",i);const n=await d(`${this.endpoint}/projects/${e}/dashboard?${s.toString()}`);return new j().parse(await n.text())}async getReports(e){const r=await d(`${this.endpoint}/projects/${e}/reports`);return new j().parse(await r.text())}async getTestSuites(e){const r=await d(`${this.endpoint}/projects/${e}/test_suites`);return new j().parse(await r.text())}async getProjectInfo(e){const r=await d(`${this.endpoint}/projects/${e}/info`);return new j().parse(await r.text())}async getVersion(){return(await d(`${this.endpoint}/version`)).json()}async editProjectInfo(e){return d(`${this.endpoint}/projects/${e.id}/info`,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}async reloadProject(e){return d(`${this.endpoint}/projects/${e}/reload`)}async createProject(e){const r=new URLSearchParams;return e.team_id&&r.append("team_id",e.team_id),(await d(`${this.endpoint}/projects?${r.toString()}`,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json()}async deleteProject(e){return d(`${this.endpoint}/projects/${e}`,{method:"delete"})}}const w=new oe("/api"),ne="/static/img/logo.png",{loader:ie}=se({api:w}),ae={path:"/",lazy:async()=>{const{HomeComponentTemplate:t,...e}=await x(()=>import("./index-c64b0c7c.js"),["static/js/index-c64b0c7c.js","static/js/vendor-9e6f55d1.js","static/js/createSvgIcon-40456b89.js"]);return{Component:()=>o.jsx(t,{logoSrc:ne}),...e}},loader:ie,ErrorBoundary:g},ce=({api:t})=>({loader:({params:e})=>{const{projectId:r}=e;return y(r,"missing projectId"),t.getProjectInfo(r)}}),he=t=>{if(t.headers.get("Content-type")!=="application/json")throw new Response("Unsupported Media Type",{status:415})};function k(t){return typeof t!=typeof new Date?(console.log(`not a date ${typeof t}: ${t}`),t):`${t.getFullYear()}-${(t.getMonth()+1).toString().padStart(2,"0")}-${t.getDate().toString().padStart(2,"0")}T${t.getHours().toString().padStart(2,"0")}:${t.getMinutes().toString().padStart(2,"0")}`}const h={FROM:"date_from",TO:"date_to"},le=t=>{let e=t.get(h.FROM),r=t.get(h.TO);return{date_from:e,date_to:r}},de=({dataRanges:t})=>{const[e,r]=J(),{date_from:i,date_to:s}=le(e),n=T(i||t.minDate),a=T(s||t.maxDate);return{isCorrectTimeInterval:n.isValid()&&a.isValid()&&(n.isSame(a)||n.isBefore(a)),date_from:n,date_to:a,setSearchParams:r}},Fe=({dataRanges:t})=>{const{isCorrectTimeInterval:e,date_from:r,date_to:i,setSearchParams:s}=de({dataRanges:t}),n=e?"":"incorrect time interval",a=l=>f=>{s(c=>(c.delete(l),f&&c.append(l,k(f.toDate())),c),{preventScrollReset:!0,replace:!0})};return o.jsxs(D,{container:!0,padding:1,zIndex:1,gap:2,justifyContent:"flex-end",justifyItems:"center",children:[o.jsx(D,{item:!0,xs:12,md:2,children:o.jsxs(z,{fullWidth:!0,children:[o.jsx(H,{children:"Period"}),o.jsxs(G,{variant:"standard",defaultValue:"",onChange:l=>{const[f,c]=l.target.value.split(",");if(f===""){s(u=>(u.delete(h.FROM),u.delete(h.TO),u.append(h.FROM,k(t.minDate.toDate())),u.append(h.TO,k(t.maxDate.toDate())),u),{preventScrollReset:!0,replace:!0});return}const[v,I]=[Number(f),c],R=t.maxDate.subtract(v,I);s(u=>(u.delete(h.FROM),u.delete(h.TO),u.append(h.FROM,k(R.isBefore(t.minDate)?t.minDate.toDate():R.toDate())),u.append(h.TO,k(t.maxDate.toDate())),u),{preventScrollReset:!0,replace:!0})},children:[o.jsx(p,{value:"",children:o.jsx("em",{children:"None"})}),o.jsx(p,{value:"10,minutes",children:"Last 10 Minutes"}),o.jsx(p,{value:"30,minutes",children:"Last 30 Minutes"}),o.jsx(p,{value:"1,hours",children:"Last 1 Hours"}),o.jsx(p,{value:"2,hours",children:"Last 2 Hours"}),o.jsx(p,{value:"8,hours",children:"Last 8 Hours"}),o.jsx(p,{value:"24,hours",children:"Last 24 Hours"}),o.jsx(p,{value:"7,days",children:"Last 7 Days"}),o.jsx(p,{value:"14,days",children:"Last 14 Days"}),o.jsx(p,{value:"28,days",children:"Last 28 Days"}),o.jsx(p,{value:"60,days",children:"Last 60 Days"})]})]})}),o.jsx(D,{item:!0,children:o.jsxs(E,{display:"flex",alignItems:"center",gap:2,children:[o.jsx(O,{minDate:t.minDate,maxDate:t.maxDate&&i,slotProps:{textField:{variant:"standard"}},label:"From",value:r,onChange:a(h.FROM)}),o.jsx(E,{height:1,display:"flex",alignItems:"center",children:o.jsx($,{children:" - "})}),o.jsx(O,{minDate:t.minDate&&r,maxDate:t.maxDate,slotProps:{textField:{variant:"standard"}},label:"To",value:i,onChange:a(h.TO)})]})}),o.jsx(D,{item:!0,xs:12,children:o.jsx(W,{unmountOnExit:!0,in:!e,children:o.jsxs(A,{severity:"error",children:[o.jsx(M,{children:"Error"}),n]})})})]})},ue=({api:t})=>({loader:({params:e,request:r})=>{y(e.projectId,"missing projectId");const{searchParams:i}=new URL(r.url);let s=i.get(h.FROM),n=i.get(h.TO);return s&&!T(s).isValid()&&(s=null),n&&!T(n).isValid()&&(n=null),t.getProjectDashboard(e.projectId,s,n)}}),{loader:pe}=ue({api:w}),fe={index:!0,id:"dashboard",lazy:async()=>{const[{DashboardComponentTemplate:t},{DashboardWidgets:e}]=await Promise.all([x(()=>import("./index-d64ac1fd.js"),["static/js/index-d64ac1fd.js","static/js/vendor-9e6f55d1.js"]),x(()=>import("./DashboardWidgets-6d83512f.js"),["static/js/DashboardWidgets-6d83512f.js","static/js/vendor-9e6f55d1.js","static/js/DashboardContent-1eadc887.js","static/js/createSvgIcon-40456b89.js","static/js/Edit-0b1234b1.js"])]);return{Component:()=>o.jsx(t,{Dashboard:({data:{widgets:r}})=>o.jsx(e,{widgets:r})})}},loader:pe,ErrorBoundary:g},me=({api:t})=>({loader:({params:e})=>(y(e.projectId,"missing projectId"),e.snapshotId?Promise.resolve([]):t.getReports(e.projectId)),action:async({params:e})=>(y(e.projectId,"missing projectId"),t.reloadProject(e.projectId))}),je=({api:t})=>({loader:({params:e})=>(y(e.projectId,"missing projectId"),e.snapshotId?Promise.resolve([]):t.getTestSuites(e.projectId)),action:async({params:e})=>(y(e.projectId,"missing projectId"),t.reloadProject(e.projectId))}),ye=({api:t})=>({loader:({params:e})=>{const{projectId:r,snapshotId:i}=e;return y(r,"missing projectId"),y(i,"missing testSuiteId"),t.getDashboard(r,i)}}),{loader:xe}=ye({api:w}),B={path:":snapshotId",lazy:async()=>{const{SnapshotTemplate:t,...e}=await x(()=>import("./index-80bd85e6.js"),["static/js/index-80bd85e6.js","static/js/vendor-9e6f55d1.js","static/js/DashboardContent-1eadc887.js","static/js/createSvgIcon-40456b89.js","static/js/Edit-0b1234b1.js"]);return{Component:()=>o.jsx(t,{api:w}),...e}},loader:xe,ErrorBoundary:g},{loader:ge,action:we}=me({api:w}),ve={id:"reports",path:"reports",lazy:async()=>{const{SnapshotTemplate:t,...e}=await x(()=>import("./index-1be0d751.js"),["static/js/index-1be0d751.js","static/js/vendor-9e6f55d1.js","static/js/index-3075b2bb.js","static/js/ContentCopy-18e0d11c.js","static/js/createSvgIcon-40456b89.js","static/css/index-77cf86ac.css"]);return{...e,Component:()=>o.jsx(t,{type:"report"})}},loader:ge,action:we,ErrorBoundary:g,children:[B]},{loader:Ie,action:Pe}=je({api:w}),_e={id:"test_suites",path:"test-suites",lazy:async()=>{const{SnapshotTemplate:t,...e}=await x(()=>import("./index-1be0d751.js"),["static/js/index-1be0d751.js","static/js/vendor-9e6f55d1.js","static/js/index-3075b2bb.js","static/js/ContentCopy-18e0d11c.js","static/js/createSvgIcon-40456b89.js","static/css/index-77cf86ac.css"]);return{...e,Component:()=>o.jsx(t,{type:"test suite"})}},loader:Ie,action:Pe,ErrorBoundary:g,children:[B]},{loader:be}=ce({api:w}),ke=[{id:"dashboard",link:".",label:"Dashboard"},{id:"reports",link:"reports",label:"Reports"},{id:"test_suites",link:"test-suites",label:"Test suites"}],Se={path:"projects/:projectId",lazy:async()=>{const{ProjectTemplate:t,...e}=await x(()=>import("./index-b803e28d.js"),["static/js/index-b803e28d.js","static/js/vendor-9e6f55d1.js","static/js/ContentCopy-18e0d11c.js","static/js/createSvgIcon-40456b89.js"]);return{Component:()=>o.jsx(t,{tabsConfig:ke}),...e}},loader:be,ErrorBoundary:g,children:[fe,ve,_e]},De=S.object({action:S.literal("create-new-project")}),$e=S.object({action:S.literal("delete-project"),projectId:S.string().uuid()}),Te=({api:t})=>({loader:()=>t.getProjects(),action:async({request:e})=>{he(e);const r=await e.json(),i=De.safeParse(r);if(i.success&&i.data.action==="create-new-project")return t.createProject(r);const s=$e.safeParse(r);return s.success&&s.data.action==="delete-project"?t.deleteProject(s.data.projectId):t.editProjectInfo(r)}}),{loader:Ee,action:Re}=Te({api:w}),Oe={index:!0,lazy:()=>x(()=>import("./index-43583dd5.js"),["static/js/index-43583dd5.js","static/js/vendor-9e6f55d1.js","static/js/Edit-0b1234b1.js","static/js/createSvgIcon-40456b89.js","static/js/index-3075b2bb.js"]),loader:Ee,action:Re,ErrorBoundary:g},Ce={path:"*",Component:()=>o.jsx(E,{display:"flex",justifyContent:"center",children:o.jsx($,{variant:"h4",children:"Page Not Found"})})},Le={...ae,children:[Oe,Se,Ce],ErrorBoundary:g},Ae=q([Le]);Q.createRoot(document.getElementById("root")).render(o.jsx(Y.StrictMode,{children:o.jsx(K,{theme:ee,children:o.jsx(X,{router:Ae})})}));export{Fe as D};
