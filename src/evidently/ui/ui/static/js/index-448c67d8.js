import{t as s}from"./vendor-81dca3f5.js";function g(e,t){window.dispatchEvent(new StorageEvent("storage",{key:e,newValue:t}))}function m(){const[e,t]=s.useState(!1),o=s.useRef(null),r=s.useCallback(()=>{t(!0)},[]),a=s.useCallback(()=>{t(!1)},[]);return[s.useCallback(n=>{var u;((u=o.current)==null?void 0:u.nodeType)===Node.ELEMENT_NODE&&(o.current.removeEventListener("mouseenter",r),o.current.removeEventListener("mouseleave",a)),(n==null?void 0:n.nodeType)===Node.ELEMENT_NODE&&(n.addEventListener("mouseenter",r),n.addEventListener("mouseleave",a)),o.current=n},[r,a]),e]}const l=(e,t)=>{const o=JSON.stringify(t);window.localStorage.setItem(e,o),g(e,o)},S=e=>{window.localStorage.removeItem(e),g(e,null)},f=e=>window.localStorage.getItem(e),i=e=>(window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)),E=()=>{throw Error("useLocalStorage is a client-only hook")};function v(e,t){const o=()=>f(e),r=s.useSyncExternalStore(i,o,E),a=s.useCallback(c=>{try{const n=typeof c=="function"?c(JSON.parse(r)):c;n==null?S(e):l(e,n)}catch(n){console.warn(n)}},[e,r]);return s.useEffect(()=>{f(e)===null&&typeof t<"u"&&l(e,t)},[e,t]),[r?JSON.parse(r):t,a]}function p(e){const[t,o]=s.useState(()=>typeof e=="boolean"?e:!!e),r=s.useCallback(a=>o(typeof a=="boolean"?a:c=>!c),[]);return[t,r]}export{p as a,v as b,m as u};
