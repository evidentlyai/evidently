import{s}from"./vendor-330857d0.js";function S(e,o){window.dispatchEvent(new StorageEvent("storage",{key:e,newValue:o}))}function d(){const[e,o]=s.useState(!1),n=s.useRef(null),r=s.useCallback(()=>{o(!0)},[]),a=s.useCallback(()=>{o(!1)},[]);return[s.useCallback(t=>{var u;((u=n.current)==null?void 0:u.nodeType)===Node.ELEMENT_NODE&&(n.current.removeEventListener("mouseenter",r),n.current.removeEventListener("mouseleave",a)),(t==null?void 0:t.nodeType)===Node.ELEMENT_NODE&&(t.addEventListener("mouseenter",r),t.addEventListener("mouseleave",a)),n.current=t},[r,a]),e]}const l=(e,o)=>{const n=JSON.stringify(o);window.localStorage.setItem(e,n),S(e,n)},g=e=>{window.localStorage.removeItem(e),S(e,null)},i=e=>window.localStorage.getItem(e),f=e=>(window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)),E=()=>{throw Error("useLocalStorage is a client-only hook")};function m(e,o){const n=()=>i(e),r=s.useSyncExternalStore(f,n,E),a=s.useCallback(c=>{try{const t=typeof c=="function"?c(JSON.parse(r)):c;t==null?g(e):l(e,t)}catch(t){console.warn(t)}},[e,r]);return s.useEffect(()=>{i(e)===null&&typeof o<"u"&&l(e,o)},[e,o]),[r?JSON.parse(r):o,a]}export{m as a,d as u};
