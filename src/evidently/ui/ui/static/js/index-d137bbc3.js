import{W as p,z as T,m as g,u as f,s as w,j as s,G as i,O as b,B as x,X as y,V as D,Y as L,Z as B,$ as d,a0 as t,a1 as R,L as $,o as A,x as C}from"./vendor-02afb4b2.js";import{u as I,T as S,H as k,D as v}from"./useUpdateQueryStringValueWithoutNavigation-9c6decb0.js";import{f as W}from"./index-e78924f4.js";import"./createSvgIcon-06a48a95.js";import"./ContentCopy-e384f394.js";const V={crumb:(l,{pathname:r})=>({to:r,linkText:"Reports"})},_=()=>{const{projectId:l}=p(),r=T(),h=g(),[j]=f(),[a,c]=w.useState(()=>{var e;return((e=j.get("tags"))==null?void 0:e.split(","))||[]});I("tags",a.join(","));const o=h.find(({id:e})=>e==="show-report-by-id"),u=o?[]:Array.from(new Set(r.flatMap(({tags:e})=>e))),m=r.filter(({tags:e})=>o?!1:a.length===0?!0:a.every(n=>e.includes(n)));return o?s.jsx(i,{container:!0,children:s.jsx(i,{item:!0,xs:12,children:s.jsx(b,{})})}):s.jsxs(s.Fragment,{children:[s.jsx(x,{sx:{padding:2},children:s.jsx(i,{container:!0,children:s.jsx(i,{item:!0,xs:12,md:6,children:s.jsx(y,{multiple:!0,limitTags:2,value:a,onChange:(e,n)=>c(n),options:u,renderInput:e=>s.jsx(D,{...e,variant:"standard",label:"Filter by Tags"})})})})}),s.jsxs(L,{children:[s.jsxs(B,{children:[s.jsxs(d,{children:[s.jsx(t,{children:"Report ID"}),s.jsx(t,{children:"Tags"}),s.jsx(t,{children:"Timestamp"}),s.jsx(t,{children:"Actions"})]}),s.jsx(d,{})]}),s.jsx(R,{children:m.map(e=>s.jsxs(d,{children:[s.jsx(t,{children:s.jsx(S,{showText:e.id,copyText:e.id})}),s.jsx(t,{children:s.jsx(x,{maxWidth:250,children:s.jsx(k,{onClick:n=>{a.includes(n)||c([...a,n])},tags:e.tags})})}),s.jsx(t,{children:W(new Date(Date.parse(e.timestamp)))}),s.jsxs(t,{children:[s.jsx($,{component:A,to:`${e.id}`,children:s.jsx(C,{children:"View"})}),s.jsx(v,{downloadLink:`/api/projects/${l}/${e.id}/download`})]})]},`r-${e.id}`))})]})]})};export{_ as Component,V as handle};
