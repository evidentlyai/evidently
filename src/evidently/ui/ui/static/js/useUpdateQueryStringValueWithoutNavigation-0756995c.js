import{R as f,j as e,m as w,a1 as C,a2 as v,P as g,aw as S,ai as b,aj as k,k as m,B as p,a8 as d,I as h}from"./vendor-fd719af2.js";import{r as R,i as L}from"./createSvgIcon-26a24a4a.js";import{d as _}from"./ContentCopy-164dcc5c.js";const y=[{title:"Download HTML",format:"html"},{title:"Download JSON",format:"json"}];function O(a){const[t,n]=f.useState(!1),r=f.useRef(null),s=(l,i)=>{window.open(`${l}?report_format=${i}`,"_blank"),n(!1)},o=()=>{n(l=>!l)},j=l=>{r.current&&r.current.contains(l.target)||n(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(w,{ref:r,color:"primary",size:"small","aria-controls":t?"split-button-menu":void 0,"aria-expanded":t?"true":void 0,"aria-label":"select merge strategy","aria-haspopup":"menu",onClick:o,children:"Download"}),e.jsx(C,{open:t,anchorEl:r.current,transition:!0,children:({TransitionProps:l,placement:i})=>e.jsx(v,{...l,style:{transformOrigin:i==="bottom"?"center top":"center bottom"},children:e.jsx(g,{children:e.jsx(S,{onClickAway:j,children:e.jsx(b,{id:"split-button-menu",children:y.map(c=>e.jsx(k,{onClick:()=>s(a.downloadLink,c.format),children:c.title},c.format))})})})})})]})}var u={},D=L;Object.defineProperty(u,"__esModule",{value:!0});var x=u.default=void 0,I=D(R()),B=e,M=(0,I.default)((0,B.jsx)("path",{d:"M18.3 5.71a.9959.9959 0 0 0-1.41 0L12 10.59 7.11 5.7a.9959.9959 0 0 0-1.41 0c-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"}),"CloseRounded");x=u.default=M;const $=({onClick:a,tags:t,limitTags:n=2})=>{const[r,s]=m.useState(!1);return e.jsxs(p,{display:"flex",alignContent:"center",flexWrap:"wrap",children:[t.slice(0,n).map(o=>e.jsx(d,{onClick:()=>a(o),label:o,style:{margin:3}},o)),r&&t.slice(n).map(o=>e.jsx(d,{onClick:()=>a(o),label:o,style:{margin:3}},o)),!r&&t.length>n&&e.jsx(d,{variant:"outlined",label:`+${t.length-n}`,style:{margin:3,borderColor:"grey"},onClick:()=>s(!0)},"+N"),t.length>0&&r&&e.jsx(h,{style:{margin:3},onClick:()=>s(!1),children:e.jsx(x,{fontSize:"small"})})]})},F=({showText:a,copyText:t})=>e.jsxs(p,{children:[a,e.jsx(h,{size:"small",style:{marginLeft:10},onClick:()=>navigator.clipboard.writeText(t),children:e.jsx(_,{fontSize:"small"})})]});function H(a,t){m.useEffect(()=>{const n=new URLSearchParams(window.location.search),r=n.get(a)??"";if(t===r)return;t?n.set(a,t):n.delete(a);const s=[window.location.pathname,n.toString()].filter(Boolean).join("?");window.history.replaceState(null,"",s)},[a,t])}export{O as D,$ as H,F as T,H as u};
